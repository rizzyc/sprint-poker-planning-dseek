var F1=Object.defineProperty;var j1=(n,t,e)=>t in n?F1(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var X=(n,t,e)=>j1(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();function Y1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rf={exports:{}},Fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function q1(){if(Ay)return Fo;Ay=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:n,type:i,key:c,ref:o!==void 0?o:null,props:l}}return Fo.Fragment=t,Fo.jsx=e,Fo.jsxs=e,Fo}var wy;function G1(){return wy||(wy=1,Rf.exports=q1()),Rf.exports}var Vt=G1(),Nf={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function W1(){if(Dy)return dt;Dy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=_&&M[_]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function T(M,j,nt){this.props=M,this.context=j,this.refs=E,this.updater=nt||v}T.prototype.isReactComponent={},T.prototype.setState=function(M,j){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,j,"setState")},T.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function D(){}D.prototype=T.prototype;function N(M,j,nt){this.props=M,this.context=j,this.refs=E,this.updater=nt||v}var H=N.prototype=new D;H.constructor=N,S(H,T.prototype),H.isPureReactComponent=!0;var P=Array.isArray,L={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function q(M,j,nt,et,Q,gt){return nt=gt.ref,{$$typeof:n,type:M,key:j,ref:nt!==void 0?nt:null,props:gt}}function W(M,j){return q(M.type,j,void 0,void 0,void 0,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function K(M){var j={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return j[nt]})}var st=/\/+/g;function rt(M,j){return typeof M=="object"&&M!==null&&M.key!=null?K(""+M.key):j.toString(36)}function Ot(){}function Wt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ot,Ot):(M.status="pending",M.then(function(j){M.status==="pending"&&(M.status="fulfilled",M.value=j)},function(j){M.status==="pending"&&(M.status="rejected",M.reason=j)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ut(M,j,nt,et,Q){var gt=typeof M;(gt==="undefined"||gt==="boolean")&&(M=null);var lt=!1;if(M===null)lt=!0;else switch(gt){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(M.$$typeof){case n:case t:lt=!0;break;case m:return lt=M._init,ut(lt(M._payload),j,nt,et,Q)}}if(lt)return Q=Q(M),lt=et===""?"."+rt(M,0):et,P(Q)?(nt="",lt!=null&&(nt=lt.replace(st,"$&/")+"/"),ut(Q,j,nt,"",function(se){return se})):Q!=null&&(V(Q)&&(Q=W(Q,nt+(Q.key==null||M&&M.key===Q.key?"":(""+Q.key).replace(st,"$&/")+"/")+lt)),j.push(Q)),1;lt=0;var Ne=et===""?".":et+":";if(P(M))for(var wt=0;wt<M.length;wt++)et=M[wt],gt=Ne+rt(et,wt),lt+=ut(et,j,nt,gt,Q);else if(wt=y(M),typeof wt=="function")for(M=wt.call(M),wt=0;!(et=M.next()).done;)et=et.value,gt=Ne+rt(et,wt++),lt+=ut(et,j,nt,gt,Q);else if(gt==="object"){if(typeof M.then=="function")return ut(Wt(M),j,nt,et,Q);throw j=String(M),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return lt}function F(M,j,nt){if(M==null)return M;var et=[],Q=0;return ut(M,et,"","",function(gt){return j.call(nt,gt,Q++)}),et}function Z(M){if(M._status===-1){var j=M._result;j=j(),j.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=j)}if(M._status===1)return M._result.default;throw M._result}var J=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ht(){}return dt.Children={map:F,forEach:function(M,j,nt){F(M,function(){j.apply(this,arguments)},nt)},count:function(M){var j=0;return F(M,function(){j++}),j},toArray:function(M){return F(M,function(j){return j})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},dt.Component=T,dt.Fragment=e,dt.Profiler=o,dt.PureComponent=N,dt.StrictMode=i,dt.Suspense=f,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,dt.act=function(){throw Error("act(...) is not supported in production builds of React.")},dt.cache=function(M){return function(){return M.apply(null,arguments)}},dt.cloneElement=function(M,j,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var et=S({},M.props),Q=M.key,gt=void 0;if(j!=null)for(lt in j.ref!==void 0&&(gt=void 0),j.key!==void 0&&(Q=""+j.key),j)!Y.call(j,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&j.ref===void 0||(et[lt]=j[lt]);var lt=arguments.length-2;if(lt===1)et.children=nt;else if(1<lt){for(var Ne=Array(lt),wt=0;wt<lt;wt++)Ne[wt]=arguments[wt+2];et.children=Ne}return q(M.type,Q,void 0,void 0,gt,et)},dt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},dt.createElement=function(M,j,nt){var et,Q={},gt=null;if(j!=null)for(et in j.key!==void 0&&(gt=""+j.key),j)Y.call(j,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(Q[et]=j[et]);var lt=arguments.length-2;if(lt===1)Q.children=nt;else if(1<lt){for(var Ne=Array(lt),wt=0;wt<lt;wt++)Ne[wt]=arguments[wt+2];Q.children=Ne}if(M&&M.defaultProps)for(et in lt=M.defaultProps,lt)Q[et]===void 0&&(Q[et]=lt[et]);return q(M,gt,void 0,void 0,null,Q)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(M){return{$$typeof:h,render:M}},dt.isValidElement=V,dt.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:Z}},dt.memo=function(M,j){return{$$typeof:g,type:M,compare:j===void 0?null:j}},dt.startTransition=function(M){var j=L.T,nt={};L.T=nt;try{var et=M(),Q=L.S;Q!==null&&Q(nt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(ht,J)}catch(gt){J(gt)}finally{L.T=j}},dt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},dt.use=function(M){return L.H.use(M)},dt.useActionState=function(M,j,nt){return L.H.useActionState(M,j,nt)},dt.useCallback=function(M,j){return L.H.useCallback(M,j)},dt.useContext=function(M){return L.H.useContext(M)},dt.useDebugValue=function(){},dt.useDeferredValue=function(M,j){return L.H.useDeferredValue(M,j)},dt.useEffect=function(M,j){return L.H.useEffect(M,j)},dt.useId=function(){return L.H.useId()},dt.useImperativeHandle=function(M,j,nt){return L.H.useImperativeHandle(M,j,nt)},dt.useInsertionEffect=function(M,j){return L.H.useInsertionEffect(M,j)},dt.useLayoutEffect=function(M,j){return L.H.useLayoutEffect(M,j)},dt.useMemo=function(M,j){return L.H.useMemo(M,j)},dt.useOptimistic=function(M,j){return L.H.useOptimistic(M,j)},dt.useReducer=function(M,j,nt){return L.H.useReducer(M,j,nt)},dt.useRef=function(M){return L.H.useRef(M)},dt.useState=function(M){return L.H.useState(M)},dt.useSyncExternalStore=function(M,j,nt){return L.H.useSyncExternalStore(M,j,nt)},dt.useTransition=function(){return L.H.useTransition()},dt.version="19.0.0",dt}var Oy;function Yd(){return Oy||(Oy=1,Nf.exports=W1()),Nf.exports}var me=Yd();const $v=Y1(me);var kf={exports:{}},jo={},Lf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function X1(){return Ry||(Ry=1,function(n){function t(F,Z){var J=F.length;F.push(Z);t:for(;0<J;){var ht=J-1>>>1,M=F[ht];if(0<o(M,Z))F[ht]=Z,F[J]=M,J=ht;else break t}}function e(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Z=F[0],J=F.pop();if(J!==Z){F[0]=J;t:for(var ht=0,M=F.length,j=M>>>1;ht<j;){var nt=2*(ht+1)-1,et=F[nt],Q=nt+1,gt=F[Q];if(0>o(et,J))Q<M&&0>o(gt,et)?(F[ht]=gt,F[Q]=J,ht=Q):(F[ht]=et,F[nt]=J,ht=nt);else if(Q<M&&0>o(gt,J))F[ht]=gt,F[Q]=J,ht=Q;else break t}}return Z}function o(F,Z){var J=F.sortIndex-Z.sortIndex;return J!==0?J:F.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],m=1,_=null,y=3,v=!1,S=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function H(F){for(var Z=e(g);Z!==null;){if(Z.callback===null)i(g);else if(Z.startTime<=F)i(g),Z.sortIndex=Z.expirationTime,t(f,Z);else break;Z=e(g)}}function P(F){if(E=!1,H(F),!S)if(e(f)!==null)S=!0,Wt();else{var Z=e(g);Z!==null&&ut(P,Z.startTime-F)}}var L=!1,Y=-1,q=5,W=-1;function V(){return!(n.unstable_now()-W<q)}function K(){if(L){var F=n.unstable_now();W=F;var Z=!0;try{t:{S=!1,E&&(E=!1,D(Y),Y=-1),v=!0;var J=y;try{e:{for(H(F),_=e(f);_!==null&&!(_.expirationTime>F&&V());){var ht=_.callback;if(typeof ht=="function"){_.callback=null,y=_.priorityLevel;var M=ht(_.expirationTime<=F);if(F=n.unstable_now(),typeof M=="function"){_.callback=M,H(F),Z=!0;break e}_===e(f)&&i(f),H(F)}else i(f);_=e(f)}if(_!==null)Z=!0;else{var j=e(g);j!==null&&ut(P,j.startTime-F),Z=!1}}break t}finally{_=null,y=J,v=!1}Z=void 0}}finally{Z?st():L=!1}}}var st;if(typeof N=="function")st=function(){N(K)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,Ot=rt.port2;rt.port1.onmessage=K,st=function(){Ot.postMessage(null)}}else st=function(){T(K,0)};function Wt(){L||(L=!0,st())}function ut(F,Z){Y=T(function(){F(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){S||v||(S=!0,Wt())},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return e(f)},n.unstable_next=function(F){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var J=y;y=Z;try{return F()}finally{y=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,Z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var J=y;y=F;try{return Z()}finally{y=J}},n.unstable_scheduleCallback=function(F,Z,J){var ht=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ht+J:ht):J=ht,F){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=J+M,F={id:m++,callback:Z,priorityLevel:F,startTime:J,expirationTime:M,sortIndex:-1},J>ht?(F.sortIndex=J,t(g,F),e(f)===null&&F===e(g)&&(E?(D(Y),Y=-1):E=!0,ut(P,J-ht))):(F.sortIndex=M,t(f,F),S||v||(S=!0,Wt())),F},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(F){var Z=y;return function(){var J=y;y=Z;try{return F.apply(this,arguments)}finally{y=J}}}}(zf)),zf}var Ny;function Q1(){return Ny||(Ny=1,Lf.exports=X1()),Lf.exports}var If={exports:{}},we={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function K1(){if(ky)return we;ky=1;var n=Yd();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,g,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:f,containerInfo:g,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return we.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,we.createPortal=function(f,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(f,g,null,m)},we.flushSync=function(f){var g=c.T,m=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=m,i.d.f()}},we.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},we.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},we.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var m=g.as,_=h(m,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,v=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:y,fetchPriority:v}):m==="script"&&i.d.X(f,{crossOrigin:_,integrity:y,fetchPriority:v,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},we.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},we.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,_=h(m,g.crossOrigin);i.d.L(f,m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},we.preloadModule=function(f,g){if(typeof f=="string")if(g){var m=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},we.requestFormReset=function(f){i.d.r(f)},we.unstable_batchedUpdates=function(f,g){return f(g)},we.useFormState=function(f,g,m){return c.H.useFormState(f,g,m)},we.useFormStatus=function(){return c.H.useHostTransitionStatus()},we.version="19.0.0",we}var Ly;function Z1(){if(Ly)return If.exports;Ly=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),If.exports=K1(),If.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function $1(){if(zy)return jo;zy=1;var n=Q1(),t=Yd(),e=Z1();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function Y(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var q=Symbol.for("react.client.reference");function W(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===q?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case f:return"Fragment";case h:return"Portal";case m:return"Profiler";case g:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case v:return(s.displayName||"Context")+".Provider";case y:return(s._context.displayName||"Context")+".Consumer";case S:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return a=s.displayName||null,a!==null?a:W(s.type)||"Memo";case N:a=s._payload,s=s._init;try{return W(s(a))}catch{}}return null}var V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=Object.assign,st,rt;function Ot(s){if(st===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);st=a&&a[1]||"",rt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+s+rt}var Wt=!1;function ut(s,a){if(!s||Wt)return"";Wt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(z){var k=z}Reflect.construct(s,[],U)}else{try{U.call()}catch(z){k=z}s.call(U.prototype)}}else{try{throw Error()}catch(z){k=z}(U=s())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(z){if(z&&k&&typeof z.stack=="string")return[z.stack,k.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],x=p[1];if(b&&x){var C=b.split(`
`),w=x.split(`
`);for(d=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;d<w.length&&!w[d].includes("DetermineComponentFrameRoot");)d++;if(u===C.length||d===w.length)for(u=C.length-1,d=w.length-1;1<=u&&0<=d&&C[u]!==w[d];)d--;for(;1<=u&&0<=d;u--,d--)if(C[u]!==w[d]){if(u!==1||d!==1)do if(u--,d--,0>d||C[u]!==w[d]){var I=`
`+C[u].replace(" at new "," at ");return s.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",s.displayName)),I}while(1<=u&&0<=d);break}}}finally{Wt=!1,Error.prepareStackTrace=r}return(r=s?s.displayName||s.name:"")?Ot(r):""}function F(s){switch(s.tag){case 26:case 27:case 5:return Ot(s.type);case 16:return Ot("Lazy");case 13:return Ot("Suspense");case 19:return Ot("SuspenseList");case 0:case 15:return s=ut(s.type,!1),s;case 11:return s=ut(s.type.render,!1),s;case 1:return s=ut(s.type,!0),s;default:return""}}function Z(s){try{var a="";do a+=F(s),s=s.return;while(s);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function J(s){var a=s,r=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(r=a.return),s=a.return;while(s)}return a.tag===3?r:null}function ht(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function M(s){if(J(s)!==s)throw Error(i(188))}function j(s){var a=s.alternate;if(!a){if(a=J(s),a===null)throw Error(i(188));return a!==s?null:s}for(var r=s,u=a;;){var d=r.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){r=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===r)return M(d),s;if(p===u)return M(d),a;p=p.sibling}throw Error(i(188))}if(r.return!==u.return)r=d,u=p;else{for(var b=!1,x=d.child;x;){if(x===r){b=!0,r=d,u=p;break}if(x===u){b=!0,u=d,r=p;break}x=x.sibling}if(!b){for(x=p.child;x;){if(x===r){b=!0,r=p,u=d;break}if(x===u){b=!0,u=p,r=d;break}x=x.sibling}if(!b)throw Error(i(189))}}if(r.alternate!==u)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?s:a}function nt(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=nt(s),a!==null)return a;s=s.sibling}return null}var et=Array.isArray,Q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},lt=[],Ne=-1;function wt(s){return{current:s}}function se(s){0>Ne||(s.current=lt[Ne],lt[Ne]=null,Ne--)}function Yt(s,a){Ne++,lt[Ne]=s.current,s.current=a}var Cn=wt(null),Ya=wt(null),ci=wt(null),Fl=wt(null);function jl(s,a){switch(Yt(ci,a),Yt(Ya,s),Yt(Cn,null),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?ny(a):0;break;default:if(s=s===8?a.parentNode:a,a=s.tagName,s=s.namespaceURI)s=ny(s),a=iy(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}se(Cn),Yt(Cn,a)}function Hs(){se(Cn),se(Ya),se(ci)}function Su(s){s.memoizedState!==null&&Yt(Fl,s);var a=Cn.current,r=iy(a,s.type);a!==r&&(Yt(Ya,s),Yt(Cn,r))}function Yl(s){Ya.current===s&&(se(Cn),se(Ya)),Fl.current===s&&(se(Fl),Bo._currentValue=gt)}var xu=Object.prototype.hasOwnProperty,Eu=n.unstable_scheduleCallback,Cu=n.unstable_cancelCallback,vx=n.unstable_shouldYield,Sx=n.unstable_requestPaint,Tn=n.unstable_now,xx=n.unstable_getCurrentPriorityLevel,qg=n.unstable_ImmediatePriority,Gg=n.unstable_UserBlockingPriority,ql=n.unstable_NormalPriority,Ex=n.unstable_LowPriority,Wg=n.unstable_IdlePriority,Cx=n.log,Tx=n.unstable_setDisableYieldValue,qa=null,je=null;function Mx(s){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(qa,s,void 0,(s.current.flags&128)===128)}catch{}}function ui(s){if(typeof Cx=="function"&&Tx(s),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(qa,s)}catch{}}var Ye=Math.clz32?Math.clz32:Dx,Ax=Math.log,wx=Math.LN2;function Dx(s){return s>>>=0,s===0?32:31-(Ax(s)/wx|0)|0}var Gl=128,Wl=4194304;function Qi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xl(s,a){var r=s.pendingLanes;if(r===0)return 0;var u=0,d=s.suspendedLanes,p=s.pingedLanes,b=s.warmLanes;s=s.finishedLanes!==0;var x=r&134217727;return x!==0?(r=x&~d,r!==0?u=Qi(r):(p&=x,p!==0?u=Qi(p):s||(b=x&~b,b!==0&&(u=Qi(b))))):(x=r&~d,x!==0?u=Qi(x):p!==0?u=Qi(p):s||(b=r&~b,b!==0&&(u=Qi(b)))),u===0?0:a!==0&&a!==u&&(a&d)===0&&(d=u&-u,b=a&-a,d>=b||d===32&&(b&4194176)!==0)?a:u}function Ga(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Ox(s,a){switch(s){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xg(){var s=Gl;return Gl<<=1,(Gl&4194176)===0&&(Gl=128),s}function Qg(){var s=Wl;return Wl<<=1,(Wl&62914560)===0&&(Wl=4194304),s}function Tu(s){for(var a=[],r=0;31>r;r++)a.push(s);return a}function Wa(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Rx(s,a,r,u,d,p){var b=s.pendingLanes;s.pendingLanes=r,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=r,s.entangledLanes&=r,s.errorRecoveryDisabledLanes&=r,s.shellSuspendCounter=0;var x=s.entanglements,C=s.expirationTimes,w=s.hiddenUpdates;for(r=b&~r;0<r;){var I=31-Ye(r),U=1<<I;x[I]=0,C[I]=-1;var k=w[I];if(k!==null)for(w[I]=null,I=0;I<k.length;I++){var z=k[I];z!==null&&(z.lane&=-536870913)}r&=~U}u!==0&&Kg(s,u,0),p!==0&&d===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~a))}function Kg(s,a,r){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-Ye(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|r&4194218}function Zg(s,a){var r=s.entangledLanes|=a;for(s=s.entanglements;r;){var u=31-Ye(r),d=1<<u;d&a|s[u]&a&&(s[u]|=a),r&=~d}}function $g(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Jg(){var s=Q.p;return s!==0?s:(s=window.event,s===void 0?32:Sy(s.type))}function Nx(s,a){var r=Q.p;try{return Q.p=s,a()}finally{Q.p=r}}var hi=Math.random().toString(36).slice(2),Me="__reactFiber$"+hi,Ie="__reactProps$"+hi,Ps="__reactContainer$"+hi,Mu="__reactEvents$"+hi,kx="__reactListeners$"+hi,Lx="__reactHandles$"+hi,tp="__reactResources$"+hi,Xa="__reactMarker$"+hi;function Au(s){delete s[Me],delete s[Ie],delete s[Mu],delete s[kx],delete s[Lx]}function Ki(s){var a=s[Me];if(a)return a;for(var r=s.parentNode;r;){if(a=r[Ps]||r[Me]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(s=oy(s);s!==null;){if(r=s[Me])return r;s=oy(s)}return a}s=r,r=s.parentNode}return null}function Us(s){if(s=s[Me]||s[Ps]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Qa(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Vs(s){var a=s[tp];return a||(a=s[tp]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function he(s){s[Xa]=!0}var ep=new Set,np={};function Zi(s,a){Fs(s,a),Fs(s+"Capture",a)}function Fs(s,a){for(np[s]=a,s=0;s<a.length;s++)ep.add(a[s])}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ip={},sp={};function Ix(s){return xu.call(sp,s)?!0:xu.call(ip,s)?!1:zx.test(s)?sp[s]=!0:(ip[s]=!0,!1)}function Ql(s,a,r){if(Ix(a))if(r===null)s.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+r)}}function Kl(s,a,r){if(r===null)s.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+r)}}function In(s,a,r,u){if(u===null)s.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttributeNS(a,r,""+u)}}function $e(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ap(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Bx(s){var a=ap(s)?"checked":"value",r=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,p=r.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,p.call(this,b)}}),Object.defineProperty(s,a,{enumerable:r.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Zl(s){s._valueTracker||(s._valueTracker=Bx(s))}function op(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var r=a.getValue(),u="";return s&&(u=ap(s)?s.checked?"true":"false":s.value),s=u,s!==r?(a.setValue(s),!0):!1}function $l(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Hx=/[\n"\\]/g;function Je(s){return s.replace(Hx,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function wu(s,a,r,u,d,p,b,x){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),a!=null?b==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+$e(a)):s.value!==""+$e(a)&&(s.value=""+$e(a)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),a!=null?Du(s,b,$e(a)):r!=null?Du(s,b,$e(r)):u!=null&&s.removeAttribute("value"),d==null&&p!=null&&(s.defaultChecked=!!p),d!=null&&(s.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.name=""+$e(x):s.removeAttribute("name")}function lp(s,a,r,u,d,p,b,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||r!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;r=r!=null?""+$e(r):"",a=a!=null?""+$e(a):r,x||a===s.value||(s.value=a),s.defaultValue=a}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=x?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b)}function Du(s,a,r){a==="number"&&$l(s.ownerDocument)===s||s.defaultValue===""+r||(s.defaultValue=""+r)}function js(s,a,r,u){if(s=s.options,a){a={};for(var d=0;d<r.length;d++)a["$"+r[d]]=!0;for(r=0;r<s.length;r++)d=a.hasOwnProperty("$"+s[r].value),s[r].selected!==d&&(s[r].selected=d),d&&u&&(s[r].defaultSelected=!0)}else{for(r=""+$e(r),a=null,d=0;d<s.length;d++){if(s[d].value===r){s[d].selected=!0,u&&(s[d].defaultSelected=!0);return}a!==null||s[d].disabled||(a=s[d])}a!==null&&(a.selected=!0)}}function rp(s,a,r){if(a!=null&&(a=""+$e(a),a!==s.value&&(s.value=a),r==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=r!=null?""+$e(r):""}function cp(s,a,r,u){if(a==null){if(u!=null){if(r!=null)throw Error(i(92));if(et(u)){if(1<u.length)throw Error(i(93));u=u[0]}r=u}r==null&&(r=""),a=r}r=$e(a),s.defaultValue=r,u=s.textContent,u===r&&u!==""&&u!==null&&(s.value=u)}function Ys(s,a){if(a){var r=s.firstChild;if(r&&r===s.lastChild&&r.nodeType===3){r.nodeValue=a;return}}s.textContent=a}var Px=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function up(s,a,r){var u=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,r):typeof r!="number"||r===0||Px.has(a)?a==="float"?s.cssFloat=r:s[a]=(""+r).trim():s[a]=r+"px"}function hp(s,a,r){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var d in a)u=a[d],a.hasOwnProperty(d)&&r[d]!==u&&up(s,d,u)}else for(var p in a)a.hasOwnProperty(p)&&up(s,p,a[p])}function Ou(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ux=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jl(s){return Vx.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ru=null;function Nu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qs=null,Gs=null;function fp(s){var a=Us(s);if(a&&(s=a.stateNode)){var r=s[Ie]||null;t:switch(s=a.stateNode,a.type){case"input":if(wu(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=s;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Je(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var u=r[a];if(u!==s&&u.form===s.form){var d=u[Ie]||null;if(!d)throw Error(i(90));wu(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<r.length;a++)u=r[a],u.form===s.form&&op(u)}break t;case"textarea":rp(s,r.value,r.defaultValue);break t;case"select":a=r.value,a!=null&&js(s,!!r.multiple,a,!1)}}}var ku=!1;function dp(s,a,r){if(ku)return s(a,r);ku=!0;try{var u=s(a);return u}finally{if(ku=!1,(qs!==null||Gs!==null)&&(Ir(),qs&&(a=qs,s=Gs,Gs=qs=null,fp(a),s)))for(a=0;a<s.length;a++)fp(s[a])}}function Ka(s,a){var r=s.stateNode;if(r===null)return null;var u=r[Ie]||null;if(u===null)return null;r=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(r&&typeof r!="function")throw Error(i(231,a,typeof r));return r}var Lu=!1;if(zn)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){Lu=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{Lu=!1}var fi=null,zu=null,tr=null;function gp(){if(tr)return tr;var s,a=zu,r=a.length,u,d="value"in fi?fi.value:fi.textContent,p=d.length;for(s=0;s<r&&a[s]===d[s];s++);var b=r-s;for(u=1;u<=b&&a[r-u]===d[p-u];u++);return tr=d.slice(s,1<u?1-u:void 0)}function er(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function nr(){return!0}function pp(){return!1}function Be(s){function a(r,u,d,p,b){this._reactName=r,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var x in s)s.hasOwnProperty(x)&&(r=s[x],this[x]=r?r(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?nr:pp,this.isPropagationStopped=pp,this}return K(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),a}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ir=Be($i),$a=K({},$i,{view:0,detail:0}),Fx=Be($a),Iu,Bu,Ja,sr=K({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ja&&(Ja&&s.type==="mousemove"?(Iu=s.screenX-Ja.screenX,Bu=s.screenY-Ja.screenY):Bu=Iu=0,Ja=s),Iu)},movementY:function(s){return"movementY"in s?s.movementY:Bu}}),mp=Be(sr),jx=K({},sr,{dataTransfer:0}),Yx=Be(jx),qx=K({},$a,{relatedTarget:0}),Hu=Be(qx),Gx=K({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Wx=Be(Gx),Xx=K({},$i,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qx=Be(Xx),Kx=K({},$i,{data:0}),_p=Be(Kx),Zx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$x={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tE(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Jx[s])?!!a[s]:!1}function Pu(){return tE}var eE=K({},$a,{key:function(s){if(s.key){var a=Zx[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=er(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?$x[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pu,charCode:function(s){return s.type==="keypress"?er(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?er(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),nE=Be(eE),iE=K({},sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yp=Be(iE),sE=K({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pu}),aE=Be(sE),oE=K({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),lE=Be(oE),rE=K({},sr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),cE=Be(rE),uE=K({},$i,{newState:0,oldState:0}),hE=Be(uE),fE=[9,13,27,32],Uu=zn&&"CompositionEvent"in window,to=null;zn&&"documentMode"in document&&(to=document.documentMode);var dE=zn&&"TextEvent"in window&&!to,bp=zn&&(!Uu||to&&8<to&&11>=to),vp=" ",Sp=!1;function xp(s,a){switch(s){case"keyup":return fE.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ep(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ws=!1;function gE(s,a){switch(s){case"compositionend":return Ep(a);case"keypress":return a.which!==32?null:(Sp=!0,vp);case"textInput":return s=a.data,s===vp&&Sp?null:s;default:return null}}function pE(s,a){if(Ws)return s==="compositionend"||!Uu&&xp(s,a)?(s=gp(),tr=zu=fi=null,Ws=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return bp&&a.locale!=="ko"?null:a.data;default:return null}}var mE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!mE[s.type]:a==="textarea"}function Tp(s,a,r,u){qs?Gs?Gs.push(u):Gs=[u]:qs=u,a=Vr(a,"onChange"),0<a.length&&(r=new ir("onChange","change",null,r,u),s.push({event:r,listeners:a}))}var eo=null,no=null;function _E(s){Z_(s,0)}function ar(s){var a=Qa(s);if(op(a))return s}function Mp(s,a){if(s==="change")return a}var Ap=!1;if(zn){var Vu;if(zn){var Fu="oninput"in document;if(!Fu){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),Fu=typeof wp.oninput=="function"}Vu=Fu}else Vu=!1;Ap=Vu&&(!document.documentMode||9<document.documentMode)}function Dp(){eo&&(eo.detachEvent("onpropertychange",Op),no=eo=null)}function Op(s){if(s.propertyName==="value"&&ar(no)){var a=[];Tp(a,no,s,Nu(s)),dp(_E,a)}}function yE(s,a,r){s==="focusin"?(Dp(),eo=a,no=r,eo.attachEvent("onpropertychange",Op)):s==="focusout"&&Dp()}function bE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ar(no)}function vE(s,a){if(s==="click")return ar(a)}function SE(s,a){if(s==="input"||s==="change")return ar(a)}function xE(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var qe=typeof Object.is=="function"?Object.is:xE;function io(s,a){if(qe(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var r=Object.keys(s),u=Object.keys(a);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var d=r[u];if(!xu.call(a,d)||!qe(s[d],a[d]))return!1}return!0}function Rp(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Np(s,a){var r=Rp(s);s=0;for(var u;r;){if(r.nodeType===3){if(u=s+r.textContent.length,s<=a&&u>=a)return{node:r,offset:a-s};s=u}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Rp(r)}}function kp(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?kp(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Lp(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=$l(s.document);a instanceof s.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)s=a.contentWindow;else break;a=$l(s.document)}return a}function ju(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function EE(s,a){var r=Lp(a);a=s.focusedElem;var u=s.selectionRange;if(r!==a&&a&&a.ownerDocument&&kp(a.ownerDocument.documentElement,a)){if(u!==null&&ju(a)){if(s=u.start,r=u.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!r.extend&&p>u&&(d=u,u=p,p=d),d=Np(a,p);var b=Np(a,u);d&&b&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==b.node||r.focusOffset!==b.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),p>u?(r.addRange(s),r.extend(b.node,b.offset)):(s.setEnd(b.node,b.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var CE=zn&&"documentMode"in document&&11>=document.documentMode,Xs=null,Yu=null,so=null,qu=!1;function zp(s,a,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qu||Xs==null||Xs!==$l(u)||(u=Xs,"selectionStart"in u&&ju(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),so&&io(so,u)||(so=u,u=Vr(Yu,"onSelect"),0<u.length&&(a=new ir("onSelect","select",null,a,r),s.push({event:a,listeners:u}),a.target=Xs)))}function Ji(s,a){var r={};return r[s.toLowerCase()]=a.toLowerCase(),r["Webkit"+s]="webkit"+a,r["Moz"+s]="moz"+a,r}var Qs={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},Gu={},Ip={};zn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function ts(s){if(Gu[s])return Gu[s];if(!Qs[s])return s;var a=Qs[s],r;for(r in a)if(a.hasOwnProperty(r)&&r in Ip)return Gu[s]=a[r];return s}var Bp=ts("animationend"),Hp=ts("animationiteration"),Pp=ts("animationstart"),TE=ts("transitionrun"),ME=ts("transitionstart"),AE=ts("transitioncancel"),Up=ts("transitionend"),Vp=new Map,Fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function dn(s,a){Vp.set(s,a),Zi(a,[s])}var tn=[],Ks=0,Wu=0;function or(){for(var s=Ks,a=Wu=Ks=0;a<s;){var r=tn[a];tn[a++]=null;var u=tn[a];tn[a++]=null;var d=tn[a];tn[a++]=null;var p=tn[a];if(tn[a++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}p!==0&&jp(r,d,p)}}function lr(s,a,r,u){tn[Ks++]=s,tn[Ks++]=a,tn[Ks++]=r,tn[Ks++]=u,Wu|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Xu(s,a,r,u){return lr(s,a,r,u),rr(s)}function di(s,a){return lr(s,null,null,a),rr(s)}function jp(s,a,r){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r);for(var d=!1,p=s.return;p!==null;)p.childLanes|=r,u=p.alternate,u!==null&&(u.childLanes|=r),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(d=!0)),s=p,p=p.return;d&&a!==null&&s.tag===3&&(p=s.stateNode,d=31-Ye(r),p=p.hiddenUpdates,s=p[d],s===null?p[d]=[a]:s.push(a),a.lane=r|536870912)}function rr(s){if(50<Oo)throw Oo=0,tf=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Zs={},Yp=new WeakMap;function en(s,a){if(typeof s=="object"&&s!==null){var r=Yp.get(s);return r!==void 0?r:(a={value:s,source:a,stack:Z(a)},Yp.set(s,a),a)}return{value:s,source:a,stack:Z(a)}}var $s=[],Js=0,cr=null,ur=0,nn=[],sn=0,es=null,Bn=1,Hn="";function ns(s,a){$s[Js++]=ur,$s[Js++]=cr,cr=s,ur=a}function qp(s,a,r){nn[sn++]=Bn,nn[sn++]=Hn,nn[sn++]=es,es=s;var u=Bn;s=Hn;var d=32-Ye(u)-1;u&=~(1<<d),r+=1;var p=32-Ye(a)+d;if(30<p){var b=d-d%5;p=(u&(1<<b)-1).toString(32),u>>=b,d-=b,Bn=1<<32-Ye(a)+d|r<<d|u,Hn=p+s}else Bn=1<<p|r<<d|u,Hn=s}function Qu(s){s.return!==null&&(ns(s,1),qp(s,1,0))}function Ku(s){for(;s===cr;)cr=$s[--Js],$s[Js]=null,ur=$s[--Js],$s[Js]=null;for(;s===es;)es=nn[--sn],nn[sn]=null,Hn=nn[--sn],nn[sn]=null,Bn=nn[--sn],nn[sn]=null}var ke=null,Se=null,Tt=!1,gn=null,Mn=!1,Zu=Error(i(519));function is(s){var a=Error(i(418,""));throw lo(en(a,s)),Zu}function Gp(s){var a=s.stateNode,r=s.type,u=s.memoizedProps;switch(a[Me]=s,a[Ie]=u,r){case"dialog":Et("cancel",a),Et("close",a);break;case"iframe":case"object":case"embed":Et("load",a);break;case"video":case"audio":for(r=0;r<No.length;r++)Et(No[r],a);break;case"source":Et("error",a);break;case"img":case"image":case"link":Et("error",a),Et("load",a);break;case"details":Et("toggle",a);break;case"input":Et("invalid",a),lp(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Zl(a);break;case"select":Et("invalid",a);break;case"textarea":Et("invalid",a),cp(a,u.value,u.defaultValue,u.children),Zl(a)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||u.suppressHydrationWarning===!0||ey(a.textContent,r)?(u.popover!=null&&(Et("beforetoggle",a),Et("toggle",a)),u.onScroll!=null&&Et("scroll",a),u.onScrollEnd!=null&&Et("scrollend",a),u.onClick!=null&&(a.onclick=Fr),a=!0):a=!1,a||is(s)}function Wp(s){for(ke=s.return;ke;)switch(ke.tag){case 3:case 27:Mn=!0;return;case 5:case 13:Mn=!1;return;default:ke=ke.return}}function ao(s){if(s!==ke)return!1;if(!Tt)return Wp(s),Tt=!0,!1;var a=!1,r;if((r=s.tag!==3&&s.tag!==27)&&((r=s.tag===5)&&(r=s.type,r=!(r!=="form"&&r!=="button")||yf(s.type,s.memoizedProps)),r=!r),r&&(a=!0),a&&Se&&is(s),Wp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(r=s.data,r==="/$"){if(a===0){Se=mn(s.nextSibling);break t}a--}else r!=="$"&&r!=="$!"&&r!=="$?"||a++;s=s.nextSibling}Se=null}}else Se=ke?mn(s.stateNode.nextSibling):null;return!0}function oo(){Se=ke=null,Tt=!1}function lo(s){gn===null?gn=[s]:gn.push(s)}var ro=Error(i(460)),Xp=Error(i(474)),$u={then:function(){}};function Qp(s){return s=s.status,s==="fulfilled"||s==="rejected"}function hr(){}function Kp(s,a,r){switch(r=s[r],r===void 0?s.push(a):r!==a&&(a.then(hr,hr),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===ro?Error(i(483)):s;default:if(typeof a.status=="string")a.then(hr,hr);else{if(s=zt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=u}},function(u){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===ro?Error(i(483)):s}throw co=a,ro}}var co=null;function Zp(){if(co===null)throw Error(i(459));var s=co;return co=null,s}var ta=null,uo=0;function fr(s){var a=uo;return uo+=1,ta===null&&(ta=[]),Kp(ta,s,a)}function ho(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function dr(s,a){throw a.$$typeof===l?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function $p(s){var a=s._init;return a(s._payload)}function Jp(s){function a(O,A){if(s){var R=O.deletions;R===null?(O.deletions=[A],O.flags|=16):R.push(A)}}function r(O,A){if(!s)return null;for(;A!==null;)a(O,A),A=A.sibling;return null}function u(O){for(var A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function d(O,A){return O=Ti(O,A),O.index=0,O.sibling=null,O}function p(O,A,R){return O.index=R,s?(R=O.alternate,R!==null?(R=R.index,R<A?(O.flags|=33554434,A):R):(O.flags|=33554434,A)):(O.flags|=1048576,A)}function b(O){return s&&O.alternate===null&&(O.flags|=33554434),O}function x(O,A,R,B){return A===null||A.tag!==6?(A=Gh(R,O.mode,B),A.return=O,A):(A=d(A,R),A.return=O,A)}function C(O,A,R,B){var $=R.type;return $===f?I(O,A,R.props.children,B,R.key):A!==null&&(A.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===N&&$p($)===A.type)?(A=d(A,R.props),ho(A,R),A.return=O,A):(A=Rr(R.type,R.key,R.props,null,O.mode,B),ho(A,R),A.return=O,A)}function w(O,A,R,B){return A===null||A.tag!==4||A.stateNode.containerInfo!==R.containerInfo||A.stateNode.implementation!==R.implementation?(A=Wh(R,O.mode,B),A.return=O,A):(A=d(A,R.children||[]),A.return=O,A)}function I(O,A,R,B,$){return A===null||A.tag!==7?(A=ds(R,O.mode,B,$),A.return=O,A):(A=d(A,R),A.return=O,A)}function U(O,A,R){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Gh(""+A,O.mode,R),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case c:return R=Rr(A.type,A.key,A.props,null,O.mode,R),ho(R,A),R.return=O,R;case h:return A=Wh(A,O.mode,R),A.return=O,A;case N:var B=A._init;return A=B(A._payload),U(O,A,R)}if(et(A)||Y(A))return A=ds(A,O.mode,R,null),A.return=O,A;if(typeof A.then=="function")return U(O,fr(A),R);if(A.$$typeof===v)return U(O,wr(O,A),R);dr(O,A)}return null}function k(O,A,R,B){var $=A!==null?A.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return $!==null?null:x(O,A,""+R,B);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case c:return R.key===$?C(O,A,R,B):null;case h:return R.key===$?w(O,A,R,B):null;case N:return $=R._init,R=$(R._payload),k(O,A,R,B)}if(et(R)||Y(R))return $!==null?null:I(O,A,R,B,null);if(typeof R.then=="function")return k(O,A,fr(R),B);if(R.$$typeof===v)return k(O,A,wr(O,R),B);dr(O,R)}return null}function z(O,A,R,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return O=O.get(R)||null,x(A,O,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case c:return O=O.get(B.key===null?R:B.key)||null,C(A,O,B,$);case h:return O=O.get(B.key===null?R:B.key)||null,w(A,O,B,$);case N:var mt=B._init;return B=mt(B._payload),z(O,A,R,B,$)}if(et(B)||Y(B))return O=O.get(R)||null,I(A,O,B,$,null);if(typeof B.then=="function")return z(O,A,R,fr(B),$);if(B.$$typeof===v)return z(O,A,R,wr(A,B),$);dr(A,B)}return null}function tt(O,A,R,B){for(var $=null,mt=null,it=A,at=A=0,ge=null;it!==null&&at<R.length;at++){it.index>at?(ge=it,it=null):ge=it.sibling;var Mt=k(O,it,R[at],B);if(Mt===null){it===null&&(it=ge);break}s&&it&&Mt.alternate===null&&a(O,it),A=p(Mt,A,at),mt===null?$=Mt:mt.sibling=Mt,mt=Mt,it=ge}if(at===R.length)return r(O,it),Tt&&ns(O,at),$;if(it===null){for(;at<R.length;at++)it=U(O,R[at],B),it!==null&&(A=p(it,A,at),mt===null?$=it:mt.sibling=it,mt=it);return Tt&&ns(O,at),$}for(it=u(it);at<R.length;at++)ge=z(it,O,at,R[at],B),ge!==null&&(s&&ge.alternate!==null&&it.delete(ge.key===null?at:ge.key),A=p(ge,A,at),mt===null?$=ge:mt.sibling=ge,mt=ge);return s&&it.forEach(function(Ni){return a(O,Ni)}),Tt&&ns(O,at),$}function ct(O,A,R,B){if(R==null)throw Error(i(151));for(var $=null,mt=null,it=A,at=A=0,ge=null,Mt=R.next();it!==null&&!Mt.done;at++,Mt=R.next()){it.index>at?(ge=it,it=null):ge=it.sibling;var Ni=k(O,it,Mt.value,B);if(Ni===null){it===null&&(it=ge);break}s&&it&&Ni.alternate===null&&a(O,it),A=p(Ni,A,at),mt===null?$=Ni:mt.sibling=Ni,mt=Ni,it=ge}if(Mt.done)return r(O,it),Tt&&ns(O,at),$;if(it===null){for(;!Mt.done;at++,Mt=R.next())Mt=U(O,Mt.value,B),Mt!==null&&(A=p(Mt,A,at),mt===null?$=Mt:mt.sibling=Mt,mt=Mt);return Tt&&ns(O,at),$}for(it=u(it);!Mt.done;at++,Mt=R.next())Mt=z(it,O,at,Mt.value,B),Mt!==null&&(s&&Mt.alternate!==null&&it.delete(Mt.key===null?at:Mt.key),A=p(Mt,A,at),mt===null?$=Mt:mt.sibling=Mt,mt=Mt);return s&&it.forEach(function(V1){return a(O,V1)}),Tt&&ns(O,at),$}function $t(O,A,R,B){if(typeof R=="object"&&R!==null&&R.type===f&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case c:t:{for(var $=R.key;A!==null;){if(A.key===$){if($=R.type,$===f){if(A.tag===7){r(O,A.sibling),B=d(A,R.props.children),B.return=O,O=B;break t}}else if(A.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===N&&$p($)===A.type){r(O,A.sibling),B=d(A,R.props),ho(B,R),B.return=O,O=B;break t}r(O,A);break}else a(O,A);A=A.sibling}R.type===f?(B=ds(R.props.children,O.mode,B,R.key),B.return=O,O=B):(B=Rr(R.type,R.key,R.props,null,O.mode,B),ho(B,R),B.return=O,O=B)}return b(O);case h:t:{for($=R.key;A!==null;){if(A.key===$)if(A.tag===4&&A.stateNode.containerInfo===R.containerInfo&&A.stateNode.implementation===R.implementation){r(O,A.sibling),B=d(A,R.children||[]),B.return=O,O=B;break t}else{r(O,A);break}else a(O,A);A=A.sibling}B=Wh(R,O.mode,B),B.return=O,O=B}return b(O);case N:return $=R._init,R=$(R._payload),$t(O,A,R,B)}if(et(R))return tt(O,A,R,B);if(Y(R)){if($=Y(R),typeof $!="function")throw Error(i(150));return R=$.call(R),ct(O,A,R,B)}if(typeof R.then=="function")return $t(O,A,fr(R),B);if(R.$$typeof===v)return $t(O,A,wr(O,R),B);dr(O,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,A!==null&&A.tag===6?(r(O,A.sibling),B=d(A,R),B.return=O,O=B):(r(O,A),B=Gh(R,O.mode,B),B.return=O,O=B),b(O)):r(O,A)}return function(O,A,R,B){try{uo=0;var $=$t(O,A,R,B);return ta=null,$}catch(it){if(it===ro)throw it;var mt=rn(29,it,null,O.mode);return mt.lanes=B,mt.return=O,mt}finally{}}}var ss=Jp(!0),tm=Jp(!1),ea=wt(null),gr=wt(0);function em(s,a){s=Qn,Yt(gr,s),Yt(ea,a),Qn=s|a.baseLanes}function Ju(){Yt(gr,Qn),Yt(ea,ea.current)}function th(){Qn=gr.current,se(ea),se(gr)}var an=wt(null),An=null;function gi(s){var a=s.alternate;Yt(re,re.current&1),Yt(an,s),An===null&&(a===null||ea.current!==null||a.memoizedState!==null)&&(An=s)}function nm(s){if(s.tag===22){if(Yt(re,re.current),Yt(an,s),An===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(An=s)}}else pi()}function pi(){Yt(re,re.current),Yt(an,an.current)}function Pn(s){se(an),An===s&&(An=null),se(re)}var re=wt(0);function pr(s){for(var a=s;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var wE=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(r,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(r){return r()})}},DE=n.unstable_scheduleCallback,OE=n.unstable_NormalPriority,ce={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new wE,data:new Map,refCount:0}}function fo(s){s.refCount--,s.refCount===0&&DE(OE,function(){s.controller.abort()})}var go=null,nh=0,na=0,ia=null;function RE(s,a){if(go===null){var r=go=[];nh=0,na=cf(),ia={status:"pending",value:void 0,then:function(u){r.push(u)}}}return nh++,a.then(im,im),a}function im(){if(--nh===0&&go!==null){ia!==null&&(ia.status="fulfilled");var s=go;go=null,na=0,ia=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function NE(s,a){var r=[],u={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var d=0;d<r.length;d++)(0,r[d])(a)},function(d){for(u.status="rejected",u.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),u}var sm=V.S;V.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&RE(s,a),sm!==null&&sm(s,a)};var as=wt(null);function ih(){var s=as.current;return s!==null?s:zt.pooledCache}function mr(s,a){a===null?Yt(as,as.current):Yt(as,a.pool)}function am(){var s=ih();return s===null?null:{parent:ce._currentValue,pool:s}}var mi=0,pt=null,Rt=null,ae=null,_r=!1,sa=!1,os=!1,yr=0,po=0,aa=null,kE=0;function ne(){throw Error(i(321))}function sh(s,a){if(a===null)return!1;for(var r=0;r<a.length&&r<s.length;r++)if(!qe(s[r],a[r]))return!1;return!0}function ah(s,a,r,u,d,p){return mi=p,pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,V.H=s===null||s.memoizedState===null?ls:_i,os=!1,p=r(u,d),os=!1,sa&&(p=lm(a,r,u,d)),om(s),p}function om(s){V.H=wn;var a=Rt!==null&&Rt.next!==null;if(mi=0,ae=Rt=pt=null,_r=!1,po=0,aa=null,a)throw Error(i(300));s===null||fe||(s=s.dependencies,s!==null&&Ar(s)&&(fe=!0))}function lm(s,a,r,u){pt=s;var d=0;do{if(sa&&(aa=null),po=0,sa=!1,25<=d)throw Error(i(301));if(d+=1,ae=Rt=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}V.H=rs,p=a(r,u)}while(sa);return p}function LE(){var s=V.H,a=s.useState()[0];return a=typeof a.then=="function"?mo(a):a,s=s.useState()[0],(Rt!==null?Rt.memoizedState:null)!==s&&(pt.flags|=1024),a}function oh(){var s=yr!==0;return yr=0,s}function lh(s,a,r){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~r}function rh(s){if(_r){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}_r=!1}mi=0,ae=Rt=pt=null,sa=!1,po=yr=0,aa=null}function He(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?pt.memoizedState=ae=s:ae=ae.next=s,ae}function oe(){if(Rt===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var a=ae===null?pt.memoizedState:ae.next;if(a!==null)ae=a,Rt=s;else{if(s===null)throw pt.alternate===null?Error(i(467)):Error(i(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},ae===null?pt.memoizedState=ae=s:ae=ae.next=s}return ae}var br;br=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function mo(s){var a=po;return po+=1,aa===null&&(aa=[]),s=Kp(aa,s,a),a=pt,(ae===null?a.memoizedState:ae.next)===null&&(a=a.alternate,V.H=a===null||a.memoizedState===null?ls:_i),s}function vr(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return mo(s);if(s.$$typeof===v)return Ae(s)}throw Error(i(438,String(s)))}function ch(s){var a=null,r=pt.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var u=pt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=br(),pt.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(s),u=0;u<s;u++)r[u]=P;return a.index++,r}function Un(s,a){return typeof a=="function"?a(s):a}function Sr(s){var a=oe();return uh(a,Rt,s)}function uh(s,a,r){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var d=s.baseQueue,p=u.pending;if(p!==null){if(d!==null){var b=d.next;d.next=p.next,p.next=b}a.baseQueue=d=p,u.pending=null}if(p=s.baseState,d===null)s.memoizedState=p;else{a=d.next;var x=b=null,C=null,w=a,I=!1;do{var U=w.lane&-536870913;if(U!==w.lane?(Ct&U)===U:(mi&U)===U){var k=w.revertLane;if(k===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),U===na&&(I=!0);else if((mi&k)===k){w=w.next,k===na&&(I=!0);continue}else U={lane:0,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},C===null?(x=C=U,b=p):C=C.next=U,pt.lanes|=k,Mi|=k;U=w.action,os&&r(p,U),p=w.hasEagerState?w.eagerState:r(p,U)}else k={lane:U,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},C===null?(x=C=k,b=p):C=C.next=k,pt.lanes|=U,Mi|=U;w=w.next}while(w!==null&&w!==a);if(C===null?b=p:C.next=x,!qe(p,s.memoizedState)&&(fe=!0,I&&(r=ia,r!==null)))throw r;s.memoizedState=p,s.baseState=b,s.baseQueue=C,u.lastRenderedState=p}return d===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function hh(s){var a=oe(),r=a.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=s;var u=r.dispatch,d=r.pending,p=a.memoizedState;if(d!==null){r.pending=null;var b=d=d.next;do p=s(p,b.action),b=b.next;while(b!==d);qe(p,a.memoizedState)||(fe=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),r.lastRenderedState=p}return[p,u]}function rm(s,a,r){var u=pt,d=oe(),p=Tt;if(p){if(r===void 0)throw Error(i(407));r=r()}else r=a();var b=!qe((Rt||d).memoizedState,r);if(b&&(d.memoizedState=r,fe=!0),d=d.queue,gh(hm.bind(null,u,d,s),[s]),d.getSnapshot!==a||b||ae!==null&&ae.memoizedState.tag&1){if(u.flags|=2048,oa(9,um.bind(null,u,d,r,a),{destroy:void 0},null),zt===null)throw Error(i(349));p||(mi&60)!==0||cm(u,a,r)}return r}function cm(s,a,r){s.flags|=16384,s={getSnapshot:a,value:r},a=pt.updateQueue,a===null?(a=br(),pt.updateQueue=a,a.stores=[s]):(r=a.stores,r===null?a.stores=[s]:r.push(s))}function um(s,a,r,u){a.value=r,a.getSnapshot=u,fm(a)&&dm(s)}function hm(s,a,r){return r(function(){fm(a)&&dm(s)})}function fm(s){var a=s.getSnapshot;s=s.value;try{var r=a();return!qe(s,r)}catch{return!0}}function dm(s){var a=di(s,2);a!==null&&Le(a,s,2)}function fh(s){var a=He();if(typeof s=="function"){var r=s;if(s=r(),os){ui(!0);try{r()}finally{ui(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:s},a}function gm(s,a,r,u){return s.baseState=r,uh(s,Rt,typeof u=="function"?u:Un)}function zE(s,a,r,u,d){if(Cr(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:d,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};V.T!==null?r(!0):p.isTransition=!1,u(p),r=a.pending,r===null?(p.next=a.pending=p,pm(a,p)):(p.next=r.next,a.pending=r.next=p)}}function pm(s,a){var r=a.action,u=a.payload,d=s.state;if(a.isTransition){var p=V.T,b={};V.T=b;try{var x=r(d,u),C=V.S;C!==null&&C(b,x),mm(s,a,x)}catch(w){dh(s,a,w)}finally{V.T=p}}else try{p=r(d,u),mm(s,a,p)}catch(w){dh(s,a,w)}}function mm(s,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){_m(s,a,u)},function(u){return dh(s,a,u)}):_m(s,a,r)}function _m(s,a,r){a.status="fulfilled",a.value=r,ym(a),s.state=r,a=s.pending,a!==null&&(r=a.next,r===a?s.pending=null:(r=r.next,a.next=r,pm(s,r)))}function dh(s,a,r){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=r,ym(a),a=a.next;while(a!==u)}s.action=null}function ym(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function bm(s,a){return a}function vm(s,a){if(Tt){var r=zt.formState;if(r!==null){t:{var u=pt;if(Tt){if(Se){e:{for(var d=Se,p=Mn;d.nodeType!==8;){if(!p){d=null;break e}if(d=mn(d.nextSibling),d===null){d=null;break e}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Se=mn(d.nextSibling),u=d.data==="F!";break t}}is(u)}u=!1}u&&(a=r[0])}}return r=He(),r.memoizedState=r.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bm,lastRenderedState:a},r.queue=u,r=Hm.bind(null,pt,u),u.dispatch=r,u=fh(!1),p=bh.bind(null,pt,!1,u.queue),u=He(),d={state:a,dispatch:null,action:s,pending:null},u.queue=d,r=zE.bind(null,pt,d,p,r),d.dispatch=r,u.memoizedState=s,[a,r,!1]}function Sm(s){var a=oe();return xm(a,Rt,s)}function xm(s,a,r){a=uh(s,a,bm)[0],s=Sr(Un)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?mo(a):a;var u=oe(),d=u.queue,p=d.dispatch;return r!==u.memoizedState&&(pt.flags|=2048,oa(9,IE.bind(null,d,r),{destroy:void 0},null)),[a,p,s]}function IE(s,a){s.action=a}function Em(s){var a=oe(),r=Rt;if(r!==null)return xm(a,r,s);oe(),a=a.memoizedState,r=oe();var u=r.queue.dispatch;return r.memoizedState=s,[a,u,!1]}function oa(s,a,r,u){return s={tag:s,create:a,inst:r,deps:u,next:null},a=pt.updateQueue,a===null&&(a=br(),pt.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=s.next=s:(u=r.next,r.next=s,s.next=u,a.lastEffect=s),s}function Cm(){return oe().memoizedState}function xr(s,a,r,u){var d=He();pt.flags|=s,d.memoizedState=oa(1|a,r,{destroy:void 0},u===void 0?null:u)}function Er(s,a,r,u){var d=oe();u=u===void 0?null:u;var p=d.memoizedState.inst;Rt!==null&&u!==null&&sh(u,Rt.memoizedState.deps)?d.memoizedState=oa(a,r,p,u):(pt.flags|=s,d.memoizedState=oa(1|a,r,p,u))}function Tm(s,a){xr(8390656,8,s,a)}function gh(s,a){Er(2048,8,s,a)}function Mm(s,a){return Er(4,2,s,a)}function Am(s,a){return Er(4,4,s,a)}function wm(s,a){if(typeof a=="function"){s=s();var r=a(s);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Dm(s,a,r){r=r!=null?r.concat([s]):null,Er(4,4,wm.bind(null,a,s),r)}function ph(){}function Om(s,a){var r=oe();a=a===void 0?null:a;var u=r.memoizedState;return a!==null&&sh(a,u[1])?u[0]:(r.memoizedState=[s,a],s)}function Rm(s,a){var r=oe();a=a===void 0?null:a;var u=r.memoizedState;if(a!==null&&sh(a,u[1]))return u[0];if(u=s(),os){ui(!0);try{s()}finally{ui(!1)}}return r.memoizedState=[u,a],u}function mh(s,a,r){return r===void 0||(mi&1073741824)!==0?s.memoizedState=a:(s.memoizedState=r,s=k_(),pt.lanes|=s,Mi|=s,r)}function Nm(s,a,r,u){return qe(r,a)?r:ea.current!==null?(s=mh(s,r,u),qe(s,a)||(fe=!0),s):(mi&42)===0?(fe=!0,s.memoizedState=r):(s=k_(),pt.lanes|=s,Mi|=s,a)}function km(s,a,r,u,d){var p=Q.p;Q.p=p!==0&&8>p?p:8;var b=V.T,x={};V.T=x,bh(s,!1,a,r);try{var C=d(),w=V.S;if(w!==null&&w(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var I=NE(C,u);_o(s,a,I,Qe(s))}else _o(s,a,u,Qe(s))}catch(U){_o(s,a,{then:function(){},status:"rejected",reason:U},Qe())}finally{Q.p=p,V.T=b}}function BE(){}function _h(s,a,r,u){if(s.tag!==5)throw Error(i(476));var d=Lm(s).queue;km(s,d,a,gt,r===null?BE:function(){return zm(s),r(u)})}function Lm(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:gt},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:r},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function zm(s){var a=Lm(s).next.queue;_o(s,a,{},Qe())}function yh(){return Ae(Bo)}function Im(){return oe().memoizedState}function Bm(){return oe().memoizedState}function HE(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var r=Qe();s=vi(r);var u=Si(a,s,r);u!==null&&(Le(u,a,r),vo(u,a,r)),a={cache:eh()},s.payload=a;return}a=a.return}}function PE(s,a,r){var u=Qe();r={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Cr(s)?Pm(a,r):(r=Xu(s,a,r,u),r!==null&&(Le(r,s,u),Um(r,a,u)))}function Hm(s,a,r){var u=Qe();_o(s,a,r,u)}function _o(s,a,r,u){var d={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cr(s))Pm(a,d);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,x=p(b,r);if(d.hasEagerState=!0,d.eagerState=x,qe(x,b))return lr(s,a,d,0),zt===null&&or(),!1}catch{}finally{}if(r=Xu(s,a,d,u),r!==null)return Le(r,s,u),Um(r,a,u),!0}return!1}function bh(s,a,r,u){if(u={lane:2,revertLane:cf(),action:u,hasEagerState:!1,eagerState:null,next:null},Cr(s)){if(a)throw Error(i(479))}else a=Xu(s,r,u,2),a!==null&&Le(a,s,2)}function Cr(s){var a=s.alternate;return s===pt||a!==null&&a===pt}function Pm(s,a){sa=_r=!0;var r=s.pending;r===null?a.next=a:(a.next=r.next,r.next=a),s.pending=a}function Um(s,a,r){if((r&4194176)!==0){var u=a.lanes;u&=s.pendingLanes,r|=u,a.lanes=r,Zg(s,r)}}var wn={readContext:Ae,use:vr,useCallback:ne,useContext:ne,useEffect:ne,useImperativeHandle:ne,useLayoutEffect:ne,useInsertionEffect:ne,useMemo:ne,useReducer:ne,useRef:ne,useState:ne,useDebugValue:ne,useDeferredValue:ne,useTransition:ne,useSyncExternalStore:ne,useId:ne};wn.useCacheRefresh=ne,wn.useMemoCache=ne,wn.useHostTransitionStatus=ne,wn.useFormState=ne,wn.useActionState=ne,wn.useOptimistic=ne;var ls={readContext:Ae,use:vr,useCallback:function(s,a){return He().memoizedState=[s,a===void 0?null:a],s},useContext:Ae,useEffect:Tm,useImperativeHandle:function(s,a,r){r=r!=null?r.concat([s]):null,xr(4194308,4,wm.bind(null,a,s),r)},useLayoutEffect:function(s,a){return xr(4194308,4,s,a)},useInsertionEffect:function(s,a){xr(4,2,s,a)},useMemo:function(s,a){var r=He();a=a===void 0?null:a;var u=s();if(os){ui(!0);try{s()}finally{ui(!1)}}return r.memoizedState=[u,a],u},useReducer:function(s,a,r){var u=He();if(r!==void 0){var d=r(a);if(os){ui(!0);try{r(a)}finally{ui(!1)}}}else d=a;return u.memoizedState=u.baseState=d,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:d},u.queue=s,s=s.dispatch=PE.bind(null,pt,s),[u.memoizedState,s]},useRef:function(s){var a=He();return s={current:s},a.memoizedState=s},useState:function(s){s=fh(s);var a=s.queue,r=Hm.bind(null,pt,a);return a.dispatch=r,[s.memoizedState,r]},useDebugValue:ph,useDeferredValue:function(s,a){var r=He();return mh(r,s,a)},useTransition:function(){var s=fh(!1);return s=km.bind(null,pt,s.queue,!0,!1),He().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,r){var u=pt,d=He();if(Tt){if(r===void 0)throw Error(i(407));r=r()}else{if(r=a(),zt===null)throw Error(i(349));(Ct&60)!==0||cm(u,a,r)}d.memoizedState=r;var p={value:r,getSnapshot:a};return d.queue=p,Tm(hm.bind(null,u,p,s),[s]),u.flags|=2048,oa(9,um.bind(null,u,p,r,a),{destroy:void 0},null),r},useId:function(){var s=He(),a=zt.identifierPrefix;if(Tt){var r=Hn,u=Bn;r=(u&~(1<<32-Ye(u)-1)).toString(32)+r,a=":"+a+"R"+r,r=yr++,0<r&&(a+="H"+r.toString(32)),a+=":"}else r=kE++,a=":"+a+"r"+r.toString(32)+":";return s.memoizedState=a},useCacheRefresh:function(){return He().memoizedState=HE.bind(null,pt)}};ls.useMemoCache=ch,ls.useHostTransitionStatus=yh,ls.useFormState=vm,ls.useActionState=vm,ls.useOptimistic=function(s){var a=He();a.memoizedState=a.baseState=s;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=bh.bind(null,pt,!0,r),r.dispatch=a,[s,a]};var _i={readContext:Ae,use:vr,useCallback:Om,useContext:Ae,useEffect:gh,useImperativeHandle:Dm,useInsertionEffect:Mm,useLayoutEffect:Am,useMemo:Rm,useReducer:Sr,useRef:Cm,useState:function(){return Sr(Un)},useDebugValue:ph,useDeferredValue:function(s,a){var r=oe();return Nm(r,Rt.memoizedState,s,a)},useTransition:function(){var s=Sr(Un)[0],a=oe().memoizedState;return[typeof s=="boolean"?s:mo(s),a]},useSyncExternalStore:rm,useId:Im};_i.useCacheRefresh=Bm,_i.useMemoCache=ch,_i.useHostTransitionStatus=yh,_i.useFormState=Sm,_i.useActionState=Sm,_i.useOptimistic=function(s,a){var r=oe();return gm(r,Rt,s,a)};var rs={readContext:Ae,use:vr,useCallback:Om,useContext:Ae,useEffect:gh,useImperativeHandle:Dm,useInsertionEffect:Mm,useLayoutEffect:Am,useMemo:Rm,useReducer:hh,useRef:Cm,useState:function(){return hh(Un)},useDebugValue:ph,useDeferredValue:function(s,a){var r=oe();return Rt===null?mh(r,s,a):Nm(r,Rt.memoizedState,s,a)},useTransition:function(){var s=hh(Un)[0],a=oe().memoizedState;return[typeof s=="boolean"?s:mo(s),a]},useSyncExternalStore:rm,useId:Im};rs.useCacheRefresh=Bm,rs.useMemoCache=ch,rs.useHostTransitionStatus=yh,rs.useFormState=Em,rs.useActionState=Em,rs.useOptimistic=function(s,a){var r=oe();return Rt!==null?gm(r,Rt,s,a):(r.baseState=s,[s,r.queue.dispatch])};function vh(s,a,r,u){a=s.memoizedState,r=r(u,a),r=r==null?a:K({},a,r),s.memoizedState=r,s.lanes===0&&(s.updateQueue.baseState=r)}var Sh={isMounted:function(s){return(s=s._reactInternals)?J(s)===s:!1},enqueueSetState:function(s,a,r){s=s._reactInternals;var u=Qe(),d=vi(u);d.payload=a,r!=null&&(d.callback=r),a=Si(s,d,u),a!==null&&(Le(a,s,u),vo(a,s,u))},enqueueReplaceState:function(s,a,r){s=s._reactInternals;var u=Qe(),d=vi(u);d.tag=1,d.payload=a,r!=null&&(d.callback=r),a=Si(s,d,u),a!==null&&(Le(a,s,u),vo(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var r=Qe(),u=vi(r);u.tag=2,a!=null&&(u.callback=a),a=Si(s,u,r),a!==null&&(Le(a,s,r),vo(a,s,r))}};function Vm(s,a,r,u,d,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):a.prototype&&a.prototype.isPureReactComponent?!io(r,u)||!io(d,p):!0}function Fm(s,a,r,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,u),a.state!==s&&Sh.enqueueReplaceState(a,a.state,null)}function cs(s,a){var r=a;if("ref"in a){r={};for(var u in a)u!=="ref"&&(r[u]=a[u])}if(s=s.defaultProps){r===a&&(r=K({},r));for(var d in s)r[d]===void 0&&(r[d]=s[d])}return r}var Tr=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function jm(s){Tr(s)}function Ym(s){console.error(s)}function qm(s){Tr(s)}function Mr(s,a){try{var r=s.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Gm(s,a,r){try{var u=s.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function xh(s,a,r){return r=vi(r),r.tag=3,r.payload={element:null},r.callback=function(){Mr(s,a)},r}function Wm(s){return s=vi(s),s.tag=3,s}function Xm(s,a,r,u){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;s.payload=function(){return d(p)},s.callback=function(){Gm(a,r,u)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){Gm(a,r,u),typeof d!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function UE(s,a,r,u,d){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=r.alternate,a!==null&&bo(a,r,d,!0),r=an.current,r!==null){switch(r.tag){case 13:return An===null?sf():r.alternate===null&&Zt===0&&(Zt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,u===$u?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([u]):a.add(u),of(s,u,d)),!1;case 22:return r.flags|=65536,u===$u?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([u]):r.add(u)),of(s,u,d)),!1}throw Error(i(435,r.tag))}return of(s,u,d),sf(),!1}if(Tt)return a=an.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,u!==Zu&&(s=Error(i(422),{cause:u}),lo(en(s,r)))):(u!==Zu&&(a=Error(i(423),{cause:u}),lo(en(a,r))),s=s.current.alternate,s.flags|=65536,d&=-d,s.lanes|=d,u=en(u,r),d=xh(s.stateNode,u,d),Bh(s,d),Zt!==4&&(Zt=2)),!1;var p=Error(i(520),{cause:u});if(p=en(p,r),wo===null?wo=[p]:wo.push(p),Zt!==4&&(Zt=2),a===null)return!0;u=en(u,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,s=d&-d,r.lanes|=s,s=xh(r.stateNode,u,s),Bh(r,s),!1;case 1:if(a=r.type,p=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ai===null||!Ai.has(p))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Wm(d),Xm(d,s,r,u),Bh(r,d),!1}r=r.return}while(r!==null);return!1}var Qm=Error(i(461)),fe=!1;function xe(s,a,r,u){a.child=s===null?tm(a,null,r,u):ss(a,s.child,r,u)}function Km(s,a,r,u,d){r=r.render;var p=a.ref;if("ref"in u){var b={};for(var x in u)x!=="ref"&&(b[x]=u[x])}else b=u;return hs(a),u=ah(s,a,r,b,p,d),x=oh(),s!==null&&!fe?(lh(s,a,d),Vn(s,a,d)):(Tt&&x&&Qu(a),a.flags|=1,xe(s,a,u,d),a.child)}function Zm(s,a,r,u,d){if(s===null){var p=r.type;return typeof p=="function"&&!qh(p)&&p.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=p,$m(s,a,p,u,d)):(s=Rr(r.type,null,u,a,a.mode,d),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Rh(s,d)){var b=p.memoizedProps;if(r=r.compare,r=r!==null?r:io,r(b,u)&&s.ref===a.ref)return Vn(s,a,d)}return a.flags|=1,s=Ti(p,u),s.ref=a.ref,s.return=a,a.child=s}function $m(s,a,r,u,d){if(s!==null){var p=s.memoizedProps;if(io(p,u)&&s.ref===a.ref)if(fe=!1,a.pendingProps=u=p,Rh(s,d))(s.flags&131072)!==0&&(fe=!0);else return a.lanes=s.lanes,Vn(s,a,d)}return Eh(s,a,r,u,d)}function Jm(s,a,r){var u=a.pendingProps,d=u.children,p=(a.stateNode._pendingVisibility&2)!==0,b=s!==null?s.memoizedState:null;if(yo(s,a),u.mode==="hidden"||p){if((a.flags&128)!==0){if(u=b!==null?b.baseLanes|r:r,s!==null){for(d=a.child=s.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return t_(s,a,u,r)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&mr(a,b!==null?b.cachePool:null),b!==null?em(a,b):Ju(),nm(a);else return a.lanes=a.childLanes=536870912,t_(s,a,b!==null?b.baseLanes|r:r,r)}else b!==null?(mr(a,b.cachePool),em(a,b),pi(),a.memoizedState=null):(s!==null&&mr(a,null),Ju(),pi());return xe(s,a,d,r),a.child}function t_(s,a,r,u){var d=ih();return d=d===null?null:{parent:ce._currentValue,pool:d},a.memoizedState={baseLanes:r,cachePool:d},s!==null&&mr(a,null),Ju(),nm(a),s!==null&&bo(s,a,u,!0),null}function yo(s,a){var r=a.ref;if(r===null)s!==null&&s.ref!==null&&(a.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(s===null||s.ref!==r)&&(a.flags|=2097664)}}function Eh(s,a,r,u,d){return hs(a),r=ah(s,a,r,u,void 0,d),u=oh(),s!==null&&!fe?(lh(s,a,d),Vn(s,a,d)):(Tt&&u&&Qu(a),a.flags|=1,xe(s,a,r,d),a.child)}function e_(s,a,r,u,d,p){return hs(a),a.updateQueue=null,r=lm(a,u,r,d),om(s),u=oh(),s!==null&&!fe?(lh(s,a,p),Vn(s,a,p)):(Tt&&u&&Qu(a),a.flags|=1,xe(s,a,r,p),a.child)}function n_(s,a,r,u,d){if(hs(a),a.stateNode===null){var p=Zs,b=r.contextType;typeof b=="object"&&b!==null&&(p=Ae(b)),p=new r(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Sh,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},zh(a),b=r.contextType,p.context=typeof b=="object"&&b!==null?Ae(b):Zs,p.state=a.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(vh(a,r,b,u),p.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Sh.enqueueReplaceState(p,p.state,null),xo(a,u,p,d),So(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var x=a.memoizedProps,C=cs(r,x);p.props=C;var w=p.context,I=r.contextType;b=Zs,typeof I=="object"&&I!==null&&(b=Ae(I));var U=r.getDerivedStateFromProps;I=typeof U=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=a.pendingProps!==x,I||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||w!==b)&&Fm(a,p,u,b),bi=!1;var k=a.memoizedState;p.state=k,xo(a,u,p,d),So(),w=a.memoizedState,x||k!==w||bi?(typeof U=="function"&&(vh(a,r,U,u),w=a.memoizedState),(C=bi||Vm(a,r,C,u,k,w,b))?(I||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=w),p.props=u,p.state=w,p.context=b,u=C):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Ih(s,a),b=a.memoizedProps,I=cs(r,b),p.props=I,U=a.pendingProps,k=p.context,w=r.contextType,C=Zs,typeof w=="object"&&w!==null&&(C=Ae(w)),x=r.getDerivedStateFromProps,(w=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==U||k!==C)&&Fm(a,p,u,C),bi=!1,k=a.memoizedState,p.state=k,xo(a,u,p,d),So();var z=a.memoizedState;b!==U||k!==z||bi||s!==null&&s.dependencies!==null&&Ar(s.dependencies)?(typeof x=="function"&&(vh(a,r,x,u),z=a.memoizedState),(I=bi||Vm(a,r,I,u,k,z,C)||s!==null&&s.dependencies!==null&&Ar(s.dependencies))?(w||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,z,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,z,C)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&k===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&k===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=z),p.props=u,p.state=z,p.context=C,u=I):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&k===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&k===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,yo(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=ss(a,s.child,null,d),a.child=ss(a,null,r,d)):xe(s,a,r,d),a.memoizedState=p.state,s=a.child):s=Vn(s,a,d),s}function i_(s,a,r,u){return oo(),a.flags|=256,xe(s,a,r,u),a.child}var Ch={dehydrated:null,treeContext:null,retryLane:0};function Th(s){return{baseLanes:s,cachePool:am()}}function Mh(s,a,r){return s=s!==null?s.childLanes&~r:0,a&&(s|=cn),s}function s_(s,a,r){var u=a.pendingProps,d=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(re.current&2)!==0),b&&(d=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,s===null){if(Tt){if(d?gi(a):pi(),Tt){var x=Se,C;if(C=x){t:{for(C=x,x=Mn;C.nodeType!==8;){if(!x){x=null;break t}if(C=mn(C.nextSibling),C===null){x=null;break t}}x=C}x!==null?(a.memoizedState={dehydrated:x,treeContext:es!==null?{id:Bn,overflow:Hn}:null,retryLane:536870912},C=rn(18,null,null,0),C.stateNode=x,C.return=a,a.child=C,ke=a,Se=null,C=!0):C=!1}C||is(a)}if(x=a.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return x.data==="$!"?a.lanes=16:a.lanes=536870912,null;Pn(a)}return x=u.children,u=u.fallback,d?(pi(),d=a.mode,x=wh({mode:"hidden",children:x},d),u=ds(u,d,r,null),x.return=a,u.return=a,x.sibling=u,a.child=x,d=a.child,d.memoizedState=Th(r),d.childLanes=Mh(s,b,r),a.memoizedState=Ch,u):(gi(a),Ah(a,x))}if(C=s.memoizedState,C!==null&&(x=C.dehydrated,x!==null)){if(p)a.flags&256?(gi(a),a.flags&=-257,a=Dh(s,a,r)):a.memoizedState!==null?(pi(),a.child=s.child,a.flags|=128,a=null):(pi(),d=u.fallback,x=a.mode,u=wh({mode:"visible",children:u.children},x),d=ds(d,x,r,null),d.flags|=2,u.return=a,d.return=a,u.sibling=d,a.child=u,ss(a,s.child,null,r),u=a.child,u.memoizedState=Th(r),u.childLanes=Mh(s,b,r),a.memoizedState=Ch,a=d);else if(gi(a),x.data==="$!"){if(b=x.nextSibling&&x.nextSibling.dataset,b)var w=b.dgst;b=w,u=Error(i(419)),u.stack="",u.digest=b,lo({value:u,source:null,stack:null}),a=Dh(s,a,r)}else if(fe||bo(s,a,r,!1),b=(r&s.childLanes)!==0,fe||b){if(b=zt,b!==null){if(u=r&-r,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(b.suspendedLanes|r))!==0?0:u,u!==0&&u!==C.retryLane)throw C.retryLane=u,di(s,u),Le(b,s,u),Qm}x.data==="$?"||sf(),a=Dh(s,a,r)}else x.data==="$?"?(a.flags|=128,a.child=s.child,a=e1.bind(null,s),x._reactRetry=a,a=null):(s=C.treeContext,Se=mn(x.nextSibling),ke=a,Tt=!0,gn=null,Mn=!1,s!==null&&(nn[sn++]=Bn,nn[sn++]=Hn,nn[sn++]=es,Bn=s.id,Hn=s.overflow,es=a),a=Ah(a,u.children),a.flags|=4096);return a}return d?(pi(),d=u.fallback,x=a.mode,C=s.child,w=C.sibling,u=Ti(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&31457280,w!==null?d=Ti(w,d):(d=ds(d,x,r,null),d.flags|=2),d.return=a,u.return=a,u.sibling=d,a.child=u,u=d,d=a.child,x=s.child.memoizedState,x===null?x=Th(r):(C=x.cachePool,C!==null?(w=ce._currentValue,C=C.parent!==w?{parent:w,pool:w}:C):C=am(),x={baseLanes:x.baseLanes|r,cachePool:C}),d.memoizedState=x,d.childLanes=Mh(s,b,r),a.memoizedState=Ch,u):(gi(a),r=s.child,s=r.sibling,r=Ti(r,{mode:"visible",children:u.children}),r.return=a,r.sibling=null,s!==null&&(b=a.deletions,b===null?(a.deletions=[s],a.flags|=16):b.push(s)),a.child=r,a.memoizedState=null,r)}function Ah(s,a){return a=wh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function wh(s,a){return O_(s,a,0,null)}function Dh(s,a,r){return ss(a,s.child,null,r),s=Ah(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function a_(s,a,r){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),kh(s.return,a,r)}function Oh(s,a,r,u,d){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:d}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=r,p.tailMode=d)}function o_(s,a,r){var u=a.pendingProps,d=u.revealOrder,p=u.tail;if(xe(s,a,u.children,r),u=re.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&a_(s,r,a);else if(s.tag===19)a_(s,r,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(Yt(re,u),d){case"forwards":for(r=a.child,d=null;r!==null;)s=r.alternate,s!==null&&pr(s)===null&&(d=r),r=r.sibling;r=d,r===null?(d=a.child,a.child=null):(d=r.sibling,r.sibling=null),Oh(a,!1,d,r,p);break;case"backwards":for(r=null,d=a.child,a.child=null;d!==null;){if(s=d.alternate,s!==null&&pr(s)===null){a.child=d;break}s=d.sibling,d.sibling=r,r=d,d=s}Oh(a,!0,r,null,p);break;case"together":Oh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Vn(s,a,r){if(s!==null&&(a.dependencies=s.dependencies),Mi|=a.lanes,(r&a.childLanes)===0)if(s!==null){if(bo(s,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,r=Ti(s,s.pendingProps),a.child=r,r.return=a;s.sibling!==null;)s=s.sibling,r=r.sibling=Ti(s,s.pendingProps),r.return=a;r.sibling=null}return a.child}function Rh(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Ar(s)))}function VE(s,a,r){switch(a.tag){case 3:jl(a,a.stateNode.containerInfo),yi(a,ce,s.memoizedState.cache),oo();break;case 27:case 5:Su(a);break;case 4:jl(a,a.stateNode.containerInfo);break;case 10:yi(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(gi(a),a.flags|=128,null):(r&a.child.childLanes)!==0?s_(s,a,r):(gi(a),s=Vn(s,a,r),s!==null?s.sibling:null);gi(a);break;case 19:var d=(s.flags&128)!==0;if(u=(r&a.childLanes)!==0,u||(bo(s,a,r,!1),u=(r&a.childLanes)!==0),d){if(u)return o_(s,a,r);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Yt(re,re.current),u)break;return null;case 22:case 23:return a.lanes=0,Jm(s,a,r);case 24:yi(a,ce,s.memoizedState.cache)}return Vn(s,a,r)}function l_(s,a,r){if(s!==null)if(s.memoizedProps!==a.pendingProps)fe=!0;else{if(!Rh(s,r)&&(a.flags&128)===0)return fe=!1,VE(s,a,r);fe=(s.flags&131072)!==0}else fe=!1,Tt&&(a.flags&1048576)!==0&&qp(a,ur,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var u=a.elementType,d=u._init;if(u=d(u._payload),a.type=u,typeof u=="function")qh(u)?(s=cs(u,s),a.tag=1,a=n_(null,a,u,s,r)):(a.tag=0,a=Eh(null,a,u,s,r));else{if(u!=null){if(d=u.$$typeof,d===S){a.tag=11,a=Km(null,a,u,s,r);break t}else if(d===D){a.tag=14,a=Zm(null,a,u,s,r);break t}}throw a=W(u)||u,Error(i(306,a,""))}}return a;case 0:return Eh(s,a,a.type,a.pendingProps,r);case 1:return u=a.type,d=cs(u,a.pendingProps),n_(s,a,u,d,r);case 3:t:{if(jl(a,a.stateNode.containerInfo),s===null)throw Error(i(387));var p=a.pendingProps;d=a.memoizedState,u=d.element,Ih(s,a),xo(a,p,null,r);var b=a.memoizedState;if(p=b.cache,yi(a,ce,p),p!==d.cache&&Lh(a,[ce],r,!0),So(),p=b.element,d.isDehydrated)if(d={element:p,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=i_(s,a,p,r);break t}else if(p!==u){u=en(Error(i(424)),a),lo(u),a=i_(s,a,p,r);break t}else for(Se=mn(a.stateNode.containerInfo.firstChild),ke=a,Tt=!0,gn=null,Mn=!0,r=tm(a,null,p,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(oo(),p===u){a=Vn(s,a,r);break t}xe(s,a,p,r)}a=a.child}return a;case 26:return yo(s,a),s===null?(r=uy(a.type,null,a.pendingProps,null))?a.memoizedState=r:Tt||(r=a.type,s=a.pendingProps,u=jr(ci.current).createElement(r),u[Me]=a,u[Ie]=s,Ee(u,r,s),he(u),a.stateNode=u):a.memoizedState=uy(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Su(a),s===null&&Tt&&(u=a.stateNode=ly(a.type,a.pendingProps,ci.current),ke=a,Mn=!0,Se=mn(u.firstChild)),u=a.pendingProps.children,s!==null||Tt?xe(s,a,u,r):a.child=ss(a,null,u,r),yo(s,a),a.child;case 5:return s===null&&Tt&&((d=u=Se)&&(u=_1(u,a.type,a.pendingProps,Mn),u!==null?(a.stateNode=u,ke=a,Se=mn(u.firstChild),Mn=!1,d=!0):d=!1),d||is(a)),Su(a),d=a.type,p=a.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,yf(d,p)?u=null:b!==null&&yf(d,b)&&(a.flags|=32),a.memoizedState!==null&&(d=ah(s,a,LE,null,null,r),Bo._currentValue=d),yo(s,a),xe(s,a,u,r),a.child;case 6:return s===null&&Tt&&((s=r=Se)&&(r=y1(r,a.pendingProps,Mn),r!==null?(a.stateNode=r,ke=a,Se=null,s=!0):s=!1),s||is(a)),null;case 13:return s_(s,a,r);case 4:return jl(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=ss(a,null,u,r):xe(s,a,u,r),a.child;case 11:return Km(s,a,a.type,a.pendingProps,r);case 7:return xe(s,a,a.pendingProps,r),a.child;case 8:return xe(s,a,a.pendingProps.children,r),a.child;case 12:return xe(s,a,a.pendingProps.children,r),a.child;case 10:return u=a.pendingProps,yi(a,a.type,u.value),xe(s,a,u.children,r),a.child;case 9:return d=a.type._context,u=a.pendingProps.children,hs(a),d=Ae(d),u=u(d),a.flags|=1,xe(s,a,u,r),a.child;case 14:return Zm(s,a,a.type,a.pendingProps,r);case 15:return $m(s,a,a.type,a.pendingProps,r);case 19:return o_(s,a,r);case 22:return Jm(s,a,r);case 24:return hs(a),u=Ae(ce),s===null?(d=ih(),d===null&&(d=zt,p=eh(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=r),d=p),a.memoizedState={parent:u,cache:d},zh(a),yi(a,ce,d)):((s.lanes&r)!==0&&(Ih(s,a),xo(a,null,null,r),So()),d=s.memoizedState,p=a.memoizedState,d.parent!==u?(d={parent:u,cache:u},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),yi(a,ce,u)):(u=p.cache,yi(a,ce,u),u!==d.cache&&Lh(a,[ce],r,!0))),xe(s,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var Nh=wt(null),us=null,Fn=null;function yi(s,a,r){Yt(Nh,a._currentValue),a._currentValue=r}function jn(s){s._currentValue=Nh.current,se(Nh)}function kh(s,a,r){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===r)break;s=s.return}}function Lh(s,a,r,u){var d=s.child;for(d!==null&&(d.return=s);d!==null;){var p=d.dependencies;if(p!==null){var b=d.child;p=p.firstContext;t:for(;p!==null;){var x=p;p=d;for(var C=0;C<a.length;C++)if(x.context===a[C]){p.lanes|=r,x=p.alternate,x!==null&&(x.lanes|=r),kh(p.return,r,s),u||(b=null);break t}p=x.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=r,p=b.alternate,p!==null&&(p.lanes|=r),kh(b,r,s),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===s){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function bo(s,a,r,u){s=null;for(var d=a,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var x=d.type;qe(d.pendingProps.value,b.value)||(s!==null?s.push(x):s=[x])}}else if(d===Fl.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(s!==null?s.push(Bo):s=[Bo])}d=d.return}s!==null&&Lh(a,s,r,u),a.flags|=262144}function Ar(s){for(s=s.firstContext;s!==null;){if(!qe(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function hs(s){us=s,Fn=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ae(s){return r_(us,s)}function wr(s,a){return us===null&&hs(s),r_(s,a)}function r_(s,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},Fn===null){if(s===null)throw Error(i(308));Fn=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Fn=Fn.next=a;return r}var bi=!1;function zh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ih(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function vi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Si(s,a,r){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Qt&2)!==0){var d=u.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a,a=rr(s),jp(s,null,r),a}return lr(s,u,a,r),rr(s)}function vo(s,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194176)!==0)){var u=a.lanes;u&=s.pendingLanes,r|=u,a.lanes=r,Zg(s,r)}}function Bh(s,a){var r=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var d=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};p===null?d=p=b:p=p.next=b,r=r.next}while(r!==null);p===null?d=p=a:p=p.next=a}else d=p=a;r={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=r;return}s=r.lastBaseUpdate,s===null?r.firstBaseUpdate=a:s.next=a,r.lastBaseUpdate=a}var Hh=!1;function So(){if(Hh){var s=ia;if(s!==null)throw s}}function xo(s,a,r,u){Hh=!1;var d=s.updateQueue;bi=!1;var p=d.firstBaseUpdate,b=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var C=x,w=C.next;C.next=null,b===null?p=w:b.next=w,b=C;var I=s.alternate;I!==null&&(I=I.updateQueue,x=I.lastBaseUpdate,x!==b&&(x===null?I.firstBaseUpdate=w:x.next=w,I.lastBaseUpdate=C))}if(p!==null){var U=d.baseState;b=0,I=w=C=null,x=p;do{var k=x.lane&-536870913,z=k!==x.lane;if(z?(Ct&k)===k:(u&k)===k){k!==0&&k===na&&(Hh=!0),I!==null&&(I=I.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var tt=s,ct=x;k=a;var $t=r;switch(ct.tag){case 1:if(tt=ct.payload,typeof tt=="function"){U=tt.call($t,U,k);break t}U=tt;break t;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=ct.payload,k=typeof tt=="function"?tt.call($t,U,k):tt,k==null)break t;U=K({},U,k);break t;case 2:bi=!0}}k=x.callback,k!==null&&(s.flags|=64,z&&(s.flags|=8192),z=d.callbacks,z===null?d.callbacks=[k]:z.push(k))}else z={lane:k,tag:x.tag,payload:x.payload,callback:x.callback,next:null},I===null?(w=I=z,C=U):I=I.next=z,b|=k;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;z=x,x=z.next,z.next=null,d.lastBaseUpdate=z,d.shared.pending=null}}while(!0);I===null&&(C=U),d.baseState=C,d.firstBaseUpdate=w,d.lastBaseUpdate=I,p===null&&(d.shared.lanes=0),Mi|=b,s.lanes=b,s.memoizedState=U}}function c_(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function u_(s,a){var r=s.callbacks;if(r!==null)for(s.callbacks=null,s=0;s<r.length;s++)c_(r[s],a)}function Eo(s,a){try{var r=a.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var d=u.next;r=d;do{if((r.tag&s)===s){u=void 0;var p=r.create,b=r.inst;u=p(),b.destroy=u}r=r.next}while(r!==d)}}catch(x){Lt(a,a.return,x)}}function xi(s,a,r){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&s)===s){var b=u.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,d=a;var C=r;try{x()}catch(w){Lt(d,C,w)}}}u=u.next}while(u!==p)}}catch(w){Lt(a,a.return,w)}}function h_(s){var a=s.updateQueue;if(a!==null){var r=s.stateNode;try{u_(a,r)}catch(u){Lt(s,s.return,u)}}}function f_(s,a,r){r.props=cs(s.type,s.memoizedProps),r.state=s.memoizedState;try{r.componentWillUnmount()}catch(u){Lt(s,a,u)}}function fs(s,a){try{var r=s.ref;if(r!==null){var u=s.stateNode;switch(s.tag){case 26:case 27:case 5:var d=u;break;default:d=u}typeof r=="function"?s.refCleanup=r(d):r.current=d}}catch(p){Lt(s,a,p)}}function Ge(s,a){var r=s.ref,u=s.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(d){Lt(s,a,d)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Lt(s,a,d)}else r.current=null}function d_(s){var a=s.type,r=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break t;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(d){Lt(s,s.return,d)}}function g_(s,a,r){try{var u=s.stateNode;f1(u,s.type,r,a),u[Ie]=a}catch(d){Lt(s,s.return,d)}}function p_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function Ph(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||p_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Uh(s,a,r){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?r.nodeType===8?r.parentNode.insertBefore(s,a):r.insertBefore(s,a):(r.nodeType===8?(a=r.parentNode,a.insertBefore(s,r)):(a=r,a.appendChild(s)),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=Fr));else if(u!==4&&u!==27&&(s=s.child,s!==null))for(Uh(s,a,r),s=s.sibling;s!==null;)Uh(s,a,r),s=s.sibling}function Dr(s,a,r){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?r.insertBefore(s,a):r.appendChild(s);else if(u!==4&&u!==27&&(s=s.child,s!==null))for(Dr(s,a,r),s=s.sibling;s!==null;)Dr(s,a,r),s=s.sibling}var Yn=!1,Kt=!1,Vh=!1,m_=typeof WeakSet=="function"?WeakSet:Set,de=null,__=!1;function FE(s,a){if(s=s.containerInfo,mf=Qr,s=Lp(s),ju(s)){if("selectionStart"in s)var r={start:s.selectionStart,end:s.selectionEnd};else t:{r=(r=s.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break t}var b=0,x=-1,C=-1,w=0,I=0,U=s,k=null;e:for(;;){for(var z;U!==r||d!==0&&U.nodeType!==3||(x=b+d),U!==p||u!==0&&U.nodeType!==3||(C=b+u),U.nodeType===3&&(b+=U.nodeValue.length),(z=U.firstChild)!==null;)k=U,U=z;for(;;){if(U===s)break e;if(k===r&&++w===d&&(x=b),k===p&&++I===u&&(C=b),(z=U.nextSibling)!==null)break;U=k,k=U.parentNode}U=z}r=x===-1||C===-1?null:{start:x,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(_f={focusedElem:s,selectionRange:r},Qr=!1,de=a;de!==null;)if(a=de,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,de=s;else for(;de!==null;){switch(a=de,p=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,r=a,d=p.memoizedProps,p=p.memoizedState,u=r.stateNode;try{var tt=cs(r.type,d,r.elementType===r.type);s=u.getSnapshotBeforeUpdate(tt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(ct){Lt(r,r.return,ct)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,r=s.nodeType,r===9)Sf(s);else if(r===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Sf(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,de=s;break}de=a.return}return tt=__,__=!1,tt}function y_(s,a,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Gn(s,r),u&4&&Eo(5,r);break;case 1:if(Gn(s,r),u&4)if(s=r.stateNode,a===null)try{s.componentDidMount()}catch(x){Lt(r,r.return,x)}else{var d=cs(r.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(d,a,s.__reactInternalSnapshotBeforeUpdate)}catch(x){Lt(r,r.return,x)}}u&64&&h_(r),u&512&&fs(r,r.return);break;case 3:if(Gn(s,r),u&64&&(u=r.updateQueue,u!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{u_(u,s)}catch(x){Lt(r,r.return,x)}}break;case 26:Gn(s,r),u&512&&fs(r,r.return);break;case 27:case 5:Gn(s,r),a===null&&u&4&&d_(r),u&512&&fs(r,r.return);break;case 12:Gn(s,r);break;case 13:Gn(s,r),u&4&&S_(s,r);break;case 22:if(d=r.memoizedState!==null||Yn,!d){a=a!==null&&a.memoizedState!==null||Kt;var p=Yn,b=Kt;Yn=d,(Kt=a)&&!b?Ei(s,r,(r.subtreeFlags&8772)!==0):Gn(s,r),Yn=p,Kt=b}u&512&&(r.memoizedProps.mode==="manual"?fs(r,r.return):Ge(r,r.return));break;default:Gn(s,r)}}function b_(s){var a=s.alternate;a!==null&&(s.alternate=null,b_(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Au(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var le=null,We=!1;function qn(s,a,r){for(r=r.child;r!==null;)v_(s,a,r),r=r.sibling}function v_(s,a,r){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(qa,r)}catch{}switch(r.tag){case 26:Kt||Ge(r,a),qn(s,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Kt||Ge(r,a);var u=le,d=We;for(le=r.stateNode,qn(s,a,r),r=r.stateNode,a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Au(r),le=u,We=d;break;case 5:Kt||Ge(r,a);case 6:d=le;var p=We;if(le=null,qn(s,a,r),le=d,We=p,le!==null)if(We)try{s=le,u=r.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)}catch(b){Lt(r,a,b)}else try{le.removeChild(r.stateNode)}catch(b){Lt(r,a,b)}break;case 18:le!==null&&(We?(a=le,r=r.stateNode,a.nodeType===8?vf(a.parentNode,r):a.nodeType===1&&vf(a,r),Vo(a)):vf(le,r.stateNode));break;case 4:u=le,d=We,le=r.stateNode.containerInfo,We=!0,qn(s,a,r),le=u,We=d;break;case 0:case 11:case 14:case 15:Kt||xi(2,r,a),Kt||xi(4,r,a),qn(s,a,r);break;case 1:Kt||(Ge(r,a),u=r.stateNode,typeof u.componentWillUnmount=="function"&&f_(r,a,u)),qn(s,a,r);break;case 21:qn(s,a,r);break;case 22:Kt||Ge(r,a),Kt=(u=Kt)||r.memoizedState!==null,qn(s,a,r),Kt=u;break;default:qn(s,a,r)}}function S_(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Vo(s)}catch(r){Lt(a,a.return,r)}}function jE(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new m_),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new m_),a;default:throw Error(i(435,s.tag))}}function Fh(s,a){var r=jE(s);a.forEach(function(u){var d=n1.bind(null,s,u);r.has(u)||(r.add(u),u.then(d,d))})}function on(s,a){var r=a.deletions;if(r!==null)for(var u=0;u<r.length;u++){var d=r[u],p=s,b=a,x=b;t:for(;x!==null;){switch(x.tag){case 27:case 5:le=x.stateNode,We=!1;break t;case 3:le=x.stateNode.containerInfo,We=!0;break t;case 4:le=x.stateNode.containerInfo,We=!0;break t}x=x.return}if(le===null)throw Error(i(160));v_(p,b,d),le=null,We=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)x_(a,s),a=a.sibling}var pn=null;function x_(s,a){var r=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:on(a,s),ln(s),u&4&&(xi(3,s,s.return),Eo(3,s),xi(5,s,s.return));break;case 1:on(a,s),ln(s),u&512&&(Kt||r===null||Ge(r,r.return)),u&64&&Yn&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(r=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var d=pn;if(on(a,s),ln(s),u&512&&(Kt||r===null||Ge(r,r.return)),u&4){var p=r!==null?r.memoizedState:null;if(u=s.memoizedState,r===null)if(u===null)if(s.stateNode===null){t:{u=s.type,r=s.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Xa]||p[Me]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),Ee(p,u,r),p[Me]=s,he(p),u=p;break t;case"link":var b=dy("link","href",d).get(u+(r.href||""));if(b){for(var x=0;x<b.length;x++)if(p=b[x],p.getAttribute("href")===(r.href==null?null:r.href)&&p.getAttribute("rel")===(r.rel==null?null:r.rel)&&p.getAttribute("title")===(r.title==null?null:r.title)&&p.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(x,1);break e}}p=d.createElement(u),Ee(p,u,r),d.head.appendChild(p);break;case"meta":if(b=dy("meta","content",d).get(u+(r.content||""))){for(x=0;x<b.length;x++)if(p=b[x],p.getAttribute("content")===(r.content==null?null:""+r.content)&&p.getAttribute("name")===(r.name==null?null:r.name)&&p.getAttribute("property")===(r.property==null?null:r.property)&&p.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&p.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(x,1);break e}}p=d.createElement(u),Ee(p,u,r),d.head.appendChild(p);break;default:throw Error(i(468,u))}p[Me]=s,he(p),u=p}s.stateNode=u}else gy(d,s.type,s.stateNode);else s.stateNode=fy(d,u,s.memoizedProps);else p!==u?(p===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):p.count--,u===null?gy(d,s.type,s.stateNode):fy(d,u,s.memoizedProps)):u===null&&s.stateNode!==null&&g_(s,s.memoizedProps,r.memoizedProps)}break;case 27:if(u&4&&s.alternate===null){d=s.stateNode,p=s.memoizedProps;try{for(var C=d.firstChild;C;){var w=C.nextSibling,I=C.nodeName;C[Xa]||I==="HEAD"||I==="BODY"||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&C.rel.toLowerCase()==="stylesheet"||d.removeChild(C),C=w}for(var U=s.type,k=d.attributes;k.length;)d.removeAttributeNode(k[0]);Ee(d,U,p),d[Me]=s,d[Ie]=p}catch(tt){Lt(s,s.return,tt)}}case 5:if(on(a,s),ln(s),u&512&&(Kt||r===null||Ge(r,r.return)),s.flags&32){d=s.stateNode;try{Ys(d,"")}catch(tt){Lt(s,s.return,tt)}}u&4&&s.stateNode!=null&&(d=s.memoizedProps,g_(s,d,r!==null?r.memoizedProps:d)),u&1024&&(Vh=!0);break;case 6:if(on(a,s),ln(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,r=s.stateNode;try{r.nodeValue=u}catch(tt){Lt(s,s.return,tt)}}break;case 3:if(Gr=null,d=pn,pn=Yr(a.containerInfo),on(a,s),pn=d,ln(s),u&4&&r!==null&&r.memoizedState.isDehydrated)try{Vo(a.containerInfo)}catch(tt){Lt(s,s.return,tt)}Vh&&(Vh=!1,E_(s));break;case 4:u=pn,pn=Yr(s.stateNode.containerInfo),on(a,s),ln(s),pn=u;break;case 12:on(a,s),ln(s);break;case 13:on(a,s),ln(s),s.child.flags&8192&&s.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Zh=Tn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Fh(s,u)));break;case 22:if(u&512&&(Kt||r===null||Ge(r,r.return)),C=s.memoizedState!==null,w=r!==null&&r.memoizedState!==null,I=Yn,U=Kt,Yn=I||C,Kt=U||w,on(a,s),Kt=U,Yn=I,ln(s),a=s.stateNode,a._current=s,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,u&8192&&(a._visibility=C?a._visibility&-2:a._visibility|1,C&&(a=Yn||Kt,r===null||w||a||la(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))t:for(r=null,a=s;;){if(a.tag===5||a.tag===26||a.tag===27){if(r===null){w=r=a;try{if(d=w.stateNode,C)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=w.stateNode,x=w.memoizedProps.style;var z=x!=null&&x.hasOwnProperty("display")?x.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(tt){Lt(w,w.return,tt)}}}else if(a.tag===6){if(r===null){w=a;try{w.stateNode.nodeValue=C?"":w.memoizedProps}catch(tt){Lt(w,w.return,tt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,Fh(s,r))));break;case 19:on(a,s),ln(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Fh(s,u)));break;case 21:break;default:on(a,s),ln(s)}}function ln(s){var a=s.flags;if(a&2){try{if(s.tag!==27){t:{for(var r=s.return;r!==null;){if(p_(r)){var u=r;break t}r=r.return}throw Error(i(160))}switch(u.tag){case 27:var d=u.stateNode,p=Ph(s);Dr(s,p,d);break;case 5:var b=u.stateNode;u.flags&32&&(Ys(b,""),u.flags&=-33);var x=Ph(s);Dr(s,x,b);break;case 3:case 4:var C=u.stateNode.containerInfo,w=Ph(s);Uh(s,w,C);break;default:throw Error(i(161))}}}catch(I){Lt(s,s.return,I)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function E_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;E_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Gn(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)y_(s,a.alternate,a),a=a.sibling}function la(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:xi(4,a,a.return),la(a);break;case 1:Ge(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&f_(a,a.return,r),la(a);break;case 26:case 27:case 5:Ge(a,a.return),la(a);break;case 22:Ge(a,a.return),a.memoizedState===null&&la(a);break;default:la(a)}s=s.sibling}}function Ei(s,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,d=s,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:Ei(d,p,r),Eo(4,p);break;case 1:if(Ei(d,p,r),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(w){Lt(u,u.return,w)}if(u=p,d=u.updateQueue,d!==null){var x=u.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)c_(C[d],x)}catch(w){Lt(u,u.return,w)}}r&&b&64&&h_(p),fs(p,p.return);break;case 26:case 27:case 5:Ei(d,p,r),r&&u===null&&b&4&&d_(p),fs(p,p.return);break;case 12:Ei(d,p,r);break;case 13:Ei(d,p,r),r&&b&4&&S_(d,p);break;case 22:p.memoizedState===null&&Ei(d,p,r),fs(p,p.return);break;default:Ei(d,p,r)}a=a.sibling}}function jh(s,a){var r=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==r&&(s!=null&&s.refCount++,r!=null&&fo(r))}function Yh(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&fo(s))}function Ci(s,a,r,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)C_(s,a,r,u),a=a.sibling}function C_(s,a,r,u){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Ci(s,a,r,u),d&2048&&Eo(9,a);break;case 3:Ci(s,a,r,u),d&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&fo(s)));break;case 12:if(d&2048){Ci(s,a,r,u),s=a.stateNode;try{var p=a.memoizedProps,b=p.id,x=p.onPostCommit;typeof x=="function"&&x(b,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(C){Lt(a,a.return,C)}}else Ci(s,a,r,u);break;case 23:break;case 22:p=a.stateNode,a.memoizedState!==null?p._visibility&4?Ci(s,a,r,u):Co(s,a):p._visibility&4?Ci(s,a,r,u):(p._visibility|=4,ra(s,a,r,u,(a.subtreeFlags&10256)!==0)),d&2048&&jh(a.alternate,a);break;case 24:Ci(s,a,r,u),d&2048&&Yh(a.alternate,a);break;default:Ci(s,a,r,u)}}function ra(s,a,r,u,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=s,b=a,x=r,C=u,w=b.flags;switch(b.tag){case 0:case 11:case 15:ra(p,b,x,C,d),Eo(8,b);break;case 23:break;case 22:var I=b.stateNode;b.memoizedState!==null?I._visibility&4?ra(p,b,x,C,d):Co(p,b):(I._visibility|=4,ra(p,b,x,C,d)),d&&w&2048&&jh(b.alternate,b);break;case 24:ra(p,b,x,C,d),d&&w&2048&&Yh(b.alternate,b);break;default:ra(p,b,x,C,d)}a=a.sibling}}function Co(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=s,u=a,d=u.flags;switch(u.tag){case 22:Co(r,u),d&2048&&jh(u.alternate,u);break;case 24:Co(r,u),d&2048&&Yh(u.alternate,u);break;default:Co(r,u)}a=a.sibling}}var To=8192;function ca(s){if(s.subtreeFlags&To)for(s=s.child;s!==null;)T_(s),s=s.sibling}function T_(s){switch(s.tag){case 26:ca(s),s.flags&To&&s.memoizedState!==null&&R1(pn,s.memoizedState,s.memoizedProps);break;case 5:ca(s);break;case 3:case 4:var a=pn;pn=Yr(s.stateNode.containerInfo),ca(s),pn=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=To,To=16777216,ca(s),To=a):ca(s));break;default:ca(s)}}function M_(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Mo(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var u=a[r];de=u,w_(u,s)}M_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)A_(s),s=s.sibling}function A_(s){switch(s.tag){case 0:case 11:case 15:Mo(s),s.flags&2048&&xi(9,s,s.return);break;case 3:Mo(s);break;case 12:Mo(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&4&&(s.return===null||s.return.tag!==13)?(a._visibility&=-5,Or(s)):Mo(s);break;default:Mo(s)}}function Or(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var u=a[r];de=u,w_(u,s)}M_(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:xi(8,a,a.return),Or(a);break;case 22:r=a.stateNode,r._visibility&4&&(r._visibility&=-5,Or(a));break;default:Or(a)}s=s.sibling}}function w_(s,a){for(;de!==null;){var r=de;switch(r.tag){case 0:case 11:case 15:xi(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:fo(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,de=u;else t:for(r=s;de!==null;){u=de;var d=u.sibling,p=u.return;if(b_(u),u===r){de=null;break t}if(d!==null){d.return=p,de=d;break t}de=p}}}function YE(s,a,r,u){this.tag=s,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(s,a,r,u){return new YE(s,a,r,u)}function qh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ti(s,a){var r=s.alternate;return r===null?(r=rn(s.tag,a,s.key,s.mode),r.elementType=s.elementType,r.type=s.type,r.stateNode=s.stateNode,r.alternate=s,s.alternate=r):(r.pendingProps=a,r.type=s.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=s.flags&31457280,r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,a=s.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=s.sibling,r.index=s.index,r.ref=s.ref,r.refCleanup=s.refCleanup,r}function D_(s,a){s.flags&=31457282;var r=s.alternate;return r===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,s.type=r.type,a=r.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Rr(s,a,r,u,d,p){var b=0;if(u=s,typeof s=="function")qh(s)&&(b=1);else if(typeof s=="string")b=D1(s,r,Cn.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case f:return ds(r.children,d,p,a);case g:b=8,d|=24;break;case m:return s=rn(12,r,a,d|2),s.elementType=m,s.lanes=p,s;case E:return s=rn(13,r,a,d),s.elementType=E,s.lanes=p,s;case T:return s=rn(19,r,a,d),s.elementType=T,s.lanes=p,s;case H:return O_(r,d,p,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:case v:b=10;break t;case y:b=9;break t;case S:b=11;break t;case D:b=14;break t;case N:b=16,u=null;break t}b=29,r=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=rn(b,r,a,d),a.elementType=s,a.type=u,a.lanes=p,a}function ds(s,a,r,u){return s=rn(7,s,u,a),s.lanes=r,s}function O_(s,a,r,u){s=rn(22,s,u,a),s.elementType=H,s.lanes=r;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=d._current;if(p===null)throw Error(i(456));if((d._pendingVisibility&2)===0){var b=di(p,2);b!==null&&(d._pendingVisibility|=2,Le(b,p,2))}},attach:function(){var p=d._current;if(p===null)throw Error(i(456));if((d._pendingVisibility&2)!==0){var b=di(p,2);b!==null&&(d._pendingVisibility&=-3,Le(b,p,2))}}};return s.stateNode=d,s}function Gh(s,a,r){return s=rn(6,s,null,a),s.lanes=r,s}function Wh(s,a,r){return a=rn(4,s.children!==null?s.children:[],s.key,a),a.lanes=r,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Wn(s){s.flags|=4}function R_(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!py(a)){if(a=an.current,a!==null&&((Ct&4194176)===Ct?An!==null:(Ct&62914560)!==Ct&&(Ct&536870912)===0||a!==An))throw co=$u,Xp;s.flags|=8192}}function Nr(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Qg():536870912,s.lanes|=a,ha|=a)}function Ao(s,a){if(!Tt)switch(s.tailMode){case"hidden":a=s.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?s.tail=null:r.sibling=null;break;case"collapsed":r=s.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Xt(s){var a=s.alternate!==null&&s.alternate.child===s.child,r=0,u=0;if(a)for(var d=s.child;d!==null;)r|=d.lanes|d.childLanes,u|=d.subtreeFlags&31457280,u|=d.flags&31457280,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)r|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=u,s.childLanes=r,a}function qE(s,a,r){var u=a.pendingProps;switch(Ku(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(a),null;case 1:return Xt(a),null;case 3:return r=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),jn(ce),Hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(s===null||s.child===null)&&(ao(a)?Wn(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,gn!==null&&(ef(gn),gn=null))),Xt(a),null;case 26:return r=a.memoizedState,s===null?(Wn(a),r!==null?(Xt(a),R_(a,r)):(Xt(a),a.flags&=-16777217)):r?r!==s.memoizedState?(Wn(a),Xt(a),R_(a,r)):(Xt(a),a.flags&=-16777217):(s.memoizedProps!==u&&Wn(a),Xt(a),a.flags&=-16777217),null;case 27:Yl(a),r=ci.current;var d=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Wn(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Xt(a),null}s=Cn.current,ao(a)?Gp(a):(s=ly(d,u,r),a.stateNode=s,Wn(a))}return Xt(a),null;case 5:if(Yl(a),r=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Wn(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Xt(a),null}if(s=Cn.current,ao(a))Gp(a);else{switch(d=jr(ci.current),s){case 1:s=d.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=d.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=d.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?d.createElement(r,{is:u.is}):d.createElement(r)}}s[Me]=a,s[Ie]=u;t:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break t;for(;d.sibling===null;){if(d.return===null||d.return===a)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=s;t:switch(Ee(s,r,u),r){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Wn(a)}}return Xt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&Wn(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=ci.current,ao(a)){if(s=a.stateNode,r=a.memoizedProps,u=null,d=ke,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}s[Me]=a,s=!!(s.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||ey(s.nodeValue,r)),s||is(a)}else s=jr(s).createTextNode(u),s[Me]=a,a.stateNode=s}return Xt(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(d=ao(a),u!==null&&u.dehydrated!==null){if(s===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Me]=a}else oo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Xt(a),d=!1}else gn!==null&&(ef(gn),gn=null),d=!0;if(!d)return a.flags&256?(Pn(a),a):(Pn(a),null)}if(Pn(a),(a.flags&128)!==0)return a.lanes=r,a;if(r=u!==null,s=s!==null&&s.memoizedState!==null,r){u=a.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)}return r!==s&&r&&(a.child.flags|=8192),Nr(a,a.updateQueue),Xt(a),null;case 4:return Hs(),s===null&&df(a.stateNode.containerInfo),Xt(a),null;case 10:return jn(a.type),Xt(a),null;case 19:if(se(re),d=a.memoizedState,d===null)return Xt(a),null;if(u=(a.flags&128)!==0,p=d.rendering,p===null)if(u)Ao(d,!1);else{if(Zt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=pr(s),p!==null){for(a.flags|=128,Ao(d,!1),s=p.updateQueue,a.updateQueue=s,Nr(a,s),a.subtreeFlags=0,s=r,r=a.child;r!==null;)D_(r,s),r=r.sibling;return Yt(re,re.current&1|2),a.child}s=s.sibling}d.tail!==null&&Tn()>kr&&(a.flags|=128,u=!0,Ao(d,!1),a.lanes=4194304)}else{if(!u)if(s=pr(p),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,Nr(a,s),Ao(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Tt)return Xt(a),null}else 2*Tn()-d.renderingStartTime>kr&&r!==536870912&&(a.flags|=128,u=!0,Ao(d,!1),a.lanes=4194304);d.isBackwards?(p.sibling=a.child,a.child=p):(s=d.last,s!==null?s.sibling=p:a.child=p,d.last=p)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Tn(),a.sibling=null,s=re.current,Yt(re,u?s&1|2:s&1),a):(Xt(a),null);case 22:case 23:return Pn(a),th(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(r&536870912)!==0&&(a.flags&128)===0&&(Xt(a),a.subtreeFlags&6&&(a.flags|=8192)):Xt(a),r=a.updateQueue,r!==null&&Nr(a,r.retryQueue),r=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==r&&(a.flags|=2048),s!==null&&se(as),null;case 24:return r=null,s!==null&&(r=s.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),jn(ce),Xt(a),null;case 25:return null}throw Error(i(156,a.tag))}function GE(s,a){switch(Ku(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return jn(ce),Hs(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Yl(a),null;case 13:if(Pn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));oo()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return se(re),null;case 4:return Hs(),null;case 10:return jn(a.type),null;case 22:case 23:return Pn(a),th(),s!==null&&se(as),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return jn(ce),null;case 25:return null;default:return null}}function N_(s,a){switch(Ku(a),a.tag){case 3:jn(ce),Hs();break;case 26:case 27:case 5:Yl(a);break;case 4:Hs();break;case 13:Pn(a);break;case 19:se(re);break;case 10:jn(a.type);break;case 22:case 23:Pn(a),th(),s!==null&&se(as);break;case 24:jn(ce)}}var WE={getCacheForType:function(s){var a=Ae(ce),r=a.data.get(s);return r===void 0&&(r=s(),a.data.set(s,r)),r}},XE=typeof WeakMap=="function"?WeakMap:Map,Qt=0,zt=null,bt=null,Ct=0,It=0,Xe=null,Xn=!1,ua=!1,Xh=!1,Qn=0,Zt=0,Mi=0,gs=0,Qh=0,cn=0,ha=0,wo=null,Dn=null,Kh=!1,Zh=0,kr=1/0,Lr=null,Ai=null,zr=!1,ps=null,Do=0,$h=0,Jh=null,Oo=0,tf=null;function Qe(){if((Qt&2)!==0&&Ct!==0)return Ct&-Ct;if(V.T!==null){var s=na;return s!==0?s:cf()}return Jg()}function k_(){cn===0&&(cn=(Ct&536870912)===0||Tt?Xg():536870912);var s=an.current;return s!==null&&(s.flags|=32),cn}function Le(s,a,r){(s===zt&&It===2||s.cancelPendingCommit!==null)&&(fa(s,0),Kn(s,Ct,cn,!1)),Wa(s,r),((Qt&2)===0||s!==zt)&&(s===zt&&((Qt&2)===0&&(gs|=r),Zt===4&&Kn(s,Ct,cn,!1)),On(s))}function L_(s,a,r){if((Qt&6)!==0)throw Error(i(327));var u=!r&&(a&60)===0&&(a&s.expiredLanes)===0||Ga(s,a),d=u?ZE(s,a):af(s,a,!0),p=u;do{if(d===0){ua&&!u&&Kn(s,a,0,!1);break}else if(d===6)Kn(s,a,0,!Xn);else{if(r=s.current.alternate,p&&!QE(r)){d=af(s,a,!1),p=!1;continue}if(d===2){if(p=a,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;t:{var x=s;d=wo;var C=x.current.memoizedState.isDehydrated;if(C&&(fa(x,b).flags|=256),b=af(x,b,!1),b!==2){if(Xh&&!C){x.errorRecoveryDisabledLanes|=p,gs|=p,d=4;break t}p=Dn,Dn=d,p!==null&&ef(p)}d=b}if(p=!1,d!==2)continue}}if(d===1){fa(s,0),Kn(s,a,0,!0);break}t:{switch(u=s,d){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){Kn(u,a,cn,!Xn);break t}break;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=r,u.finishedLanes=a,(a&62914560)===a&&(p=Zh+300-Tn(),10<p)){if(Kn(u,a,cn,!Xn),Xl(u,0)!==0)break t;u.timeoutHandle=sy(z_.bind(null,u,r,Dn,Lr,Kh,a,cn,gs,ha,Xn,2,-0,0),p);break t}z_(u,r,Dn,Lr,Kh,a,cn,gs,ha,Xn,0,-0,0)}}break}while(!0);On(s)}function ef(s){Dn===null?Dn=s:Dn.push.apply(Dn,s)}function z_(s,a,r,u,d,p,b,x,C,w,I,U,k){var z=a.subtreeFlags;if((z&8192||(z&16785408)===16785408)&&(Io={stylesheets:null,count:0,unsuspend:O1},T_(a),a=N1(),a!==null)){s.cancelPendingCommit=a(F_.bind(null,s,r,u,d,b,x,C,1,U,k)),Kn(s,p,b,!w);return}F_(s,r,u,d,b,x,C,I,U,k)}function QE(s){for(var a=s;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var d=r[u],p=d.getSnapshot;d=d.value;try{if(!qe(p(),d))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Kn(s,a,r,u){a&=~Qh,a&=~gs,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var d=a;0<d;){var p=31-Ye(d),b=1<<p;u[p]=-1,d&=~b}r!==0&&Kg(s,r,a)}function Ir(){return(Qt&6)===0?(Ro(0),!1):!0}function nf(){if(bt!==null){if(It===0)var s=bt.return;else s=bt,Fn=us=null,rh(s),ta=null,uo=0,s=bt;for(;s!==null;)N_(s.alternate,s),s=s.return;bt=null}}function fa(s,a){s.finishedWork=null,s.finishedLanes=0;var r=s.timeoutHandle;r!==-1&&(s.timeoutHandle=-1,g1(r)),r=s.cancelPendingCommit,r!==null&&(s.cancelPendingCommit=null,r()),nf(),zt=s,bt=r=Ti(s.current,null),Ct=a,It=0,Xe=null,Xn=!1,ua=Ga(s,a),Xh=!1,ha=cn=Qh=gs=Mi=Zt=0,Dn=wo=null,Kh=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var d=31-Ye(u),p=1<<d;a|=s[d],u&=~p}return Qn=a,or(),r}function I_(s,a){pt=null,V.H=wn,a===ro?(a=Zp(),It=3):a===Xp?(a=Zp(),It=4):It=a===Qm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Xe=a,bt===null&&(Zt=1,Mr(s,en(a,s.current)))}function B_(){var s=V.H;return V.H=wn,s===null?wn:s}function H_(){var s=V.A;return V.A=WE,s}function sf(){Zt=4,Xn||(Ct&4194176)!==Ct&&an.current!==null||(ua=!0),(Mi&134217727)===0&&(gs&134217727)===0||zt===null||Kn(zt,Ct,cn,!1)}function af(s,a,r){var u=Qt;Qt|=2;var d=B_(),p=H_();(zt!==s||Ct!==a)&&(Lr=null,fa(s,a)),a=!1;var b=Zt;t:do try{if(It!==0&&bt!==null){var x=bt,C=Xe;switch(It){case 8:nf(),b=6;break t;case 3:case 2:case 6:an.current===null&&(a=!0);var w=It;if(It=0,Xe=null,da(s,x,C,w),r&&ua){b=0;break t}break;default:w=It,It=0,Xe=null,da(s,x,C,w)}}KE(),b=Zt;break}catch(I){I_(s,I)}while(!0);return a&&s.shellSuspendCounter++,Fn=us=null,Qt=u,V.H=d,V.A=p,bt===null&&(zt=null,Ct=0,or()),b}function KE(){for(;bt!==null;)P_(bt)}function ZE(s,a){var r=Qt;Qt|=2;var u=B_(),d=H_();zt!==s||Ct!==a?(Lr=null,kr=Tn()+500,fa(s,a)):ua=Ga(s,a);t:do try{if(It!==0&&bt!==null){a=bt;var p=Xe;e:switch(It){case 1:It=0,Xe=null,da(s,a,p,1);break;case 2:if(Qp(p)){It=0,Xe=null,U_(a);break}a=function(){It===2&&zt===s&&(It=7),On(s)},p.then(a,a);break t;case 3:It=7;break t;case 4:It=5;break t;case 7:Qp(p)?(It=0,Xe=null,U_(a)):(It=0,Xe=null,da(s,a,p,7));break;case 5:var b=null;switch(bt.tag){case 26:b=bt.memoizedState;case 5:case 27:var x=bt;if(!b||py(b)){It=0,Xe=null;var C=x.sibling;if(C!==null)bt=C;else{var w=x.return;w!==null?(bt=w,Br(w)):bt=null}break e}}It=0,Xe=null,da(s,a,p,5);break;case 6:It=0,Xe=null,da(s,a,p,6);break;case 8:nf(),Zt=6;break t;default:throw Error(i(462))}}$E();break}catch(I){I_(s,I)}while(!0);return Fn=us=null,V.H=u,V.A=d,Qt=r,bt!==null?0:(zt=null,Ct=0,or(),Zt)}function $E(){for(;bt!==null&&!vx();)P_(bt)}function P_(s){var a=l_(s.alternate,s,Qn);s.memoizedProps=s.pendingProps,a===null?Br(s):bt=a}function U_(s){var a=s,r=a.alternate;switch(a.tag){case 15:case 0:a=e_(r,a,a.pendingProps,a.type,void 0,Ct);break;case 11:a=e_(r,a,a.pendingProps,a.type.render,a.ref,Ct);break;case 5:rh(a);default:N_(r,a),a=bt=D_(a,Qn),a=l_(r,a,Qn)}s.memoizedProps=s.pendingProps,a===null?Br(s):bt=a}function da(s,a,r,u){Fn=us=null,rh(a),ta=null,uo=0;var d=a.return;try{if(UE(s,d,a,r,Ct)){Zt=1,Mr(s,en(r,s.current)),bt=null;return}}catch(p){if(d!==null)throw bt=d,p;Zt=1,Mr(s,en(r,s.current)),bt=null;return}a.flags&32768?(Tt||u===1?s=!0:ua||(Ct&536870912)!==0?s=!1:(Xn=s=!0,(u===2||u===3||u===6)&&(u=an.current,u!==null&&u.tag===13&&(u.flags|=16384))),V_(a,s)):Br(a)}function Br(s){var a=s;do{if((a.flags&32768)!==0){V_(a,Xn);return}s=a.return;var r=qE(a.alternate,a,Qn);if(r!==null){bt=r;return}if(a=a.sibling,a!==null){bt=a;return}bt=a=s}while(a!==null);Zt===0&&(Zt=5)}function V_(s,a){do{var r=GE(s.alternate,s);if(r!==null){r.flags&=32767,bt=r;return}if(r=s.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(s=s.sibling,s!==null)){bt=s;return}bt=s=r}while(s!==null);Zt=6,bt=null}function F_(s,a,r,u,d,p,b,x,C,w){var I=V.T,U=Q.p;try{Q.p=2,V.T=null,JE(s,a,r,u,U,d,p,b,x,C,w)}finally{V.T=I,Q.p=U}}function JE(s,a,r,u,d,p,b,x){do ga();while(ps!==null);if((Qt&6)!==0)throw Error(i(327));var C=s.finishedWork;if(u=s.finishedLanes,C===null)return null;if(s.finishedWork=null,s.finishedLanes=0,C===s.current)throw Error(i(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var w=C.lanes|C.childLanes;if(w|=Wu,Rx(s,u,w,p,b,x),s===zt&&(bt=zt=null,Ct=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||zr||(zr=!0,$h=w,Jh=r,i1(ql,function(){return ga(),null})),r=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||r?(r=V.T,V.T=null,p=Q.p,Q.p=2,b=Qt,Qt|=4,FE(s,C),x_(C,s),EE(_f,s.containerInfo),Qr=!!mf,_f=mf=null,s.current=C,y_(s,C.alternate,C),Sx(),Qt=b,Q.p=p,V.T=r):s.current=C,zr?(zr=!1,ps=s,Do=u):j_(s,w),w=s.pendingLanes,w===0&&(Ai=null),Mx(C.stateNode),On(s),a!==null)for(d=s.onRecoverableError,C=0;C<a.length;C++)w=a[C],d(w.value,{componentStack:w.stack});return(Do&3)!==0&&ga(),w=s.pendingLanes,(u&4194218)!==0&&(w&42)!==0?s===tf?Oo++:(Oo=0,tf=s):Oo=0,Ro(0),null}function j_(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,fo(a)))}function ga(){if(ps!==null){var s=ps,a=$h;$h=0;var r=$g(Do),u=V.T,d=Q.p;try{if(Q.p=32>r?32:r,V.T=null,ps===null)var p=!1;else{r=Jh,Jh=null;var b=ps,x=Do;if(ps=null,Do=0,(Qt&6)!==0)throw Error(i(331));var C=Qt;if(Qt|=4,A_(b.current),C_(b,b.current,x,r),Qt=C,Ro(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(qa,b)}catch{}p=!0}return p}finally{Q.p=d,V.T=u,j_(s,a)}}return!1}function Y_(s,a,r){a=en(r,a),a=xh(s.stateNode,a,2),s=Si(s,a,2),s!==null&&(Wa(s,2),On(s))}function Lt(s,a,r){if(s.tag===3)Y_(s,s,r);else for(;a!==null;){if(a.tag===3){Y_(a,s,r);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ai===null||!Ai.has(u))){s=en(r,s),r=Wm(2),u=Si(a,r,2),u!==null&&(Xm(r,u,a,s),Wa(u,2),On(u));break}}a=a.return}}function of(s,a,r){var u=s.pingCache;if(u===null){u=s.pingCache=new XE;var d=new Set;u.set(a,d)}else d=u.get(a),d===void 0&&(d=new Set,u.set(a,d));d.has(r)||(Xh=!0,d.add(r),s=t1.bind(null,s,a,r),a.then(s,s))}function t1(s,a,r){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&r,s.warmLanes&=~r,zt===s&&(Ct&r)===r&&(Zt===4||Zt===3&&(Ct&62914560)===Ct&&300>Tn()-Zh?(Qt&2)===0&&fa(s,0):Qh|=r,ha===Ct&&(ha=0)),On(s)}function q_(s,a){a===0&&(a=Qg()),s=di(s,a),s!==null&&(Wa(s,a),On(s))}function e1(s){var a=s.memoizedState,r=0;a!==null&&(r=a.retryLane),q_(s,r)}function n1(s,a){var r=0;switch(s.tag){case 13:var u=s.stateNode,d=s.memoizedState;d!==null&&(r=d.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),q_(s,r)}function i1(s,a){return Eu(s,a)}var Hr=null,pa=null,lf=!1,Pr=!1,rf=!1,ms=0;function On(s){s!==pa&&s.next===null&&(pa===null?Hr=pa=s:pa=pa.next=s),Pr=!0,lf||(lf=!0,a1(s1))}function Ro(s,a){if(!rf&&Pr){rf=!0;do for(var r=!1,u=Hr;u!==null;){if(s!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var b=u.suspendedLanes,x=u.pingedLanes;p=(1<<31-Ye(42|s)+1)-1,p&=d&~(b&~x),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(r=!0,X_(u,p))}else p=Ct,p=Xl(u,u===zt?p:0),(p&3)===0||Ga(u,p)||(r=!0,X_(u,p));u=u.next}while(r);rf=!1}}function s1(){Pr=lf=!1;var s=0;ms!==0&&(d1()&&(s=ms),ms=0);for(var a=Tn(),r=null,u=Hr;u!==null;){var d=u.next,p=G_(u,a);p===0?(u.next=null,r===null?Hr=d:r.next=d,d===null&&(pa=r)):(r=u,(s!==0||(p&3)!==0)&&(Pr=!0)),u=d}Ro(s)}function G_(s,a){for(var r=s.suspendedLanes,u=s.pingedLanes,d=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-Ye(p),x=1<<b,C=d[b];C===-1?((x&r)===0||(x&u)!==0)&&(d[b]=Ox(x,a)):C<=a&&(s.expiredLanes|=x),p&=~x}if(a=zt,r=Ct,r=Xl(s,s===a?r:0),u=s.callbackNode,r===0||s===a&&It===2||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Cu(u),s.callbackNode=null,s.callbackPriority=0;if((r&3)===0||Ga(s,r)){if(a=r&-r,a===s.callbackPriority)return a;switch(u!==null&&Cu(u),$g(r)){case 2:case 8:r=Gg;break;case 32:r=ql;break;case 268435456:r=Wg;break;default:r=ql}return u=W_.bind(null,s),r=Eu(r,u),s.callbackPriority=a,s.callbackNode=r,a}return u!==null&&u!==null&&Cu(u),s.callbackPriority=2,s.callbackNode=null,2}function W_(s,a){var r=s.callbackNode;if(ga()&&s.callbackNode!==r)return null;var u=Ct;return u=Xl(s,s===zt?u:0),u===0?null:(L_(s,u,a),G_(s,Tn()),s.callbackNode!=null&&s.callbackNode===r?W_.bind(null,s):null)}function X_(s,a){if(ga())return null;L_(s,a,!0)}function a1(s){p1(function(){(Qt&6)!==0?Eu(qg,s):s()})}function cf(){return ms===0&&(ms=Xg()),ms}function Q_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Jl(""+s)}function K_(s,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,s.id&&r.setAttribute("form",s.id),a.parentNode.insertBefore(r,a),s=new FormData(s),r.parentNode.removeChild(r),s}function o1(s,a,r,u,d){if(a==="submit"&&r&&r.stateNode===d){var p=Q_((d[Ie]||null).action),b=u.submitter;b&&(a=(a=b[Ie]||null)?Q_(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var x=new ir("action","action",null,u,d);s.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ms!==0){var C=b?K_(d,b):new FormData(d);_h(r,{pending:!0,data:C,method:d.method,action:p},null,C)}}else typeof p=="function"&&(x.preventDefault(),C=b?K_(d,b):new FormData(d),_h(r,{pending:!0,data:C,method:d.method,action:p},p,C))},currentTarget:d}]})}}for(var uf=0;uf<Fp.length;uf++){var hf=Fp[uf],l1=hf.toLowerCase(),r1=hf[0].toUpperCase()+hf.slice(1);dn(l1,"on"+r1)}dn(Bp,"onAnimationEnd"),dn(Hp,"onAnimationIteration"),dn(Pp,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(TE,"onTransitionRun"),dn(ME,"onTransitionStart"),dn(AE,"onTransitionCancel"),dn(Up,"onTransitionEnd"),Fs("onMouseEnter",["mouseout","mouseover"]),Fs("onMouseLeave",["mouseout","mouseover"]),Fs("onPointerEnter",["pointerout","pointerover"]),Fs("onPointerLeave",["pointerout","pointerover"]),Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function Z_(s,a){a=(a&4)!==0;for(var r=0;r<s.length;r++){var u=s[r],d=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var b=u.length-1;0<=b;b--){var x=u[b],C=x.instance,w=x.currentTarget;if(x=x.listener,C!==p&&d.isPropagationStopped())break t;p=x,d.currentTarget=w;try{p(d)}catch(I){Tr(I)}d.currentTarget=null,p=C}else for(b=0;b<u.length;b++){if(x=u[b],C=x.instance,w=x.currentTarget,x=x.listener,C!==p&&d.isPropagationStopped())break t;p=x,d.currentTarget=w;try{p(d)}catch(I){Tr(I)}d.currentTarget=null,p=C}}}}function Et(s,a){var r=a[Mu];r===void 0&&(r=a[Mu]=new Set);var u=s+"__bubble";r.has(u)||($_(a,s,2,!1),r.add(u))}function ff(s,a,r){var u=0;a&&(u|=4),$_(r,s,u,a)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function df(s){if(!s[Ur]){s[Ur]=!0,ep.forEach(function(r){r!=="selectionchange"&&(c1.has(r)||ff(r,!1,s),ff(r,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ur]||(a[Ur]=!0,ff("selectionchange",!1,a))}}function $_(s,a,r,u){switch(Sy(a)){case 2:var d=z1;break;case 8:d=I1;break;default:d=Mf}r=d.bind(null,a,r,s),d=void 0,!Lu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),u?d!==void 0?s.addEventListener(a,r,{capture:!0,passive:d}):s.addEventListener(a,r,!0):d!==void 0?s.addEventListener(a,r,{passive:d}):s.addEventListener(a,r,!1)}function gf(s,a,r,u,d){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var x=u.stateNode.containerInfo;if(x===d||x.nodeType===8&&x.parentNode===d)break;if(b===4)for(b=u.return;b!==null;){var C=b.tag;if((C===3||C===4)&&(C=b.stateNode.containerInfo,C===d||C.nodeType===8&&C.parentNode===d))return;b=b.return}for(;x!==null;){if(b=Ki(x),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){u=p=b;continue t}x=x.parentNode}}u=u.return}dp(function(){var w=p,I=Nu(r),U=[];t:{var k=Vp.get(s);if(k!==void 0){var z=ir,tt=s;switch(s){case"keypress":if(er(r)===0)break t;case"keydown":case"keyup":z=nE;break;case"focusin":tt="focus",z=Hu;break;case"focusout":tt="blur",z=Hu;break;case"beforeblur":case"afterblur":z=Hu;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=aE;break;case Bp:case Hp:case Pp:z=Wx;break;case Up:z=lE;break;case"scroll":case"scrollend":z=Fx;break;case"wheel":z=cE;break;case"copy":case"cut":case"paste":z=Qx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=yp;break;case"toggle":case"beforetoggle":z=hE}var ct=(a&4)!==0,$t=!ct&&(s==="scroll"||s==="scrollend"),O=ct?k!==null?k+"Capture":null:k;ct=[];for(var A=w,R;A!==null;){var B=A;if(R=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||R===null||O===null||(B=Ka(A,O),B!=null&&ct.push(ko(A,B,R))),$t)break;A=A.return}0<ct.length&&(k=new z(k,tt,null,r,I),U.push({event:k,listeners:ct}))}}if((a&7)===0){t:{if(k=s==="mouseover"||s==="pointerover",z=s==="mouseout"||s==="pointerout",k&&r!==Ru&&(tt=r.relatedTarget||r.fromElement)&&(Ki(tt)||tt[Ps]))break t;if((z||k)&&(k=I.window===I?I:(k=I.ownerDocument)?k.defaultView||k.parentWindow:window,z?(tt=r.relatedTarget||r.toElement,z=w,tt=tt?Ki(tt):null,tt!==null&&($t=J(tt),ct=tt.tag,tt!==$t||ct!==5&&ct!==27&&ct!==6)&&(tt=null)):(z=null,tt=w),z!==tt)){if(ct=mp,B="onMouseLeave",O="onMouseEnter",A="mouse",(s==="pointerout"||s==="pointerover")&&(ct=yp,B="onPointerLeave",O="onPointerEnter",A="pointer"),$t=z==null?k:Qa(z),R=tt==null?k:Qa(tt),k=new ct(B,A+"leave",z,r,I),k.target=$t,k.relatedTarget=R,B=null,Ki(I)===w&&(ct=new ct(O,A+"enter",tt,r,I),ct.target=R,ct.relatedTarget=$t,B=ct),$t=B,z&&tt)e:{for(ct=z,O=tt,A=0,R=ct;R;R=ma(R))A++;for(R=0,B=O;B;B=ma(B))R++;for(;0<A-R;)ct=ma(ct),A--;for(;0<R-A;)O=ma(O),R--;for(;A--;){if(ct===O||O!==null&&ct===O.alternate)break e;ct=ma(ct),O=ma(O)}ct=null}else ct=null;z!==null&&J_(U,k,z,ct,!1),tt!==null&&$t!==null&&J_(U,$t,tt,ct,!0)}}t:{if(k=w?Qa(w):window,z=k.nodeName&&k.nodeName.toLowerCase(),z==="select"||z==="input"&&k.type==="file")var $=Mp;else if(Cp(k))if(Ap)$=SE;else{$=bE;var mt=yE}else z=k.nodeName,!z||z.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?w&&Ou(w.elementType)&&($=Mp):$=vE;if($&&($=$(s,w))){Tp(U,$,r,I);break t}mt&&mt(s,k,w),s==="focusout"&&w&&k.type==="number"&&w.memoizedProps.value!=null&&Du(k,"number",k.value)}switch(mt=w?Qa(w):window,s){case"focusin":(Cp(mt)||mt.contentEditable==="true")&&(Xs=mt,Yu=w,so=null);break;case"focusout":so=Yu=Xs=null;break;case"mousedown":qu=!0;break;case"contextmenu":case"mouseup":case"dragend":qu=!1,zp(U,r,I);break;case"selectionchange":if(CE)break;case"keydown":case"keyup":zp(U,r,I)}var it;if(Uu)t:{switch(s){case"compositionstart":var at="onCompositionStart";break t;case"compositionend":at="onCompositionEnd";break t;case"compositionupdate":at="onCompositionUpdate";break t}at=void 0}else Ws?xp(s,r)&&(at="onCompositionEnd"):s==="keydown"&&r.keyCode===229&&(at="onCompositionStart");at&&(bp&&r.locale!=="ko"&&(Ws||at!=="onCompositionStart"?at==="onCompositionEnd"&&Ws&&(it=gp()):(fi=I,zu="value"in fi?fi.value:fi.textContent,Ws=!0)),mt=Vr(w,at),0<mt.length&&(at=new _p(at,s,null,r,I),U.push({event:at,listeners:mt}),it?at.data=it:(it=Ep(r),it!==null&&(at.data=it)))),(it=dE?gE(s,r):pE(s,r))&&(at=Vr(w,"onBeforeInput"),0<at.length&&(mt=new _p("onBeforeInput","beforeinput",null,r,I),U.push({event:mt,listeners:at}),mt.data=it)),o1(U,s,w,r,I)}Z_(U,a)})}function ko(s,a,r){return{instance:s,listener:a,currentTarget:r}}function Vr(s,a){for(var r=a+"Capture",u=[];s!==null;){var d=s,p=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Ka(s,r),d!=null&&u.unshift(ko(s,d,p)),d=Ka(s,a),d!=null&&u.push(ko(s,d,p))),s=s.return}return u}function ma(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function J_(s,a,r,u,d){for(var p=a._reactName,b=[];r!==null&&r!==u;){var x=r,C=x.alternate,w=x.stateNode;if(x=x.tag,C!==null&&C===u)break;x!==5&&x!==26&&x!==27||w===null||(C=w,d?(w=Ka(r,p),w!=null&&b.unshift(ko(r,w,C))):d||(w=Ka(r,p),w!=null&&b.push(ko(r,w,C)))),r=r.return}b.length!==0&&s.push({event:a,listeners:b})}var u1=/\r\n?/g,h1=/\u0000|\uFFFD/g;function ty(s){return(typeof s=="string"?s:""+s).replace(u1,`
`).replace(h1,"")}function ey(s,a){return a=ty(a),ty(s)===a}function Fr(){}function Nt(s,a,r,u,d,p){switch(r){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Ys(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Ys(s,""+u);break;case"className":Kl(s,"class",u);break;case"tabIndex":Kl(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Kl(s,r,u);break;case"style":hp(s,u,p);break;case"data":if(a!=="object"){Kl(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||r!=="href")){s.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(r);break}u=Jl(""+u),s.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(r==="formAction"?(a!=="input"&&Nt(s,a,"name",d.name,d,null),Nt(s,a,"formEncType",d.formEncType,d,null),Nt(s,a,"formMethod",d.formMethod,d,null),Nt(s,a,"formTarget",d.formTarget,d,null)):(Nt(s,a,"encType",d.encType,d,null),Nt(s,a,"method",d.method,d,null),Nt(s,a,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(r);break}u=Jl(""+u),s.setAttribute(r,u);break;case"onClick":u!=null&&(s.onclick=Fr);break;case"onScroll":u!=null&&Et("scroll",s);break;case"onScrollEnd":u!=null&&Et("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(r=u.__html,r!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=r}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}r=Jl(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(r,""+u):s.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(r,""):s.removeAttribute(r);break;case"capture":case"download":u===!0?s.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(r,u):s.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(r,u):s.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(r):s.setAttribute(r,u);break;case"popover":Et("beforetoggle",s),Et("toggle",s),Ql(s,"popover",u);break;case"xlinkActuate":In(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":In(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":In(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":In(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":In(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":In(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":In(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":In(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":In(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ql(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ux.get(r)||r,Ql(s,r,u))}}function pf(s,a,r,u,d,p){switch(r){case"style":hp(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(r=u.__html,r!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=r}}break;case"children":typeof u=="string"?Ys(s,u):(typeof u=="number"||typeof u=="bigint")&&Ys(s,""+u);break;case"onScroll":u!=null&&Et("scroll",s);break;case"onScrollEnd":u!=null&&Et("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Fr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!np.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),a=r.slice(2,d?r.length-7:void 0),p=s[Ie]||null,p=p!=null?p[r]:null,typeof p=="function"&&s.removeEventListener(a,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(r in s?s[r]=null:s.hasAttribute(r)&&s.removeAttribute(r)),s.addEventListener(a,u,d);break t}r in s?s[r]=u:u===!0?s.setAttribute(r,""):Ql(s,r,u)}}}function Ee(s,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",s),Et("load",s);var u=!1,d=!1,p;for(p in r)if(r.hasOwnProperty(p)){var b=r[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Nt(s,a,p,b,r,null)}}d&&Nt(s,a,"srcSet",r.srcSet,r,null),u&&Nt(s,a,"src",r.src,r,null);return;case"input":Et("invalid",s);var x=p=b=d=null,C=null,w=null;for(u in r)if(r.hasOwnProperty(u)){var I=r[u];if(I!=null)switch(u){case"name":d=I;break;case"type":b=I;break;case"checked":C=I;break;case"defaultChecked":w=I;break;case"value":p=I;break;case"defaultValue":x=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,a));break;default:Nt(s,a,u,I,r,null)}}lp(s,p,x,C,w,b,d,!1),Zl(s);return;case"select":Et("invalid",s),u=b=p=null;for(d in r)if(r.hasOwnProperty(d)&&(x=r[d],x!=null))switch(d){case"value":p=x;break;case"defaultValue":b=x;break;case"multiple":u=x;default:Nt(s,a,d,x,r,null)}a=p,r=b,s.multiple=!!u,a!=null?js(s,!!u,a,!1):r!=null&&js(s,!!u,r,!0);return;case"textarea":Et("invalid",s),p=d=u=null;for(b in r)if(r.hasOwnProperty(b)&&(x=r[b],x!=null))switch(b){case"value":u=x;break;case"defaultValue":d=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Nt(s,a,b,x,r,null)}cp(s,u,d,p),Zl(s);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(u=r[C],u!=null))switch(C){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Nt(s,a,C,u,r,null)}return;case"dialog":Et("cancel",s),Et("close",s);break;case"iframe":case"object":Et("load",s);break;case"video":case"audio":for(u=0;u<No.length;u++)Et(No[u],s);break;case"image":Et("error",s),Et("load",s);break;case"details":Et("toggle",s);break;case"embed":case"source":case"link":Et("error",s),Et("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in r)if(r.hasOwnProperty(w)&&(u=r[w],u!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Nt(s,a,w,u,r,null)}return;default:if(Ou(a)){for(I in r)r.hasOwnProperty(I)&&(u=r[I],u!==void 0&&pf(s,a,I,u,r,void 0));return}}for(x in r)r.hasOwnProperty(x)&&(u=r[x],u!=null&&Nt(s,a,x,u,r,null))}function f1(s,a,r,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,b=null,x=null,C=null,w=null,I=null;for(z in r){var U=r[z];if(r.hasOwnProperty(z)&&U!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":C=U;default:u.hasOwnProperty(z)||Nt(s,a,z,null,u,U)}}for(var k in u){var z=u[k];if(U=r[k],u.hasOwnProperty(k)&&(z!=null||U!=null))switch(k){case"type":p=z;break;case"name":d=z;break;case"checked":w=z;break;case"defaultChecked":I=z;break;case"value":b=z;break;case"defaultValue":x=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,a));break;default:z!==U&&Nt(s,a,k,z,u,U)}}wu(s,b,x,C,w,I,p,d);return;case"select":z=b=x=k=null;for(p in r)if(C=r[p],r.hasOwnProperty(p)&&C!=null)switch(p){case"value":break;case"multiple":z=C;default:u.hasOwnProperty(p)||Nt(s,a,p,null,u,C)}for(d in u)if(p=u[d],C=r[d],u.hasOwnProperty(d)&&(p!=null||C!=null))switch(d){case"value":k=p;break;case"defaultValue":x=p;break;case"multiple":b=p;default:p!==C&&Nt(s,a,d,p,u,C)}a=x,r=b,u=z,k!=null?js(s,!!r,k,!1):!!u!=!!r&&(a!=null?js(s,!!r,a,!0):js(s,!!r,r?[]:"",!1));return;case"textarea":z=k=null;for(x in r)if(d=r[x],r.hasOwnProperty(x)&&d!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Nt(s,a,x,null,u,d)}for(b in u)if(d=u[b],p=r[b],u.hasOwnProperty(b)&&(d!=null||p!=null))switch(b){case"value":k=d;break;case"defaultValue":z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&Nt(s,a,b,d,u,p)}rp(s,k,z);return;case"option":for(var tt in r)if(k=r[tt],r.hasOwnProperty(tt)&&k!=null&&!u.hasOwnProperty(tt))switch(tt){case"selected":s.selected=!1;break;default:Nt(s,a,tt,null,u,k)}for(C in u)if(k=u[C],z=r[C],u.hasOwnProperty(C)&&k!==z&&(k!=null||z!=null))switch(C){case"selected":s.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Nt(s,a,C,k,u,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)k=r[ct],r.hasOwnProperty(ct)&&k!=null&&!u.hasOwnProperty(ct)&&Nt(s,a,ct,null,u,k);for(w in u)if(k=u[w],z=r[w],u.hasOwnProperty(w)&&k!==z&&(k!=null||z!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(137,a));break;default:Nt(s,a,w,k,u,z)}return;default:if(Ou(a)){for(var $t in r)k=r[$t],r.hasOwnProperty($t)&&k!==void 0&&!u.hasOwnProperty($t)&&pf(s,a,$t,void 0,u,k);for(I in u)k=u[I],z=r[I],!u.hasOwnProperty(I)||k===z||k===void 0&&z===void 0||pf(s,a,I,k,u,z);return}}for(var O in r)k=r[O],r.hasOwnProperty(O)&&k!=null&&!u.hasOwnProperty(O)&&Nt(s,a,O,null,u,k);for(U in u)k=u[U],z=r[U],!u.hasOwnProperty(U)||k===z||k==null&&z==null||Nt(s,a,U,k,u,z)}var mf=null,_f=null;function jr(s){return s.nodeType===9?s:s.ownerDocument}function ny(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iy(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function yf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var bf=null;function d1(){var s=window.event;return s&&s.type==="popstate"?s===bf?!1:(bf=s,!0):(bf=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,p1=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(s){return ay.resolve(null).then(s).catch(m1)}:sy;function m1(s){setTimeout(function(){throw s})}function vf(s,a){var r=a,u=0;do{var d=r.nextSibling;if(s.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"){if(u===0){s.removeChild(d),Vo(a);return}u--}else r!=="$"&&r!=="$?"&&r!=="$!"||u++;r=d}while(r);Vo(a)}function Sf(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Sf(r),Au(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}s.removeChild(r)}}function _1(s,a,r,u){for(;s.nodeType===1;){var d=r;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Xa])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==d.rel||s.getAttribute("href")!==(d.href==null?null:d.href)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||s.getAttribute("title")!==(d.title==null?null:d.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(d.src==null?null:d.src)||s.getAttribute("type")!==(d.type==null?null:d.type)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=mn(s.nextSibling),s===null)break}return null}function y1(s,a,r){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=mn(s.nextSibling),s===null))return null;return s}function mn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}function oy(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var r=s.data;if(r==="$"||r==="$!"||r==="$?"){if(a===0)return s;a--}else r==="/$"&&a++}s=s.previousSibling}return null}function ly(s,a,r){switch(a=jr(r),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}var un=new Map,ry=new Set;function Yr(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Zn=Q.d;Q.d={f:b1,r:v1,D:S1,C:x1,L:E1,m:C1,X:M1,S:T1,M:A1};function b1(){var s=Zn.f(),a=Ir();return s||a}function v1(s){var a=Us(s);a!==null&&a.tag===5&&a.type==="form"?zm(a):Zn.r(s)}var _a=typeof document>"u"?null:document;function cy(s,a,r){var u=_a;if(u&&typeof a=="string"&&a){var d=Je(a);d='link[rel="'+s+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),ry.has(d)||(ry.add(d),s={rel:s,crossOrigin:r,href:a},u.querySelector(d)===null&&(a=u.createElement("link"),Ee(a,"link",s),he(a),u.head.appendChild(a)))}}function S1(s){Zn.D(s),cy("dns-prefetch",s,null)}function x1(s,a){Zn.C(s,a),cy("preconnect",s,a)}function E1(s,a,r){Zn.L(s,a,r);var u=_a;if(u&&s&&a){var d='link[rel="preload"][as="'+Je(a)+'"]';a==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+Je(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+Je(r.imageSizes)+'"]')):d+='[href="'+Je(s)+'"]';var p=d;switch(a){case"style":p=ya(s);break;case"script":p=ba(s)}un.has(p)||(s=K({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:s,as:a},r),un.set(p,s),u.querySelector(d)!==null||a==="style"&&u.querySelector(Lo(p))||a==="script"&&u.querySelector(zo(p))||(a=u.createElement("link"),Ee(a,"link",s),he(a),u.head.appendChild(a)))}}function C1(s,a){Zn.m(s,a);var r=_a;if(r&&s){var u=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+Je(u)+'"][href="'+Je(s)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ba(s)}if(!un.has(p)&&(s=K({rel:"modulepreload",href:s},a),un.set(p,s),r.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(zo(p)))return}u=r.createElement("link"),Ee(u,"link",s),he(u),r.head.appendChild(u)}}}function T1(s,a,r){Zn.S(s,a,r);var u=_a;if(u&&s){var d=Vs(u).hoistableStyles,p=ya(s);a=a||"default";var b=d.get(p);if(!b){var x={loading:0,preload:null};if(b=u.querySelector(Lo(p)))x.loading=5;else{s=K({rel:"stylesheet",href:s,"data-precedence":a},r),(r=un.get(p))&&xf(s,r);var C=b=u.createElement("link");he(C),Ee(C,"link",s),C._p=new Promise(function(w,I){C.onload=w,C.onerror=I}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,qr(b,a,u)}b={type:"stylesheet",instance:b,count:1,state:x},d.set(p,b)}}}function M1(s,a){Zn.X(s,a);var r=_a;if(r&&s){var u=Vs(r).hoistableScripts,d=ba(s),p=u.get(d);p||(p=r.querySelector(zo(d)),p||(s=K({src:s,async:!0},a),(a=un.get(d))&&Ef(s,a),p=r.createElement("script"),he(p),Ee(p,"link",s),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function A1(s,a){Zn.M(s,a);var r=_a;if(r&&s){var u=Vs(r).hoistableScripts,d=ba(s),p=u.get(d);p||(p=r.querySelector(zo(d)),p||(s=K({src:s,async:!0,type:"module"},a),(a=un.get(d))&&Ef(s,a),p=r.createElement("script"),he(p),Ee(p,"link",s),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function uy(s,a,r,u){var d=(d=ci.current)?Yr(d):null;if(!d)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=ya(r.href),r=Vs(d).hoistableStyles,u=r.get(a),u||(u={type:"style",instance:null,count:0,state:null},r.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){s=ya(r.href);var p=Vs(d).hoistableStyles,b=p.get(s);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=d.querySelector(Lo(s)))&&!p._p&&(b.instance=p,b.state.loading=5),un.has(s)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},un.set(s,r),p||w1(d,s,r,b.state))),a&&u===null)throw Error(i(528,""));return b}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ba(r),r=Vs(d).hoistableScripts,u=r.get(a),u||(u={type:"script",instance:null,count:0,state:null},r.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ya(s){return'href="'+Je(s)+'"'}function Lo(s){return'link[rel="stylesheet"]['+s+"]"}function hy(s){return K({},s,{"data-precedence":s.precedence,precedence:null})}function w1(s,a,r,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Ee(a,"link",r),he(a),s.head.appendChild(a))}function ba(s){return'[src="'+Je(s)+'"]'}function zo(s){return"script[async]"+s}function fy(s,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+Je(r.href)+'"]');if(u)return a.instance=u,he(u),u;var d=K({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),he(u),Ee(u,"style",d),qr(u,r.precedence,s),a.instance=u;case"stylesheet":d=ya(r.href);var p=s.querySelector(Lo(d));if(p)return a.state.loading|=4,a.instance=p,he(p),p;u=hy(r),(d=un.get(d))&&xf(u,d),p=(s.ownerDocument||s).createElement("link"),he(p);var b=p;return b._p=new Promise(function(x,C){b.onload=x,b.onerror=C}),Ee(p,"link",u),a.state.loading|=4,qr(p,r.precedence,s),a.instance=p;case"script":return p=ba(r.src),(d=s.querySelector(zo(p)))?(a.instance=d,he(d),d):(u=r,(d=un.get(p))&&(u=K({},r),Ef(u,d)),s=s.ownerDocument||s,d=s.createElement("script"),he(d),Ee(d,"link",u),s.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,qr(u,r.precedence,s));return a.instance}function qr(s,a,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,b=0;b<u.length;b++){var x=u[b];if(x.dataset.precedence===a)p=x;else if(p!==d)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(s,a.firstChild))}function xf(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Ef(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Gr=null;function dy(s,a,r){if(Gr===null){var u=new Map,d=Gr=new Map;d.set(r,u)}else d=Gr,u=d.get(r),u||(u=new Map,d.set(r,u));if(u.has(s))return u;for(u.set(s,null),r=r.getElementsByTagName(s),d=0;d<r.length;d++){var p=r[d];if(!(p[Xa]||p[Me]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=s+b;var x=u.get(b);x?x.push(p):u.set(b,[p])}}return u}function gy(s,a,r){s=s.ownerDocument||s,s.head.insertBefore(r,a==="title"?s.querySelector("head > title"):null)}function D1(s,a,r){if(r===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function py(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Io=null;function O1(){}function R1(s,a,r){if(Io===null)throw Error(i(475));var u=Io;if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=ya(r.href),p=s.querySelector(Lo(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Wr.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=p,he(p);return}p=s.ownerDocument||s,r=hy(r),(d=un.get(d))&&xf(r,d),p=p.createElement("link"),he(p);var b=p;b._p=new Promise(function(x,C){b.onload=x,b.onerror=C}),Ee(p,"link",r),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Wr.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function N1(){if(Io===null)throw Error(i(475));var s=Io;return s.stylesheets&&s.count===0&&Cf(s,s.stylesheets),0<s.count?function(a){var r=setTimeout(function(){if(s.stylesheets&&Cf(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(r)}}:null}function Wr(){if(this.count--,this.count===0){if(this.stylesheets)Cf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Xr=null;function Cf(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Xr=new Map,a.forEach(k1,s),Xr=null,Wr.call(s))}function k1(s,a){if(!(a.state.loading&4)){var r=Xr.get(s);if(r)var u=r.get(null);else{r=new Map,Xr.set(s,r);for(var d=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var b=d[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),u=b)}u&&r.set(null,u)}d=a.instance,b=d.getAttribute("data-precedence"),p=r.get(b)||u,p===u&&r.set(null,d),r.set(b,d),this.count++,u=Wr.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(d,s.firstChild)),a.state.loading|=4}}var Bo={$$typeof:v,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function L1(s,a,r,u,d,p,b,x){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tu(0),this.hiddenUpdates=Tu(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function my(s,a,r,u,d,p,b,x,C,w,I,U){return s=new L1(s,a,r,b,x,C,w,U),a=1,p===!0&&(a|=24),p=rn(3,null,null,a),s.current=p,p.stateNode=s,a=eh(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:r,cache:a},zh(p),s}function _y(s){return s?(s=Zs,s):Zs}function yy(s,a,r,u,d,p){d=_y(d),u.context===null?u.context=d:u.pendingContext=d,u=vi(a),u.payload={element:r},p=p===void 0?null:p,p!==null&&(u.callback=p),r=Si(s,u,a),r!==null&&(Le(r,s,a),vo(r,s,a))}function by(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var r=s.retryLane;s.retryLane=r!==0&&r<a?r:a}}function Tf(s,a){by(s,a),(s=s.alternate)&&by(s,a)}function vy(s){if(s.tag===13){var a=di(s,67108864);a!==null&&Le(a,s,67108864),Tf(s,67108864)}}var Qr=!0;function z1(s,a,r,u){var d=V.T;V.T=null;var p=Q.p;try{Q.p=2,Mf(s,a,r,u)}finally{Q.p=p,V.T=d}}function I1(s,a,r,u){var d=V.T;V.T=null;var p=Q.p;try{Q.p=8,Mf(s,a,r,u)}finally{Q.p=p,V.T=d}}function Mf(s,a,r,u){if(Qr){var d=Af(u);if(d===null)gf(s,a,u,Kr,r),xy(s,u);else if(H1(d,s,a,r,u))u.stopPropagation();else if(xy(s,u),a&4&&-1<B1.indexOf(s)){for(;d!==null;){var p=Us(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Qi(p.pendingLanes);if(b!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var C=1<<31-Ye(b);x.entanglements[1]|=C,b&=~C}On(p),(Qt&6)===0&&(kr=Tn()+500,Ro(0))}}break;case 13:x=di(p,2),x!==null&&Le(x,p,2),Ir(),Tf(p,2)}if(p=Af(u),p===null&&gf(s,a,u,Kr,r),p===d)break;d=p}d!==null&&u.stopPropagation()}else gf(s,a,u,null,r)}}function Af(s){return s=Nu(s),wf(s)}var Kr=null;function wf(s){if(Kr=null,s=Ki(s),s!==null){var a=J(s);if(a===null)s=null;else{var r=a.tag;if(r===13){if(s=ht(a),s!==null)return s;s=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Kr=s,null}function Sy(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xx()){case qg:return 2;case Gg:return 8;case ql:case Ex:return 32;case Wg:return 268435456;default:return 32}default:return 32}}var Df=!1,wi=null,Di=null,Oi=null,Ho=new Map,Po=new Map,Ri=[],B1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xy(s,a){switch(s){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Ho.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(a.pointerId)}}function Uo(s,a,r,u,d,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:r,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},a!==null&&(a=Us(a),a!==null&&vy(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),s)}function H1(s,a,r,u,d){switch(a){case"focusin":return wi=Uo(wi,s,a,r,u,d),!0;case"dragenter":return Di=Uo(Di,s,a,r,u,d),!0;case"mouseover":return Oi=Uo(Oi,s,a,r,u,d),!0;case"pointerover":var p=d.pointerId;return Ho.set(p,Uo(Ho.get(p)||null,s,a,r,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Po.set(p,Uo(Po.get(p)||null,s,a,r,u,d)),!0}return!1}function Ey(s){var a=Ki(s.target);if(a!==null){var r=J(a);if(r!==null){if(a=r.tag,a===13){if(a=ht(r),a!==null){s.blockedOn=a,Nx(s.priority,function(){if(r.tag===13){var u=Qe(),d=di(r,u);d!==null&&Le(d,r,u),Tf(r,u)}});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){s.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zr(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var r=Af(s.nativeEvent);if(r===null){r=s.nativeEvent;var u=new r.constructor(r.type,r);Ru=u,r.target.dispatchEvent(u),Ru=null}else return a=Us(r),a!==null&&vy(a),s.blockedOn=r,!1;a.shift()}return!0}function Cy(s,a,r){Zr(s)&&r.delete(a)}function P1(){Df=!1,wi!==null&&Zr(wi)&&(wi=null),Di!==null&&Zr(Di)&&(Di=null),Oi!==null&&Zr(Oi)&&(Oi=null),Ho.forEach(Cy),Po.forEach(Cy)}function $r(s,a){s.blockedOn===a&&(s.blockedOn=null,Df||(Df=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,P1)))}var Jr=null;function Ty(s){Jr!==s&&(Jr=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Jr===s&&(Jr=null);for(var a=0;a<s.length;a+=3){var r=s[a],u=s[a+1],d=s[a+2];if(typeof u!="function"){if(wf(u||r)===null)continue;break}var p=Us(r);p!==null&&(s.splice(a,3),a-=3,_h(p,{pending:!0,data:d,method:r.method,action:u},u,d))}}))}function Vo(s){function a(C){return $r(C,s)}wi!==null&&$r(wi,s),Di!==null&&$r(Di,s),Oi!==null&&$r(Oi,s),Ho.forEach(a),Po.forEach(a);for(var r=0;r<Ri.length;r++){var u=Ri[r];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Ri.length&&(r=Ri[0],r.blockedOn===null);)Ey(r),r.blockedOn===null&&Ri.shift();if(r=(s.ownerDocument||s).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var d=r[u],p=r[u+1],b=d[Ie]||null;if(typeof p=="function")b||Ty(r);else if(b){var x=null;if(p&&p.hasAttribute("formAction")){if(d=p,b=p[Ie]||null)x=b.formAction;else if(wf(d)!==null)continue}else x=b.action;typeof x=="function"?r[u+1]=x:(r.splice(u,3),u-=3),Ty(r)}}}function Of(s){this._internalRoot=s}tc.prototype.render=Of.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var r=a.current,u=Qe();yy(r,u,s,a,null,null)},tc.prototype.unmount=Of.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;s.tag===0&&ga(),yy(s.current,2,null,s,null,null),Ir(),a[Ps]=null}};function tc(s){this._internalRoot=s}tc.prototype.unstable_scheduleHydration=function(s){if(s){var a=Jg();s={blockedOn:null,target:s,priority:a};for(var r=0;r<Ri.length&&a!==0&&a<Ri[r].priority;r++);Ri.splice(r,0,s),r===0&&Ey(s)}};var My=t.version;if(My!=="19.0.0")throw Error(i(527,My,"19.0.0"));Q.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=j(a),s=s!==null?nt(s):null,s=s===null?null:s.stateNode,s};var U1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:V,findFiberByHostInstance:Ki,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{qa=ec.inject(U1),je=ec}catch{}}return jo.createRoot=function(s,a){if(!o(s))throw Error(i(299));var r=!1,u="",d=jm,p=Ym,b=qm,x=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks)),a=my(s,1,!1,null,null,r,u,d,p,b,x,null),s[Ps]=a.current,df(s.nodeType===8?s.parentNode:s),new Of(a)},jo.hydrateRoot=function(s,a,r){if(!o(s))throw Error(i(299));var u=!1,d="",p=jm,b=Ym,x=qm,C=null,w=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks),r.formState!==void 0&&(w=r.formState)),a=my(s,1,!0,a,r??null,u,d,p,b,x,C,w),a.context=_y(null),r=a.current,u=Qe(),d=vi(u),d.callback=null,Si(r,d,u),a.current.lanes=u,Wa(a,u),On(a),s[Ps]=a.current,df(s),new tc(a)},jo.version="19.0.0",jo}var Iy;function J1(){if(Iy)return kf.exports;Iy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),kf.exports=$1(),kf.exports}var tC=J1();const eC=()=>{};var By={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(n,t){if(!n)throw Ua(t)},Ua=function(n){return new Error("Firebase Database ("+Jv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},nC=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const o=n[e++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[e++];t[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[e++],c=n[e++],h=n[e++],f=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const l=n[e++],c=n[e++];t[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return t.join("")},qd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,h=c?n[o+1]:0,f=o+2<n.length,g=f?n[o+2]:0,m=l>>2,_=(l&3)<<4|h>>4;let y=(h&15)<<2|g>>6,v=g&63;f||(v=64,c||(y=64)),i.push(e[m],e[_],e[y],e[v])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(t0(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):nC(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=e[n.charAt(o++)],h=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const _=o<n.length?e[n.charAt(o)]:64;if(++o,l==null||h==null||g==null||_==null)throw new iC;const y=l<<2|h>>4;if(i.push(y),g!==64){const v=h<<4&240|g>>2;if(i.push(v),_!==64){const S=g<<6&192|_;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e0=function(n){const t=t0(n);return qd.encodeByteArray(t,!0)},Dc=function(n){return e0(n).replace(/\./g,"")},ld=function(n){try{return qd.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(n){return n0(void 0,n)}function n0(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const e=t;return new Date(e.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!aC(e)||(n[e]=n0(n[e],t[e]));return n}function aC(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=()=>oC().__FIREBASE_DEFAULTS__,rC=()=>{if(typeof process>"u"||typeof By>"u")return;const n=By.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&ld(n[1]);return t&&JSON.parse(t)},i0=()=>{try{return eC()||lC()||rC()||cC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},uC=n=>{var t,e;return(e=(t=i0())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},hC=n=>{const t=uC(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},s0=()=>{var n;return(n=i0())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Dc(JSON.stringify(e)),Dc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dC())}function gC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pC(){return Jv.NODE_ADMIN===!0}function mC(){try{return typeof indexedDB=="object"}catch{return!1}}function _C(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var l;t(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="FirebaseError";class Ll extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=yC,Object.setPrototypeOf(this,Ll.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o0.prototype.create)}}class o0{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},o=`${this.service}/${t}`,l=this.errors[t],c=l?bC(l,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Ll(o,h,i)}}function bC(n,t){return n.replace(vC,(e,i)=>{const o=t[i];return o!=null?String(o):`<${i}?>`})}const vC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(n){return JSON.parse(n)}function be(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=function(n){let t={},e={},i={},o="";try{const l=n.split(".");t=ml(ld(l[0])||""),e=ml(ld(l[1])||""),o=l[2],i=e.d||{},delete e.d}catch{}return{header:t,claims:e,data:i,signature:o}},SC=function(n){const t=l0(n),e=t.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},xC=function(n){const t=l0(n).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function Ra(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function Hy(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Oc(n,t,e){const i={};for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=t.call(e,n[o],o,n));return i}function Rc(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const o of e){if(!i.includes(o))return!1;const l=n[o],c=t[o];if(Py(l)&&Py(c)){if(!Rc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!e.includes(o))return!1;return!0}function Py(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const i=this.W_;if(typeof t=="string")for(let _=0;_<16;_++)i[_]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let _=0;_<16;_++)i[_]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let _=16;_<80;_++){const y=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(y<<1|y>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4],g,m;for(let _=0;_<80;_++){_<40?_<20?(g=h^l&(c^h),m=1518500249):(g=l^c^h,m=1859775393):_<60?(g=l&c|h&(l|c),m=2400959708):(g=l^c^h,m=3395469782);const y=(o<<5|o>>>27)+g+f+m+i[_]&4294967295;f=h,h=c,c=(l<<30|l>>>2)&4294967295,l=o,o=y}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(t,e){if(t==null)return;e===void 0&&(e=t.length);const i=e-this.blockSize;let o=0;const l=this.buf_;let c=this.inbuf_;for(;o<e;){if(c===0)for(;o<=i;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(l[c]=t.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(l),c=0;break}}else for(;o<e;)if(l[c]=t[o],++c,++o,c===this.blockSize){this.compress_(l),c=0;break}}this.inbuf_=c,this.total_+=e}digest(){const t=[];let e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=e&255,e/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)t[i]=this.chain_[o]>>l&255,++i;return t}}function eu(n,t){return`${n} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);if(o>=55296&&o<=56319){const l=o-55296;i++,G(i<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(i)-56320;o=65536+(l<<10)+c}o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):o<65536?(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},nu=function(n){let t=0;for(let e=0;e<n.length;e++){const i=n.charCodeAt(e);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,e++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n){return n&&n._delegate?n._delegate:n}class _l{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new kl;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wC(t))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(t=Ss){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ss){return this.instances.has(t)}getOptions(t=Ss){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(o)}return o}onInit(t,e){var i;const o=this.normalizeInstanceIdentifier(e),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(t),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&t(c,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const o of i)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:AC(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ss){return this.component?this.component.multipleInstances?t:Ss:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AC(n){return n===Ss?void 0:n}function wC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new MC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pt||(Pt={}));const OC={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},RC=Pt.INFO,NC={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},kC=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),o=NC[t];if(o)console[o](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class r0{constructor(t){this.name=t,this._logLevel=RC,this._logHandler=kC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const LC=(n,t)=>t.some(e=>n instanceof e);let Uy,Vy;function zC(){return Uy||(Uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IC(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c0=new WeakMap,rd=new WeakMap,u0=new WeakMap,Bf=new WeakMap,Gd=new WeakMap;function BC(n){const t=new Promise((e,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(Pi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&c0.set(e,n)}).catch(()=>{}),Gd.set(t,n),t}function HC(n){if(rd.has(n))return;const t=new Promise((e,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});rd.set(n,t)}let cd={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return rd.get(n);if(t==="objectStoreNames")return n.objectStoreNames||u0.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Pi(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function PC(n){cd=n(cd)}function UC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Hf(this),t,...e);return u0.set(i,t.sort?t.sort():[t]),Pi(i)}:IC().includes(n)?function(...t){return n.apply(Hf(this),t),Pi(c0.get(this))}:function(...t){return Pi(n.apply(Hf(this),t))}}function VC(n){return typeof n=="function"?UC(n):(n instanceof IDBTransaction&&HC(n),LC(n,zC())?new Proxy(n,cd):n)}function Pi(n){if(n instanceof IDBRequest)return BC(n);if(Bf.has(n))return Bf.get(n);const t=VC(n);return t!==n&&(Bf.set(n,t),Gd.set(t,n)),t}const Hf=n=>Gd.get(n);function FC(n,t,{blocked:e,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,t),h=Pi(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Pi(c.result),f.oldVersion,f.newVersion,Pi(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),o&&f.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const jC=["get","getKey","getAll","getAllKeys","count"],YC=["put","add","delete","clear"],Pf=new Map;function Fy(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Pf.get(t))return Pf.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,o=YC.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(o||jC.includes(e)))return;const l=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),o&&f.done]))[0]};return Pf.set(t,l),l}PC(n=>({...n,get:(t,e,i)=>Fy(t,e)||n.get(t,e,i),has:(t,e)=>!!Fy(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(GC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function GC(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ud="@firebase/app",jy="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new r0("@firebase/app"),WC="@firebase/app-compat",XC="@firebase/analytics-compat",QC="@firebase/analytics",KC="@firebase/app-check-compat",ZC="@firebase/app-check",$C="@firebase/auth",JC="@firebase/auth-compat",tT="@firebase/database",eT="@firebase/data-connect",nT="@firebase/database-compat",iT="@firebase/functions",sT="@firebase/functions-compat",aT="@firebase/installations",oT="@firebase/installations-compat",lT="@firebase/messaging",rT="@firebase/messaging-compat",cT="@firebase/performance",uT="@firebase/performance-compat",hT="@firebase/remote-config",fT="@firebase/remote-config-compat",dT="@firebase/storage",gT="@firebase/storage-compat",pT="@firebase/firestore",mT="@firebase/vertexai",_T="@firebase/firestore-compat",yT="firebase",bT="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="[DEFAULT]",vT={[ud]:"fire-core",[WC]:"fire-core-compat",[QC]:"fire-analytics",[XC]:"fire-analytics-compat",[ZC]:"fire-app-check",[KC]:"fire-app-check-compat",[$C]:"fire-auth",[JC]:"fire-auth-compat",[tT]:"fire-rtdb",[eT]:"fire-data-connect",[nT]:"fire-rtdb-compat",[iT]:"fire-fn",[sT]:"fire-fn-compat",[aT]:"fire-iid",[oT]:"fire-iid-compat",[lT]:"fire-fcm",[rT]:"fire-fcm-compat",[cT]:"fire-perf",[uT]:"fire-perf-compat",[hT]:"fire-rc",[fT]:"fire-rc-compat",[dT]:"fire-gcs",[gT]:"fire-gcs-compat",[pT]:"fire-fst",[_T]:"fire-fst-compat",[mT]:"fire-vertex","fire-js":"fire-js",[yT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,ST=new Map,fd=new Map;function Yy(n,t){try{n.container.addComponent(t)}catch(e){li.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function kc(n){const t=n.name;if(fd.has(t))return li.debug(`There were multiple attempts to register component ${t}.`),!1;fd.set(t,n);for(const e of Nc.values())Yy(e,n);for(const e of ST.values())Yy(e,n);return!0}function xT(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ET(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ui=new o0("app","Firebase",CT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=bT;function h0(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:hd,automaticDataCollectionEnabled:!1},t),o=i.name;if(typeof o!="string"||!o)throw Ui.create("bad-app-name",{appName:String(o)});if(e||(e=s0()),!e)throw Ui.create("no-options");const l=Nc.get(o);if(l){if(Rc(e,l.options)&&Rc(i,l.config))return l;throw Ui.create("duplicate-app",{appName:o})}const c=new DC(o);for(const f of fd.values())c.addComponent(f);const h=new TT(e,i,c);return Nc.set(o,h),h}function AT(n=hd){const t=Nc.get(n);if(!t&&n===hd&&s0())return h0();if(!t)throw Ui.create("no-app",{appName:n});return t}function Ma(n,t,e){var i;let o=(i=vT[n])!==null&&i!==void 0?i:n;e&&(o+=`-${e}`);const l=o.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const h=[`Unable to register library "${o}" with version "${t}":`];l&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),li.warn(h.join(" "));return}kc(new _l(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firebase-heartbeat-database",DT=1,yl="firebase-heartbeat-store";let Uf=null;function f0(){return Uf||(Uf=FC(wT,DT,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(yl)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ui.create("idb-open",{originalErrorMessage:n.message})})),Uf}async function OT(n){try{const e=(await f0()).transaction(yl),i=await e.objectStore(yl).get(d0(n));return await e.done,i}catch(t){if(t instanceof Ll)li.warn(t.message);else{const e=Ui.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});li.warn(e.message)}}}async function qy(n,t){try{const i=(await f0()).transaction(yl,"readwrite");await i.objectStore(yl).put(t,d0(n)),await i.done}catch(e){if(e instanceof Ll)li.warn(e.message);else{const i=Ui.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});li.warn(i.message)}}}function d0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=1024,NT=30;class kT{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new zT(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Gy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>NT){const c=IT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){li.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Gy(),{heartbeatsToSend:i,unsentEntries:o}=LT(this._heartbeatsCache.heartbeats),l=Dc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return li.warn(e),""}}}function Gy(){return new Date().toISOString().substring(0,10)}function LT(n,t=RT){const e=[];let i=n.slice();for(const o of n){const l=e.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Wy(e)>t){l.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),Wy(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class zT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mC()?_C().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await OT(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return qy(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return qy(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Wy(n){return Dc(JSON.stringify({version:2,heartbeats:n})).length}function IT(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(n){kc(new _l("platform-logger",t=>new qC(t),"PRIVATE")),kc(new _l("heartbeat",t=>new kT(t),"PRIVATE")),Ma(ud,jy,n),Ma(ud,jy,"esm2017"),Ma("fire-js","")}BT("");var Xy={};const Qy="@firebase/database",Ky="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g0="";function HT(n){g0=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){e==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),be(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return e==null?null:ml(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){e==null?delete this.cache_[t]:this.cache_[t]=e}get(t){return Ln(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new PT(t)}}catch{}return new UT},Ts=p0("localStorage"),VT=p0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new r0("@firebase/database"),FT=function(){let n=1;return function(){return n++}}(),m0=function(n){const t=TC(n),e=new CC;e.update(t);const i=e.digest();return qd.encodeByteArray(i)},Il=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=Il.apply(null,i):typeof i=="object"?t+=be(i):t+=i,t+=" "}return t};let al=null,Zy=!0;const jT=function(n,t){G(!0,"Can't turn on custom loggers persistently."),Aa.logLevel=Pt.VERBOSE,al=Aa.log.bind(Aa)},Ce=function(...n){if(Zy===!0&&(Zy=!1,al===null&&VT.get("logging_enabled")===!0&&jT()),al){const t=Il.apply(null,n);al(t)}},Bl=function(n){return function(...t){Ce(n,...t)}},dd=function(...n){const t="FIREBASE INTERNAL ERROR: "+Il(...n);Aa.error(t)},ri=function(...n){const t=`FIREBASE FATAL ERROR: ${Il(...n)}`;throw Aa.error(t),new Error(t)},ze=function(...n){const t="FIREBASE WARNING: "+Il(...n);Aa.warn(t)},YT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ze("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Wd=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},qT=function(n){if(document.readyState==="complete")n();else{let t=!1;const e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}t||(t=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},Na="[MIN_NAME]",Ds="[MAX_NAME]",zs=function(n,t){if(n===t)return 0;if(n===Na||t===Ds)return-1;if(t===Na||n===Ds)return 1;{const e=$y(n),i=$y(t);return e!==null?i!==null?e-i===0?n.length-t.length:e-i:-1:i!==null?1:n<t?-1:1}},GT=function(n,t){return n===t?0:n<t?-1:1},Yo=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+be(t))},Xd=function(n){if(typeof n!="object"||n===null)return be(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)i!==0&&(e+=","),e+=be(t[i]),e+=":",e+=Xd(n[t[i]]);return e+="}",e},_0=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let o=0;o<e;o+=t)o+t>e?i.push(n.substring(o,e)):i.push(n.substring(o,o+t));return i};function Te(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const y0=function(n){G(!Wd(n),"Invalid JSON number");const t=11,e=52,i=(1<<t-1)-1;let o,l,c,h,f;n===0?(l=0,c=0,o=1/n===-1/0?1:0):(o=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=h+i,c=Math.round(n*Math.pow(2,e-h)-Math.pow(2,e))):(l=0,c=Math.round(n/Math.pow(2,1-i-e))));const g=[];for(f=e;f;f-=1)g.push(c%2?1:0),c=Math.floor(c/2);for(f=t;f;f-=1)g.push(l%2?1:0),l=Math.floor(l/2);g.push(o?1:0),g.reverse();const m=g.join("");let _="";for(f=0;f<64;f+=8){let y=parseInt(m.substr(f,8),2).toString(16);y.length===1&&(y="0"+y),_=_+y}return _.toLowerCase()},WT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},XT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function QT(n,t){let e="Unknown Error";n==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?e="Client doesn't have permission to access the desired data.":n==="unavailable"&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}const KT=new RegExp("^-?(0*)\\d{1,10}$"),ZT=-2147483648,$T=2147483647,$y=function(n){if(KT.test(n)){const t=Number(n);if(t>=ZT&&t<=$T)return t}return null},Va=function(n){try{n()}catch(t){setTimeout(()=>{const e=t.stack||"";throw ze("Exception was thrown by user callback.",e),t},Math.floor(0))}},JT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ol=function(n,t){const e=setTimeout(n,t);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(t,e){this.appCheckProvider=e,this.appName=t.name,ET(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=e==null?void 0:e.getImmediate({optional:!0}),this.appCheck||e==null||e.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;(e=this.appCheckProvider)===null||e===void 0||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ze(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&e.code==="auth/token-not-initialized"?(Ce("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ze(t)}}class vc{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}vc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="5",b0="v",v0="s",S0="r",x0="f",E0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,C0="ls",T0="p",gd="ac",M0="websocket",A0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(t,e,i,o,l=!1,c="",h=!1,f=!1,g=null){this.secure=e,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=f,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ts.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ts.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}}function nM(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function D0(n,t,e){G(typeof t=="string","typeof type must == string"),G(typeof e=="object","typeof params must == object");let i;if(t===M0)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(t===A0)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);nM(n)&&(e.ns=n.namespace);const o=[];return Te(e,(l,c)=>{o.push(l+"="+c)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.counters_={}}incrementCounter(t,e=1){Ln(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return sC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf={},Ff={};function Kd(n){const t=n.toString();return Vf[t]||(Vf[t]=new iM),Vf[t]}function sM(n,t){const e=n.toString();return Ff[e]||(Ff[e]=t()),Ff[e]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&Va(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="start",oM="close",lM="pLPCommand",rM="pRTLPCB",O0="id",R0="pw",N0="ser",cM="cb",uM="seg",hM="ts",fM="d",dM="dframe",k0=1870,L0=30,gM=k0-L0,pM=25e3,mM=3e4;class Ta{constructor(t,e,i,o,l,c,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bl(t),this.stats_=Kd(e),this.urlFn=f=>(this.appCheckToken&&(f[gd]=this.appCheckToken),D0(e,A0,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new aM(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(mM)),qT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zd((...l)=>{const[c,h,f,g,m]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===Jy)this.id=h,this.password=f;else if(c===oM)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...l)=>{const[c,h]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={};i[Jy]="t",i[N0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[cM]=this.scriptTagHolder.uniqueCallbackIdentifier),i[b0]=Qd,this.transportSessionId&&(i[v0]=this.transportSessionId),this.lastSessionId&&(i[C0]=this.lastSessionId),this.applicationId&&(i[T0]=this.applicationId),this.appCheckToken&&(i[gd]=this.appCheckToken),typeof location<"u"&&location.hostname&&E0.test(location.hostname)&&(i[S0]=x0);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ta.forceAllow_=!0}static forceDisallow(){Ta.forceDisallow_=!0}static isAvailable(){return Ta.forceAllow_?!0:!Ta.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!WT()&&!XT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=be(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=e0(e),o=_0(i,gM);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const i={};i[dM]="t",i[O0]=t,i[R0]=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=be(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Zd{constructor(t,e,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=FT(),window[lM+this.uniqueCallbackIdentifier]=t,window[rM+this.uniqueCallbackIdentifier]=e,this.myIFrame=Zd.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Ce("frame writing exception"),h.stack&&Ce(h.stack),Ce(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ce("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[O0]=this.myID,t[R0]=this.myPW,t[N0]=this.currentSerial;let e=this.urlFn(t),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+L0+i.length<=k0;){const c=this.pendingSegs.shift();i=i+"&"+uM+o+"="+c.seg+"&"+hM+o+"="+c.ts+"&"+fM+o+"="+c.d,o++}return e=e+i,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(i,Math.floor(pM)),l=()=>{clearTimeout(o),i()};this.addTag(t,l)}addTag(t,e){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Ce("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=16384,yM=45e3;let Lc=null;typeof MozWebSocket<"u"?Lc=MozWebSocket:typeof WebSocket<"u"&&(Lc=WebSocket);class _n{constructor(t,e,i,o,l,c,h){this.connId=t,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bl(this.connId),this.stats_=Kd(e),this.connURL=_n.connectionURL_(e,c,h,o,i),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,i,o,l){const c={};return c[b0]=Qd,typeof location<"u"&&location.hostname&&E0.test(location.hostname)&&(c[S0]=x0),e&&(c[v0]=e),i&&(c[C0]=i),o&&(c[gd]=o),l&&(c[T0]=l),D0(t,M0,c)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ts.set("previous_websocket_failure",!0);try{let i;pC(),this.mySock=new Lc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){_n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(e);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Lc!==null&&!_n.forceDisallow_}static previouslyFailed(){return Ts.isInMemoryStorage||Ts.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ts.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const i=ml(e);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(G(this.frames===null,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(e);else{const i=this.extractFrameCount_(e);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const e=be(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=_0(e,_M);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(yM))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_n.responsesRequiredToBeHealthy=2;_n.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static get ALL_TRANSPORTS(){return[Ta,_n]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const e=_n&&_n.isAvailable();let i=e&&!_n.previouslyFailed();if(t.webSocketOnly&&(e||ze("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[_n];else{const o=this.transports_=[];for(const l of bl.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);bl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}bl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=6e4,vM=5e3,SM=10*1024,xM=100*1024,jf="t",tb="d",EM="s",eb="r",CM="e",nb="o",ib="a",sb="n",ab="p",TM="h";class MM{constructor(t,e,i,o,l,c,h,f,g,m){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=f,this.onKill_=g,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bl("c:"+this.id+":"),this.transportManager_=new bl(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=ol(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>xM?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>SM?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(jf in t){const e=t[jf];e===ib?this.upgradeIfSecondaryHealthy_():e===eb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===nb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Yo("t",t),i=Yo("d",t);if(e==="c")this.onSecondaryControl_(i);else if(e==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ab,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ib,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:sb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Yo("t",t),i=Yo("d",t);e==="c"?this.onControl_(i):e==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Yo(jf,t);if(tb in t){const i=t[tb];if(e===TM){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(e===sb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===EM?this.onConnectionShutdown_(i):e===eb?this.onReset_(i):e===CM?dd("Server Error: "+i):e===nb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dd("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),Qd!==i&&ze("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),ol(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(bM))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ol(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(vM))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ab,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ts.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{put(t,e,i,o){}merge(t,e,i,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t){this.allowedEvents_=t,this.listeners_={},G(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const o=this.getInitialEvent(t);o&&e.apply(i,o)}off(t,e,i){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let l=0;l<o.length;l++)if(o[l].callback===e&&(!i||i===o[l].context)){o.splice(l,1);return}}validateEventType_(t){G(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends I0{static getInstance(){return new zc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!a0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return G(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=32,lb=768;class kt{constructor(t,e){if(e===void 0){this.pieces_=t.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+this.pieces_[e]);return t||"/"}}function At(){return new kt("")}function _t(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ji(n){return n.pieces_.length-n.pieceNum_}function Ut(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new kt(n.pieces_,t)}function $d(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function AM(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)n.pieces_[e]!==""&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}function vl(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function B0(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new kt(t,0)}function Jt(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof kt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&e.push(i[o])}return new kt(e,0)}function vt(n){return n.pieceNum_>=n.pieces_.length}function Ve(n,t){const e=_t(n),i=_t(t);if(e===null)return t;if(e===i)return Ve(Ut(n),Ut(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function wM(n,t){const e=vl(n,0),i=vl(t,0);for(let o=0;o<e.length&&o<i.length;o++){const l=zs(e[o],i[o]);if(l!==0)return l}return e.length===i.length?0:e.length<i.length?-1:1}function Jd(n,t){if(ji(n)!==ji(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function fn(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(ji(n)>ji(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class DM{constructor(t,e){this.errorPrefix_=e,this.parts_=vl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=nu(this.parts_[i]);H0(this)}}function OM(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=nu(t),H0(n)}function RM(n){const t=n.parts_.pop();n.byteLength_-=nu(t),n.parts_.length>0&&(n.byteLength_-=1)}function H0(n){if(n.byteLength_>lb)throw new Error(n.errorPrefix_+"has a key path longer than "+lb+" bytes ("+n.byteLength_+").");if(n.parts_.length>ob)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ob+") or object contains a cycle "+xs(n))}function xs(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends I0{static getInstance(){return new tg}constructor(){super(["visible"]);let t,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return G(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=1e3,NM=60*5*1e3,rb=30*1e3,kM=1.3,LM=3e4,zM="server_kill",cb=3;class oi extends z0{constructor(t,e,i,o,l,c,h,f){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=oi.nextPersistentConnectionId_++,this.log_=Bl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qo,this.maxReconnectDelay_=NM,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tg.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&zc.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,i){const o=++this.requestNumber_,l={r:o,a:t,b:e};this.log_(be(l)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[o]=i)}get(t){this.initConnection_();const e=new kl,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?e.resolve(h):e.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),e.promise}listen(t,e,i,o){this.initConnection_();const l=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+l),this.listens.has(c)||this.listens.set(c,new Map),G(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(c).has(l),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:e,query:t,tag:i};this.listens.get(c).set(l,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(i)})}sendListen_(t){const e=t.query,i=e._path.toString(),o=e._queryIdentifier;this.log_("Listen on "+i+" for "+o);const l={p:i},c="q";t.tag&&(l.q=e._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest(c,l,h=>{const f=h.d,g=h.s;oi.warnOnListenWarnings_(f,e),(this.listens.get(i)&&this.listens.get(i).get(o))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(i,o),t.onComplete&&t.onComplete(g,f))})}static warnOnListenWarnings_(t,e){if(t&&typeof t=="object"&&Ln(t,"w")){const i=Ra(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+e._queryParams.getIndex().toString()+'"',l=e._path.toString();ze(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||xC(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=rb)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=SC(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(e,i,o=>{const l=o.s,c=o.d||"error";this.authToken_===t&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const e=t.s,i=t.d||"error";e==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,i)})}unlisten(t,e){const i=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),G(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,t._queryObject,e)}sendUnlisten_(t,e,i,o){this.log_("Unlisten on "+t+" for "+e);const l={p:t},c="n";o&&(l.q=i,l.t=o),this.sendRequest(c,l)}onDisconnectPut(t,e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:i})}onDisconnectMerge(t,e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:i})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,i,o){const l={p:e,d:i};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(t,e,i,o){this.putInternal("p",t,e,i,o)}merge(t,e,i,o){this.putInternal("m",t,e,i,o)}putInternal(t,e,i,o,l){this.initConnection_();const c={p:e,d:i};l!==void 0&&(c.h=l),this.outstandingPuts_.push({action:t,request:c,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,i,l=>{this.log_(e+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+be(t));const e=t.r,i=this.requestCBHash_[e];i&&(delete this.requestCBHash_[e],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),t==="d"?this.onDataUpdate_(e.p,e.d,!1,e.t):t==="m"?this.onDataUpdate_(e.p,e.d,!0,e.t):t==="c"?this.onListenRevoked_(e.p,e.q):t==="ac"?this.onAuthRevoked_(e.s,e.d):t==="apc"?this.onAppCheckRevoked_(e.s,e.d):t==="sd"?this.onSecurityDebugPacket_(e):dd("Unrecognized action received from server: "+be(t)+`
Are you using the latest client?`)}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>LM&&(this.reconnectDelay_=qo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*kM)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+oi.nextConnectionId_++,l=this.lastSessionId;let c=!1,h=null;const f=function(){h?h.close():(c=!0,i())},g=function(_){G(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:f,sendRequest:g};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,y]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);c?Ce("getToken() completed but was canceled"):(Ce("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=y&&y.token,h=new MM(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,i,v=>{ze(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(zM)},l))}catch(_){this.log_("Failed to get token: "+_),c||(this.repoInfo_.nodeAdmin&&ze(_),f())}}}interrupt(t){Ce("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ce("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Hy(this.interruptReasons_)&&(this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let i;e?i=e.map(l=>Xd(l)).join("$"):i="default";const o=this.removeListen_(t,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,e){const i=new kt(t).toString();let o;if(this.listens.has(i)){const l=this.listens.get(i);o=l.get(e),l.delete(e),l.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(t,e){Ce("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=cb&&(this.reconnectDelay_=rb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){Ce("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=cb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";t["sdk."+e+"."+g0.replace(/\./g,"-")]=1,a0()?t["framework.cordova"]=1:gC()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=zc.getInstance().currentlyOnline();return Hy(this.interruptReasons_)&&t}}oi.nextPersistentConnectionId_=0;oi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new yt(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new yt(Na,t),o=new yt(Na,e);return this.compare(i,o)!==0}minPost(){return yt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc;class P0 extends iu{static get __EMPTY_NODE(){return nc}static set __EMPTY_NODE(t){nc=t}compare(t,e){return zs(t.name,e.name)}isDefinedOn(t){throw Ua("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return yt.MIN}maxPost(){return new yt(Ds,nc)}makePost(t,e){return G(typeof t=="string","KeyIndex indexValue must always be a string."),new yt(t,nc)}toString(){return".key"}}const wa=new P0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,e,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,o&&(c*=-1),c<0)this.isReverse_?t=t.left:t=t.right;else if(c===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(t.key,t.value):e={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class _e{constructor(t,e,i,o,l){this.key=t,this.value=e,this.color=i??_e.RED,this.left=o??Fe.EMPTY_NODE,this.right=l??Fe.EMPTY_NODE}copy(t,e,i,o,l){return new _e(t??this.key,e??this.value,i??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let o=this;const l=i(t,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(t,e,i),null):l===0?o=o.copy(null,e,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,e,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fe.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let i,o;if(i=this,e(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),e(t,i.key)===0){if(i.right.isEmpty())return Fe.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,_e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,_e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}_e.RED=!0;_e.BLACK=!1;class IM{copy(t,e,i,o,l){return this}insert(t,e,i){return new _e(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Fe{constructor(t,e=Fe.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Fe(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,_e.BLACK,null,null))}remove(t){return new Fe(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,_e.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),e===0)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,o=null;for(;!i.isEmpty();)if(e=this.comparator_(t,i.key),e===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else e<0?i=i.left:e>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ic(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new ic(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new ic(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new ic(this.root_,null,this.comparator_,!0,t)}}Fe.EMPTY_NODE=new IM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(n,t){return zs(n.name,t.name)}function eg(n,t){return zs(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd;function HM(n){pd=n}const U0=function(n){return typeof n=="number"?"number:"+y0(n):"string:"+n},V0=function(n){if(n.isLeafNode()){const t=n.val();G(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ln(t,".sv"),"Priority must be a string or number.")}else G(n===pd||n.isEmpty(),"priority of unexpected type.");G(n===pd||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ub;class pe{static set __childrenNodeConstructor(t){ub=t}static get __childrenNodeConstructor(){return ub}constructor(t,e=pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=e,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),V0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new pe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return vt(t)?this:_t(t)===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return t===".priority"?this.updatePriority(e):e.isEmpty()&&t!==".priority"?this:pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const i=_t(t);return i===null?e:e.isEmpty()&&i!==".priority"?this:(G(i!==".priority"||ji(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ut(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+U0(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",e==="number"?t+=y0(this.value_):t+=this.value_,this.lazyHash_=m0(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===pe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof pe.__childrenNodeConstructor?-1:(G(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,i=typeof this.value_,o=pe.VALUE_TYPE_ORDER.indexOf(e),l=pe.VALUE_TYPE_ORDER.indexOf(i);return G(o>=0,"Unknown leaf type: "+e),G(l>=0,"Unknown leaf type: "+i),o===l?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}else return!1}}pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F0,j0;function PM(n){F0=n}function UM(n){j0=n}class VM extends iu{compare(t,e){const i=t.node.getPriority(),o=e.node.getPriority(),l=i.compareTo(o);return l===0?zs(t.name,e.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return yt.MIN}maxPost(){return new yt(Ds,new pe("[PRIORITY-POST]",j0))}makePost(t,e){const i=F0(t);return new yt(e,new pe("[PRIORITY-POST]",i))}toString(){return".priority"}}const te=new VM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=Math.log(2);class jM{constructor(t){const e=l=>parseInt(Math.log(l)/FM,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;const o=i(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ic=function(n,t,e,i){n.sort(t);const o=function(f,g){const m=g-f;let _,y;if(m===0)return null;if(m===1)return _=n[f],y=e?e(_):_,new _e(y,_.node,_e.BLACK,null,null);{const v=parseInt(m/2,10)+f,S=o(f,v),E=o(v+1,g);return _=n[v],y=e?e(_):_,new _e(y,_.node,_e.BLACK,S,E)}},l=function(f){let g=null,m=null,_=n.length;const y=function(S,E){const T=_-S,D=_;_-=S;const N=o(T+1,D),H=n[T],P=e?e(H):H;v(new _e(P,H.node,E,null,N))},v=function(S){g?(g.left=S,g=S):(m=S,g=S)};for(let S=0;S<f.count;++S){const E=f.nextBitIsOne(),T=Math.pow(2,f.count-(S+1));E?y(T,_e.BLACK):(y(T,_e.BLACK),y(T,_e.RED))}return m},c=new jM(n.length),h=l(c);return new Fe(i||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yf;const va={};class ni{static get Default(){return G(va&&te,"ChildrenNode.ts has not been loaded"),Yf=Yf||new ni({".priority":va},{".priority":te}),Yf}constructor(t,e){this.indexes_=t,this.indexSet_=e}get(t){const e=Ra(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Fe?e:null}hasIndex(t){return Ln(this.indexSet_,t.toString())}addIndex(t,e){G(t!==wa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=e.getIterator(yt.Wrap);let c=l.getNext();for(;c;)o=o||t.isDefinedOn(c.node),i.push(c),c=l.getNext();let h;o?h=Ic(i,t.getCompare()):h=va;const f=t.toString(),g=Object.assign({},this.indexSet_);g[f]=t;const m=Object.assign({},this.indexes_);return m[f]=h,new ni(m,g)}addToIndexes(t,e){const i=Oc(this.indexes_,(o,l)=>{const c=Ra(this.indexSet_,l);if(G(c,"Missing index implementation for "+l),o===va)if(c.isDefinedOn(t.node)){const h=[],f=e.getIterator(yt.Wrap);let g=f.getNext();for(;g;)g.name!==t.name&&h.push(g),g=f.getNext();return h.push(t),Ic(h,c.getCompare())}else return va;else{const h=e.get(t.name);let f=o;return h&&(f=f.remove(new yt(t.name,h))),f.insert(t,t.node)}});return new ni(i,this.indexSet_)}removeFromIndexes(t,e){const i=Oc(this.indexes_,o=>{if(o===va)return o;{const l=e.get(t.name);return l?o.remove(new yt(t.name,l)):o}});return new ni(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go;class ot{static get EMPTY_NODE(){return Go||(Go=new ot(new Fe(eg),null,ni.Default))}constructor(t,e,i){this.children_=t,this.priorityNode_=e,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&V0(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Go}updatePriority(t){return this.children_.isEmpty()?this:new ot(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const e=this.children_.get(t);return e===null?Go:e}}getChild(t){const e=_t(t);return e===null?this:this.getImmediateChild(e).getChild(Ut(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,e){if(G(e,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(e);{const i=new yt(t,e);let o,l;e.isEmpty()?(o=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,e),l=this.indexMap_.addToIndexes(i,this.children_));const c=o.isEmpty()?Go:this.priorityNode_;return new ot(o,c,l)}}updateChild(t,e){const i=_t(t);if(i===null)return e;{G(_t(t)!==".priority"||ji(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Ut(t),e);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let i=0,o=0,l=!0;if(this.forEachChild(te,(c,h)=>{e[c]=h.val(t),i++,l&&ot.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):l=!1}),!t&&l&&o<2*i){const c=[];for(const h in e)c[h]=e[h];return c}else return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+U0(this.getPriority().val())+":"),this.forEachChild(te,(e,i)=>{const o=i.hash();o!==""&&(t+=":"+e+":"+o)}),this.lazyHash_=t===""?"":m0(t)}return this.lazyHash_}getPredecessorChildName(t,e,i){const o=this.resolveIndex_(i);if(o){const l=o.getPredecessorKey(new yt(t,e));return l?l.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const i=e.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new yt(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const i=e.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new yt(e,this.children_.get(e)):null}forEachChild(t,e){const i=this.resolveIndex_(t);return i?i.inorderTraversal(o=>e(o.name,o.node)):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const i=this.resolveIndex_(e);if(i)return i.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,yt.Wrap);let l=o.peek();for(;l!=null&&e.compare(l,t)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const i=this.resolveIndex_(e);if(i)return i.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,yt.Wrap);let l=o.peek();for(;l!=null&&e.compare(l,t)>0;)o.getNext(),l=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Hl?-1:0}withIndex(t){if(t===wa||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new ot(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===wa||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority()))if(this.children_.count()===e.children_.count()){const i=this.getIterator(te),o=e.getIterator(te);let l=i.getNext(),c=o.getNext();for(;l&&c;){if(l.name!==c.name||!l.node.equals(c.node))return!1;l=i.getNext(),c=o.getNext()}return l===null&&c===null}else return!1;else return!1}}resolveIndex_(t){return t===wa?null:this.indexMap_.get(t.toString())}}ot.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class YM extends ot{constructor(){super(new Fe(eg),ot.EMPTY_NODE,ni.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ot.EMPTY_NODE}isEmpty(){return!1}}const Hl=new YM;Object.defineProperties(yt,{MIN:{value:new yt(Na,ot.EMPTY_NODE)},MAX:{value:new yt(Ds,Hl)}});P0.__EMPTY_NODE=ot.EMPTY_NODE;pe.__childrenNodeConstructor=ot;HM(Hl);UM(Hl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=!0;function ye(n,t=null){if(n===null)return ot.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(t=n[".priority"]),G(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const e=n;return new pe(e,ye(t))}if(!(n instanceof Array)&&qM){const e=[];let i=!1;if(Te(n,(c,h)=>{if(c.substring(0,1)!=="."){const f=ye(h);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new yt(c,f)))}}),e.length===0)return ot.EMPTY_NODE;const l=Ic(e,BM,c=>c.name,eg);if(i){const c=Ic(e,te.getCompare());return new ot(l,ye(t),new ni({".priority":c},{".priority":te}))}else return new ot(l,ye(t),ni.Default)}else{let e=ot.EMPTY_NODE;return Te(n,(i,o)=>{if(Ln(n,i)&&i.substring(0,1)!=="."){const l=ye(o);(l.isLeafNode()||!l.isEmpty())&&(e=e.updateImmediateChild(i,l))}}),e.updatePriority(ye(t))}}PM(ye);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM extends iu{constructor(t){super(),this.indexPath_=t,G(!vt(t)&&_t(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),o=this.extractChild(e.node),l=i.compareTo(o);return l===0?zs(t.name,e.name):l}makePost(t,e){const i=ye(t),o=ot.EMPTY_NODE.updateChild(this.indexPath_,i);return new yt(e,o)}maxPost(){const t=ot.EMPTY_NODE.updateChild(this.indexPath_,Hl);return new yt(Ds,t)}toString(){return vl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM extends iu{compare(t,e){const i=t.node.compareTo(e.node);return i===0?zs(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return yt.MIN}maxPost(){return yt.MAX}makePost(t,e){const i=ye(t);return new yt(e,i)}toString(){return".value"}}const XM=new WM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(n){return{type:"value",snapshotNode:n}}function ka(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Sl(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function xl(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}function QM(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t){this.index_=t}updateChild(t,e,i,o,l,c){G(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(o).equals(i.getChild(o))&&h.isEmpty()===i.isEmpty()||(c!=null&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(Sl(e,h)):G(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(ka(e,i)):c.trackChildChange(xl(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return i!=null&&(t.isLeafNode()||t.forEachChild(te,(o,l)=>{e.hasChild(o)||i.trackChildChange(Sl(o,l))}),e.isLeafNode()||e.forEachChild(te,(o,l)=>{if(t.hasChild(o)){const c=t.getImmediateChild(o);c.equals(l)||i.trackChildChange(xl(o,l,c))}else i.trackChildChange(ka(o,l))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ot.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t){this.indexedFilter_=new ng(t.getIndex()),this.index_=t.getIndex(),this.startPost_=El.getStartPost_(t),this.endPost_=El.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,o,l,c){return this.matches(new yt(e,i))||(i=ot.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,o,l,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=ot.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(ot.EMPTY_NODE);const l=this;return e.forEachChild(te,(c,h)=>{l.matches(new yt(c,h))||(o=o.updateImmediateChild(c,ot.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new El(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,o,l,c){return this.rangedFilter_.matches(new yt(e,i))||(i=ot.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,o,l,c):this.fullLimitUpdateChild_(t,e,i,l,c)}updateFullNode(t,e,i){let o;if(e.isLeafNode()||e.isEmpty())o=ot.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){o=ot.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;l.hasNext()&&c<this.limit_;){const h=l.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{o=e.withIndex(this.index_),o=o.updatePriority(ot.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let c=0;for(;l.hasNext();){const h=l.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:o=o.updateImmediateChild(h.name,ot.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,o,l){let c;if(this.reverse_){const _=this.index_.getCompare();c=(y,v)=>_(v,y)}else c=this.index_.getCompare();const h=t;G(h.numChildren()===this.limit_,"");const f=new yt(e,i),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),m=this.rangedFilter_.matches(f);if(h.hasChild(e)){const _=h.getImmediateChild(e);let y=o.getChildAfterChild(this.index_,g,this.reverse_);for(;y!=null&&(y.name===e||h.hasChild(y.name));)y=o.getChildAfterChild(this.index_,y,this.reverse_);const v=y==null?1:c(y,f);if(m&&!i.isEmpty()&&v>=0)return l!=null&&l.trackChildChange(xl(e,i,_)),h.updateImmediateChild(e,i);{l!=null&&l.trackChildChange(Sl(e,_));const E=h.updateImmediateChild(e,ot.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(l!=null&&l.trackChildChange(ka(y.name,y.node)),E.updateImmediateChild(y.name,y.node)):E}}else return i.isEmpty()?t:m&&c(g,f)>=0?(l!=null&&(l.trackChildChange(Sl(g.name,g.node)),l.trackChildChange(ka(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(g.name,ot.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=te}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Na}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ds}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===te}copy(){const t=new ig;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ZM(n){return n.loadsAllData()?new ng(n.getIndex()):n.hasLimit()?new KM(n):new El(n)}function hb(n){const t={};if(n.isDefault())return t;let e;if(n.index_===te?e="$priority":n.index_===XM?e="$value":n.index_===wa?e="$key":(G(n.index_ instanceof GM,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=be(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=be(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+be(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=be(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+be(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function fb(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;e===""&&(n.isViewFromLeft()?e="l":e="r"),t.vf=e}return n.index_!==te&&(t.i=n.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends z0{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return e!==void 0?"tag$"+e:(G(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,e,i,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=Bl("p:rest:"),this.listens_={}}listen(t,e,i,o){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const c=Bc.getListenId_(t,i),h={};this.listens_[c]=h;const f=hb(t._queryParams);this.restRequest_(l+".json",f,(g,m)=>{let _=m;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(l,_,!1,i),Ra(this.listens_,c)===h){let y;g?g===401?y="permission_denied":y="rest_error:"+g:y="ok",o(y,null)}})}unlisten(t,e){const i=Bc.getListenId_(t,e);delete this.listens_[i]}get(t){const e=hb(t._queryParams),i=t._path.toString(),o=new kl;return this.restRequest_(i+".json",e,(l,c)=>{let h=c;l===404&&(h=null,l=null),l===null?(this.onDataUpdate_(i,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(e.auth=o.accessToken),l&&l.token&&(e.ac=l.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+EC(e);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=ml(h.responseText)}catch{ze("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,f)}else h.status!==401&&h.status!==404&&ze("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.rootNode_=ot.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(){return{value:null,children:new Map}}function q0(n,t,e){if(vt(t))n.value=e,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(t,e);else{const i=_t(t);n.children.has(i)||n.children.set(i,Hc());const o=n.children.get(i);t=Ut(t),q0(o,t,e)}}function md(n,t,e){n.value!==null?e(t,n.value):JM(n,(i,o)=>{const l=new kt(t.toString()+"/"+i);md(o,l,e)})}function JM(n,t){n.children.forEach((e,i)=>{t(i,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Te(this.last_,(i,o)=>{e[i]=e[i]-o}),this.last_=t,e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=10*1e3,eA=30*1e3,nA=5*60*1e3;class iA{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new tA(t);const i=db+(eA-db)*Math.random();ol(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Te(t,(o,l)=>{l>0&&Ln(this.statsToReport_,o)&&(e[o]=l,i=!0)}),i&&this.server_.reportStats(e),ol(this.reportStats_.bind(this),Math.floor(Math.random()*2*nA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(yn||(yn={}));function sg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ag(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function og(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=yn.ACK_USER_WRITE,this.source=sg()}operationForChild(t){if(vt(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new kt(t));return new Pc(At(),e,this.revert)}}else return G(_t(this.path)===t,"operationForChild called for unrelated child."),new Pc(Ut(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t,e){this.source=t,this.path=e,this.type=yn.LISTEN_COMPLETE}operationForChild(t){return vt(this.path)?new Cl(this.source,At()):new Cl(this.source,Ut(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=yn.OVERWRITE}operationForChild(t){return vt(this.path)?new Os(this.source,At(),this.snap.getImmediateChild(t)):new Os(this.source,Ut(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=yn.MERGE}operationForChild(t){if(vt(this.path)){const e=this.children.subtree(new kt(t));return e.isEmpty()?null:e.value?new Os(this.source,At(),e.value):new La(this.source,At(),e)}else return G(_t(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new La(this.source,Ut(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(vt(t))return this.isFullyInitialized()&&!this.filtered_;const e=_t(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function aA(n,t,e,i){const o=[],l=[];return t.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&l.push(QM(c.childName,c.snapshotNode))}),Wo(n,o,"child_removed",t,i,e),Wo(n,o,"child_added",t,i,e),Wo(n,o,"child_moved",l,i,e),Wo(n,o,"child_changed",t,i,e),Wo(n,o,"value",t,i,e),o}function Wo(n,t,e,i,o,l){const c=i.filter(h=>h.type===e);c.sort((h,f)=>lA(n,h,f)),c.forEach(h=>{const f=oA(n,h,l);o.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(f,n.query_))})})}function oA(n,t,e){return t.type==="value"||t.type==="child_removed"||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}function lA(n,t,e){if(t.childName==null||e.childName==null)throw Ua("Should only compare child_ events.");const i=new yt(t.childName,t.snapshotNode),o=new yt(e.childName,e.snapshotNode);return n.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(n,t){return{eventCache:n,serverCache:t}}function ll(n,t,e,i){return su(new Rs(t,e,i),n.serverCache)}function G0(n,t,e,i){return su(n.eventCache,new Rs(t,e,i))}function _d(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ns(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf;const rA=()=>(qf||(qf=new Fe(GT)),qf);class Bt{static fromObject(t){let e=new Bt(null);return Te(t,(i,o)=>{e=e.set(new kt(i),o)}),e}constructor(t,e=rA()){this.value=t,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(this.value!=null&&e(this.value))return{path:At(),value:this.value};if(vt(t))return null;{const i=_t(t),o=this.children.get(i);if(o!==null){const l=o.findRootMostMatchingPathAndValue(Ut(t),e);return l!=null?{path:Jt(new kt(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(vt(t))return this;{const e=_t(t),i=this.children.get(e);return i!==null?i.subtree(Ut(t)):new Bt(null)}}set(t,e){if(vt(t))return new Bt(e,this.children);{const i=_t(t),l=(this.children.get(i)||new Bt(null)).set(Ut(t),e),c=this.children.insert(i,l);return new Bt(this.value,c)}}remove(t){if(vt(t))return this.children.isEmpty()?new Bt(null):new Bt(null,this.children);{const e=_t(t),i=this.children.get(e);if(i){const o=i.remove(Ut(t));let l;return o.isEmpty()?l=this.children.remove(e):l=this.children.insert(e,o),this.value===null&&l.isEmpty()?new Bt(null):new Bt(this.value,l)}else return this}}get(t){if(vt(t))return this.value;{const e=_t(t),i=this.children.get(e);return i?i.get(Ut(t)):null}}setTree(t,e){if(vt(t))return e;{const i=_t(t),l=(this.children.get(i)||new Bt(null)).setTree(Ut(t),e);let c;return l.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,l),new Bt(this.value,c)}}fold(t){return this.fold_(At(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(Jt(t,o),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,At(),e)}findOnPath_(t,e,i){const o=this.value?i(e,this.value):!1;if(o)return o;if(vt(t))return null;{const l=_t(t),c=this.children.get(l);return c?c.findOnPath_(Ut(t),Jt(e,l),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,At(),e)}foreachOnPath_(t,e,i){if(vt(t))return this;{this.value&&i(e,this.value);const o=_t(t),l=this.children.get(o);return l?l.foreachOnPath_(Ut(t),Jt(e,o),i):new Bt(null)}}foreach(t){this.foreach_(At(),t)}foreach_(t,e){this.children.inorderTraversal((i,o)=>{o.foreach_(Jt(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.writeTree_=t}static empty(){return new vn(new Bt(null))}}function rl(n,t,e){if(vt(t))return new vn(new Bt(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(i!=null){const o=i.path;let l=i.value;const c=Ve(o,t);return l=l.updateChild(c,e),new vn(n.writeTree_.set(o,l))}else{const o=new Bt(e),l=n.writeTree_.setTree(t,o);return new vn(l)}}}function yd(n,t,e){let i=n;return Te(e,(o,l)=>{i=rl(i,Jt(t,o),l)}),i}function gb(n,t){if(vt(t))return vn.empty();{const e=n.writeTree_.setTree(t,new Bt(null));return new vn(e)}}function bd(n,t){return Is(n,t)!=null}function Is(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return e!=null?n.writeTree_.get(e.path).getChild(Ve(e.path,t)):null}function pb(n){const t=[],e=n.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(te,(i,o)=>{t.push(new yt(i,o))}):n.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&t.push(new yt(i,o.value))}),t}function Vi(n,t){if(vt(t))return n;{const e=Is(n,t);return e!=null?new vn(new Bt(e)):new vn(n.writeTree_.subtree(t))}}function vd(n){return n.writeTree_.isEmpty()}function za(n,t){return W0(At(),n.writeTree_,t)}function W0(n,t,e){if(t.value!=null)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((o,l)=>{o===".priority"?(G(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):e=W0(Jt(n,o),l,e)}),!e.getChild(n).isEmpty()&&i!==null&&(e=e.updateChild(Jt(n,".priority"),i)),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(n,t){return Z0(t,n)}function cA(n,t,e,i,o){G(i>n.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:o}),o&&(n.visibleWrites=rl(n.visibleWrites,t,e)),n.lastWriteId=i}function uA(n,t,e,i){G(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=yd(n.visibleWrites,t,e),n.lastWriteId=i}function hA(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}function fA(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);G(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let o=i.visible,l=!1,c=n.allWrites.length-1;for(;o&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=e&&dA(h,i.path)?o=!1:fn(i.path,h.path)&&(l=!0)),c--}if(o){if(l)return gA(n),!0;if(i.snap)n.visibleWrites=gb(n.visibleWrites,i.path);else{const h=i.children;Te(h,f=>{n.visibleWrites=gb(n.visibleWrites,Jt(i.path,f))})}return!0}else return!1}function dA(n,t){if(n.snap)return fn(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&fn(Jt(n.path,e),t))return!0;return!1}function gA(n){n.visibleWrites=X0(n.allWrites,pA,At()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function pA(n){return n.visible}function X0(n,t,e){let i=vn.empty();for(let o=0;o<n.length;++o){const l=n[o];if(t(l)){const c=l.path;let h;if(l.snap)fn(e,c)?(h=Ve(e,c),i=rl(i,h,l.snap)):fn(c,e)&&(h=Ve(c,e),i=rl(i,At(),l.snap.getChild(h)));else if(l.children){if(fn(e,c))h=Ve(e,c),i=yd(i,h,l.children);else if(fn(c,e))if(h=Ve(c,e),vt(h))i=yd(i,At(),l.children);else{const f=Ra(l.children,_t(h));if(f){const g=f.getChild(Ut(h));i=rl(i,At(),g)}}}else throw Ua("WriteRecord should have .snap or .children")}}return i}function Q0(n,t,e,i,o){if(!i&&!o){const l=Is(n.visibleWrites,t);if(l!=null)return l;{const c=Vi(n.visibleWrites,t);if(vd(c))return e;if(e==null&&!bd(c,At()))return null;{const h=e||ot.EMPTY_NODE;return za(c,h)}}}else{const l=Vi(n.visibleWrites,t);if(!o&&vd(l))return e;if(!o&&e==null&&!bd(l,At()))return null;{const c=function(g){return(g.visible||o)&&(!i||!~i.indexOf(g.writeId))&&(fn(g.path,t)||fn(t,g.path))},h=X0(n.allWrites,c,t),f=e||ot.EMPTY_NODE;return za(h,f)}}}function mA(n,t,e){let i=ot.EMPTY_NODE;const o=Is(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(te,(l,c)=>{i=i.updateImmediateChild(l,c)}),i;if(e){const l=Vi(n.visibleWrites,t);return e.forEachChild(te,(c,h)=>{const f=za(Vi(l,new kt(c)),h);i=i.updateImmediateChild(c,f)}),pb(l).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const l=Vi(n.visibleWrites,t);return pb(l).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function _A(n,t,e,i,o){G(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=Jt(t,e);if(bd(n.visibleWrites,l))return null;{const c=Vi(n.visibleWrites,l);return vd(c)?o.getChild(e):za(c,o.getChild(e))}}function yA(n,t,e,i){const o=Jt(t,e),l=Is(n.visibleWrites,o);if(l!=null)return l;if(i.isCompleteForChild(e)){const c=Vi(n.visibleWrites,o);return za(c,i.getNode().getImmediateChild(e))}else return null}function bA(n,t){return Is(n.visibleWrites,t)}function vA(n,t,e,i,o,l,c){let h;const f=Vi(n.visibleWrites,t),g=Is(f,At());if(g!=null)h=g;else if(e!=null)h=za(f,e);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const m=[],_=c.getCompare(),y=l?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let v=y.getNext();for(;v&&m.length<o;)_(v,i)!==0&&m.push(v),v=y.getNext();return m}else return[]}function SA(){return{visibleWrites:vn.empty(),allWrites:[],lastWriteId:-1}}function Uc(n,t,e,i){return Q0(n.writeTree,n.treePath,t,e,i)}function rg(n,t){return mA(n.writeTree,n.treePath,t)}function mb(n,t,e,i){return _A(n.writeTree,n.treePath,t,e,i)}function Vc(n,t){return bA(n.writeTree,Jt(n.treePath,t))}function xA(n,t,e,i,o,l){return vA(n.writeTree,n.treePath,t,e,i,o,l)}function cg(n,t,e){return yA(n.writeTree,n.treePath,t,e)}function K0(n,t){return Z0(Jt(n.treePath,t),n.writeTree)}function Z0(n,t){return{treePath:n,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;G(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),G(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if(e==="child_added"&&l==="child_removed")this.changeMap.set(i,xl(i,t.snapshotNode,o.snapshotNode));else if(e==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(e==="child_removed"&&l==="child_changed")this.changeMap.set(i,Sl(i,o.oldSnap));else if(e==="child_changed"&&l==="child_added")this.changeMap.set(i,ka(i,t.snapshotNode));else if(e==="child_changed"&&l==="child_changed")this.changeMap.set(i,xl(i,t.snapshotNode,o.oldSnap));else throw Ua("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}}const $0=new CA;class ug{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new Rs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cg(this.writes_,t,i)}}getChildAfterChild(t,e,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ns(this.viewCache_),l=xA(this.writes_,o,e,1,i,t);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(n){return{filter:n}}function MA(n,t){G(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),G(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function AA(n,t,e,i,o){const l=new EA;let c,h;if(e.type===yn.OVERWRITE){const g=e;g.source.fromUser?c=Sd(n,t,g.path,g.snap,i,o,l):(G(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!vt(g.path),c=Fc(n,t,g.path,g.snap,i,o,h,l))}else if(e.type===yn.MERGE){const g=e;g.source.fromUser?c=DA(n,t,g.path,g.children,i,o,l):(G(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),c=xd(n,t,g.path,g.children,i,o,h,l))}else if(e.type===yn.ACK_USER_WRITE){const g=e;g.revert?c=NA(n,t,g.path,i,o,l):c=OA(n,t,g.path,g.affectedTree,i,o,l)}else if(e.type===yn.LISTEN_COMPLETE)c=RA(n,t,e.path,i,l);else throw Ua("Unknown operation type: "+e.type);const f=l.getChanges();return wA(t,c,f),{viewCache:c,changes:f}}function wA(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=_d(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&e.push(Y0(_d(t)))}}function J0(n,t,e,i,o,l){const c=t.eventCache;if(Vc(i,e)!=null)return t;{let h,f;if(vt(e))if(G(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=Ns(t),m=g instanceof ot?g:ot.EMPTY_NODE,_=rg(i,m);h=n.filter.updateFullNode(t.eventCache.getNode(),_,l)}else{const g=Uc(i,Ns(t));h=n.filter.updateFullNode(t.eventCache.getNode(),g,l)}else{const g=_t(e);if(g===".priority"){G(ji(e)===1,"Can't have a priority with additional path components");const m=c.getNode();f=t.serverCache.getNode();const _=mb(i,e,m,f);_!=null?h=n.filter.updatePriority(m,_):h=c.getNode()}else{const m=Ut(e);let _;if(c.isCompleteForChild(g)){f=t.serverCache.getNode();const y=mb(i,e,c.getNode(),f);y!=null?_=c.getNode().getImmediateChild(g).updateChild(m,y):_=c.getNode().getImmediateChild(g)}else _=cg(i,g,t.serverCache);_!=null?h=n.filter.updateChild(c.getNode(),g,_,m,o,l):h=c.getNode()}}return ll(t,h,c.isFullyInitialized()||vt(e),n.filter.filtersNodes())}}function Fc(n,t,e,i,o,l,c,h){const f=t.serverCache;let g;const m=c?n.filter:n.filter.getIndexedFilter();if(vt(e))g=m.updateFullNode(f.getNode(),i,null);else if(m.filtersNodes()&&!f.isFiltered()){const v=f.getNode().updateChild(e,i);g=m.updateFullNode(f.getNode(),v,null)}else{const v=_t(e);if(!f.isCompleteForPath(e)&&ji(e)>1)return t;const S=Ut(e),T=f.getNode().getImmediateChild(v).updateChild(S,i);v===".priority"?g=m.updatePriority(f.getNode(),T):g=m.updateChild(f.getNode(),v,T,S,$0,null)}const _=G0(t,g,f.isFullyInitialized()||vt(e),m.filtersNodes()),y=new ug(o,_,l);return J0(n,_,e,o,y,h)}function Sd(n,t,e,i,o,l,c){const h=t.eventCache;let f,g;const m=new ug(o,t,l);if(vt(e))g=n.filter.updateFullNode(t.eventCache.getNode(),i,c),f=ll(t,g,!0,n.filter.filtersNodes());else{const _=_t(e);if(_===".priority")g=n.filter.updatePriority(t.eventCache.getNode(),i),f=ll(t,g,h.isFullyInitialized(),h.isFiltered());else{const y=Ut(e),v=h.getNode().getImmediateChild(_);let S;if(vt(y))S=i;else{const E=m.getCompleteChild(_);E!=null?$d(y)===".priority"&&E.getChild(B0(y)).isEmpty()?S=E:S=E.updateChild(y,i):S=ot.EMPTY_NODE}if(v.equals(S))f=t;else{const E=n.filter.updateChild(h.getNode(),_,S,y,m,c);f=ll(t,E,h.isFullyInitialized(),n.filter.filtersNodes())}}}return f}function _b(n,t){return n.eventCache.isCompleteForChild(t)}function DA(n,t,e,i,o,l,c){let h=t;return i.foreach((f,g)=>{const m=Jt(e,f);_b(t,_t(m))&&(h=Sd(n,h,m,g,o,l,c))}),i.foreach((f,g)=>{const m=Jt(e,f);_b(t,_t(m))||(h=Sd(n,h,m,g,o,l,c))}),h}function yb(n,t,e){return e.foreach((i,o)=>{t=t.updateChild(i,o)}),t}function xd(n,t,e,i,o,l,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let f=t,g;vt(e)?g=i:g=new Bt(null).setTree(e,i);const m=t.serverCache.getNode();return g.children.inorderTraversal((_,y)=>{if(m.hasChild(_)){const v=t.serverCache.getNode().getImmediateChild(_),S=yb(n,v,y);f=Fc(n,f,new kt(_),S,o,l,c,h)}}),g.children.inorderTraversal((_,y)=>{const v=!t.serverCache.isCompleteForChild(_)&&y.value===null;if(!m.hasChild(_)&&!v){const S=t.serverCache.getNode().getImmediateChild(_),E=yb(n,S,y);f=Fc(n,f,new kt(_),E,o,l,c,h)}}),f}function OA(n,t,e,i,o,l,c){if(Vc(o,e)!=null)return t;const h=t.serverCache.isFiltered(),f=t.serverCache;if(i.value!=null){if(vt(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return Fc(n,t,e,f.getNode().getChild(e),o,l,h,c);if(vt(e)){let g=new Bt(null);return f.getNode().forEachChild(wa,(m,_)=>{g=g.set(new kt(m),_)}),xd(n,t,e,g,o,l,h,c)}else return t}else{let g=new Bt(null);return i.foreach((m,_)=>{const y=Jt(e,m);f.isCompleteForPath(y)&&(g=g.set(m,f.getNode().getChild(y)))}),xd(n,t,e,g,o,l,h,c)}}function RA(n,t,e,i,o){const l=t.serverCache,c=G0(t,l.getNode(),l.isFullyInitialized()||vt(e),l.isFiltered());return J0(n,c,e,i,$0,o)}function NA(n,t,e,i,o,l){let c;if(Vc(i,e)!=null)return t;{const h=new ug(i,t,o),f=t.eventCache.getNode();let g;if(vt(e)||_t(e)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=Uc(i,Ns(t));else{const _=t.serverCache.getNode();G(_ instanceof ot,"serverChildren would be complete if leaf node"),m=rg(i,_)}m=m,g=n.filter.updateFullNode(f,m,l)}else{const m=_t(e);let _=cg(i,m,t.serverCache);_==null&&t.serverCache.isCompleteForChild(m)&&(_=f.getImmediateChild(m)),_!=null?g=n.filter.updateChild(f,m,_,Ut(e),h,l):t.eventCache.getNode().hasChild(m)?g=n.filter.updateChild(f,m,ot.EMPTY_NODE,Ut(e),h,l):g=f,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=Uc(i,Ns(t)),c.isLeafNode()&&(g=n.filter.updateFullNode(g,c,l)))}return c=t.serverCache.isFullyInitialized()||Vc(i,At())!=null,ll(t,g,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new ng(i.getIndex()),l=ZM(i);this.processor_=TA(l);const c=e.serverCache,h=e.eventCache,f=o.updateFullNode(ot.EMPTY_NODE,c.getNode(),null),g=l.updateFullNode(ot.EMPTY_NODE,h.getNode(),null),m=new Rs(f,c.isFullyInitialized(),o.filtersNodes()),_=new Rs(g,h.isFullyInitialized(),l.filtersNodes());this.viewCache_=su(_,m),this.eventGenerator_=new sA(this.query_)}get query(){return this.query_}}function LA(n){return n.viewCache_.serverCache.getNode()}function zA(n,t){const e=Ns(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!vt(t)&&!e.getImmediateChild(_t(t)).isEmpty())?e.getChild(t):null}function bb(n){return n.eventRegistrations_.length===0}function IA(n,t){n.eventRegistrations_.push(t)}function vb(n,t,e){const i=[];if(e){G(t==null,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(l=>{const c=l.createCancelEvent(e,o);c&&i.push(c)})}if(t){let o=[];for(let l=0;l<n.eventRegistrations_.length;++l){const c=n.eventRegistrations_[l];if(!c.matches(t))o.push(c);else if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(l+1));break}}n.eventRegistrations_=o}else n.eventRegistrations_=[];return i}function Sb(n,t,e,i){t.type===yn.MERGE&&t.source.queryId!==null&&(G(Ns(n.viewCache_),"We should always have a full cache before handling merges"),G(_d(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,l=AA(n.processor_,o,t,e,i);return MA(n.processor_,l.viewCache),G(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,tS(n,l.changes,l.viewCache.eventCache.getNode(),null)}function BA(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(te,(l,c)=>{i.push(ka(l,c))}),e.isFullyInitialized()&&i.push(Y0(e.getNode())),tS(n,i,e.getNode(),t)}function tS(n,t,e,i){const o=i?[i]:n.eventRegistrations_;return aA(n.eventGenerator_,t,e,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc;class HA{constructor(){this.views=new Map}}function PA(n){G(!jc,"__referenceConstructor has already been defined"),jc=n}function UA(){return G(jc,"Reference.ts has not been loaded"),jc}function VA(n){return n.views.size===0}function hg(n,t,e,i){const o=t.source.queryId;if(o!==null){const l=n.views.get(o);return G(l!=null,"SyncTree gave us an op for an invalid query."),Sb(l,t,e,i)}else{let l=[];for(const c of n.views.values())l=l.concat(Sb(c,t,e,i));return l}}function FA(n,t,e,i,o){const l=t._queryIdentifier,c=n.views.get(l);if(!c){let h=Uc(e,o?i:null),f=!1;h?f=!0:i instanceof ot?(h=rg(e,i),f=!1):(h=ot.EMPTY_NODE,f=!1);const g=su(new Rs(h,f,!1),new Rs(i,o,!1));return new kA(t,g)}return c}function jA(n,t,e,i,o,l){const c=FA(n,t,i,o,l);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),IA(c,e),BA(c,e)}function YA(n,t,e,i){const o=t._queryIdentifier,l=[];let c=[];const h=Yi(n);if(o==="default")for(const[f,g]of n.views.entries())c=c.concat(vb(g,e,i)),bb(g)&&(n.views.delete(f),g.query._queryParams.loadsAllData()||l.push(g.query));else{const f=n.views.get(o);f&&(c=c.concat(vb(f,e,i)),bb(f)&&(n.views.delete(o),f.query._queryParams.loadsAllData()||l.push(f.query)))}return h&&!Yi(n)&&l.push(new(UA())(t._repo,t._path)),{removed:l,events:c}}function eS(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Da(n,t){let e=null;for(const i of n.views.values())e=e||zA(i,t);return e}function nS(n,t){if(t._queryParams.loadsAllData())return au(n);{const i=t._queryIdentifier;return n.views.get(i)}}function iS(n,t){return nS(n,t)!=null}function Yi(n){return au(n)!=null}function au(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc;function qA(n){G(!Yc,"__referenceConstructor has already been defined"),Yc=n}function GA(){return G(Yc,"Reference.ts has not been loaded"),Yc}let WA=1;class xb{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Bt(null),this.pendingWriteTree_=SA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sS(n,t,e,i,o){return cA(n.pendingWriteTree_,t,e,i,o),o?Fa(n,new Os(sg(),t,e)):[]}function XA(n,t,e,i){uA(n.pendingWriteTree_,t,e,i);const o=Bt.fromObject(e);return Fa(n,new La(sg(),t,o))}function Li(n,t,e=!1){const i=hA(n.pendingWriteTree_,t);if(fA(n.pendingWriteTree_,t)){let l=new Bt(null);return i.snap!=null?l=l.set(At(),!0):Te(i.children,c=>{l=l.set(new kt(c),!0)}),Fa(n,new Pc(i.path,l,e))}else return[]}function ou(n,t,e){return Fa(n,new Os(ag(),t,e))}function QA(n,t,e){const i=Bt.fromObject(e);return Fa(n,new La(ag(),t,i))}function KA(n,t){return Fa(n,new Cl(ag(),t))}function ZA(n,t,e){const i=dg(n,e);if(i){const o=gg(i),l=o.path,c=o.queryId,h=Ve(l,t),f=new Cl(og(c),h);return pg(n,l,f)}else return[]}function Ed(n,t,e,i,o=!1){const l=t._path,c=n.syncPointTree_.get(l);let h=[];if(c&&(t._queryIdentifier==="default"||iS(c,t))){const f=YA(c,t,e,i);VA(c)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const g=f.removed;if(h=f.events,!o){const m=g.findIndex(y=>y._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(l,(y,v)=>Yi(v));if(m&&!_){const y=n.syncPointTree_.subtree(l);if(!y.isEmpty()){const v=tw(y);for(let S=0;S<v.length;++S){const E=v[S],T=E.query,D=lS(n,E);n.listenProvider_.startListening(cl(T),qc(n,T),D.hashFn,D.onComplete)}}}!_&&g.length>0&&!i&&(m?n.listenProvider_.stopListening(cl(t),null):g.forEach(y=>{const v=n.queryToTagMap.get(lu(y));n.listenProvider_.stopListening(cl(y),v)}))}ew(n,g)}return h}function $A(n,t,e,i){const o=dg(n,i);if(o!=null){const l=gg(o),c=l.path,h=l.queryId,f=Ve(c,t),g=new Os(og(h),f,e);return pg(n,c,g)}else return[]}function JA(n,t,e,i){const o=dg(n,i);if(o){const l=gg(o),c=l.path,h=l.queryId,f=Ve(c,t),g=Bt.fromObject(e),m=new La(og(h),f,g);return pg(n,c,m)}else return[]}function Eb(n,t,e,i=!1){const o=t._path;let l=null,c=!1;n.syncPointTree_.foreachOnPath(o,(y,v)=>{const S=Ve(y,o);l=l||Da(v,S),c=c||Yi(v)});let h=n.syncPointTree_.get(o);h?(c=c||Yi(h),l=l||Da(h,At())):(h=new HA,n.syncPointTree_=n.syncPointTree_.set(o,h));let f;l!=null?f=!0:(f=!1,l=ot.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((v,S)=>{const E=Da(S,At());E&&(l=l.updateImmediateChild(v,E))}));const g=iS(h,t);if(!g&&!t._queryParams.loadsAllData()){const y=lu(t);G(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");const v=nw();n.queryToTagMap.set(y,v),n.tagToQueryMap.set(v,y)}const m=lg(n.pendingWriteTree_,o);let _=jA(h,t,e,m,l,f);if(!g&&!c&&!i){const y=nS(h,t);_=_.concat(iw(n,t,y))}return _}function fg(n,t,e){const o=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(t,(c,h)=>{const f=Ve(c,t),g=Da(h,f);if(g)return g});return Q0(o,t,l,e,!0)}function Fa(n,t){return aS(t,n.syncPointTree_,null,lg(n.pendingWriteTree_,At()))}function aS(n,t,e,i){if(vt(n.path))return oS(n,t,e,i);{const o=t.get(At());e==null&&o!=null&&(e=Da(o,At()));let l=[];const c=_t(n.path),h=n.operationForChild(c),f=t.children.get(c);if(f&&h){const g=e?e.getImmediateChild(c):null,m=K0(i,c);l=l.concat(aS(h,f,g,m))}return o&&(l=l.concat(hg(o,n,i,e))),l}}function oS(n,t,e,i){const o=t.get(At());e==null&&o!=null&&(e=Da(o,At()));let l=[];return t.children.inorderTraversal((c,h)=>{const f=e?e.getImmediateChild(c):null,g=K0(i,c),m=n.operationForChild(c);m&&(l=l.concat(oS(m,h,f,g)))}),o&&(l=l.concat(hg(o,n,i,e))),l}function lS(n,t){const e=t.query,i=qc(n,e);return{hashFn:()=>(LA(t)||ot.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?ZA(n,e._path,i):KA(n,e._path);{const l=QT(o,e);return Ed(n,e,null,l)}}}}function qc(n,t){const e=lu(t);return n.queryToTagMap.get(e)}function lu(n){return n._path.toString()+"$"+n._queryIdentifier}function dg(n,t){return n.tagToQueryMap.get(t)}function gg(n){const t=n.indexOf("$");return G(t!==-1&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new kt(n.substr(0,t))}}function pg(n,t,e){const i=n.syncPointTree_.get(t);G(i,"Missing sync point for query tag that we're tracking");const o=lg(n.pendingWriteTree_,t);return hg(i,e,o,null)}function tw(n){return n.fold((t,e,i)=>{if(e&&Yi(e))return[au(e)];{let o=[];return e&&(o=eS(e)),Te(i,(l,c)=>{o=o.concat(c)}),o}})}function cl(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(GA())(n._repo,n._path):n}function ew(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const o=lu(i),l=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(l)}}}function nw(){return WA++}function iw(n,t,e){const i=t._path,o=qc(n,t),l=lS(n,e),c=n.listenProvider_.startListening(cl(t),o,l.hashFn,l.onComplete),h=n.syncPointTree_.subtree(i);if(o)G(!Yi(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((g,m,_)=>{if(!vt(g)&&m&&Yi(m))return[au(m).query];{let y=[];return m&&(y=y.concat(eS(m).map(v=>v.query))),Te(_,(v,S)=>{y=y.concat(S)}),y}});for(let g=0;g<f.length;++g){const m=f[g];n.listenProvider_.stopListening(cl(m),qc(n,m))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new mg(e)}node(){return this.node_}}class _g{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Jt(this.path_,t);return new _g(this.syncTree_,e)}node(){return fg(this.syncTree_,this.path_)}}const sw=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Cb=function(n,t,e){if(!n||typeof n!="object")return n;if(G(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return aw(n[".sv"],t,e);if(typeof n[".sv"]=="object")return ow(n[".sv"],t);G(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},aw=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:G(!1,"Unexpected server value: "+n)}},ow=function(n,t,e){n.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&G(!1,"Unexpected increment value: "+i);const o=t.node();if(G(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const c=o.getValue();return typeof c!="number"?i:c+i},rS=function(n,t,e,i){return yg(t,new _g(e,n),i)},cS=function(n,t,e){return yg(n,new mg(t),e)};function yg(n,t,e){const i=n.getPriority().val(),o=Cb(i,t.getImmediateChild(".priority"),e);let l;if(n.isLeafNode()){const c=n,h=Cb(c.getValue(),t,e);return h!==c.getValue()||o!==c.getPriority().val()?new pe(h,ye(o)):n}else{const c=n;return l=c,o!==c.getPriority().val()&&(l=l.updatePriority(new pe(o))),c.forEachChild(te,(h,f)=>{const g=yg(f,t.getImmediateChild(h),e);g!==f&&(l=l.updateImmediateChild(h,g))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function vg(n,t){let e=t instanceof kt?t:new kt(t),i=n,o=_t(e);for(;o!==null;){const l=Ra(i.node.children,o)||{children:{},childCount:0};i=new bg(o,i,l),e=Ut(e),o=_t(e)}return i}function ja(n){return n.node.value}function uS(n,t){n.node.value=t,Cd(n)}function hS(n){return n.node.childCount>0}function lw(n){return ja(n)===void 0&&!hS(n)}function ru(n,t){Te(n.node.children,(e,i)=>{t(new bg(e,n,i))})}function fS(n,t,e,i){e&&t(n),ru(n,o=>{fS(o,t,!0)})}function rw(n,t,e){let i=n.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Pl(n){return new kt(n.parent===null?n.name:Pl(n.parent)+"/"+n.name)}function Cd(n){n.parent!==null&&cw(n.parent,n.name,n)}function cw(n,t,e){const i=lw(e),o=Ln(n.node.children,t);i&&o?(delete n.node.children[t],n.node.childCount--,Cd(n)):!i&&!o&&(n.node.children[t]=e.node,n.node.childCount++,Cd(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=/[\[\].#$\/\u0000-\u001F\u007F]/,hw=/[\[\].#$\u0000-\u001F\u007F]/,Gf=10*1024*1024,Sg=function(n){return typeof n=="string"&&n.length!==0&&!uw.test(n)},dS=function(n){return typeof n=="string"&&n.length!==0&&!hw.test(n)},fw=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dS(n)},dw=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Wd(n)||n&&typeof n=="object"&&Ln(n,".sv")},gw=function(n,t,e,i){cu(eu(n,"value"),t,e)},cu=function(n,t,e){const i=e instanceof kt?new DM(e,n):e;if(t===void 0)throw new Error(n+"contains undefined "+xs(i));if(typeof t=="function")throw new Error(n+"contains a function "+xs(i)+" with contents = "+t.toString());if(Wd(t))throw new Error(n+"contains "+t.toString()+" "+xs(i));if(typeof t=="string"&&t.length>Gf/3&&nu(t)>Gf)throw new Error(n+"contains a string greater than "+Gf+" utf8 bytes "+xs(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,l=!1;if(Te(t,(c,h)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(l=!0,!Sg(c)))throw new Error(n+" contains an invalid key ("+c+") "+xs(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OM(i,c),cu(n,h,i),RM(i)}),o&&l)throw new Error(n+' contains ".value" child '+xs(i)+" in addition to actual children.")}},pw=function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const l=vl(i);for(let c=0;c<l.length;c++)if(!(l[c]===".priority"&&c===l.length-1)){if(!Sg(l[c]))throw new Error(n+"contains an invalid key ("+l[c]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(wM);let o=null;for(e=0;e<t.length;e++){if(i=t[e],o!==null&&fn(o,i))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}},mw=function(n,t,e,i){const o=eu(n,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const l=[];Te(t,(c,h)=>{const f=new kt(c);if(cu(o,h,Jt(e,f)),$d(f)===".priority"&&!dw(h))throw new Error(o+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(f)}),pw(o,l)},gS=function(n,t,e,i){if(!dS(e))throw new Error(eu(n,t)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},_w=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),gS(n,t,e)},yw=function(n,t){if(_t(t)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},bw=function(n,t){const e=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Sg(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!fw(e))throw new Error(eu(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function uu(n,t){let e=null;for(let i=0;i<t.length;i++){const o=t[i],l=o.getPath();e!==null&&!Jd(l,e.path)&&(n.eventLists_.push(e),e=null),e===null&&(e={events:[],path:l}),e.events.push(o)}e&&n.eventLists_.push(e)}function pS(n,t,e){uu(n,e),mS(n,i=>Jd(i,t))}function xn(n,t,e){uu(n,e),mS(n,i=>fn(i,t)||fn(t,i))}function mS(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const o=n.eventLists_[i];if(o){const l=o.path;t(l)?(Sw(n.eventLists_[i]),n.eventLists_[i]=null):e=!1}}e&&(n.eventLists_=[]),n.recursionDepth_--}function Sw(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(e!==null){n.events[t]=null;const i=e.getEventRunner();al&&Ce("event: "+e.toString()),Va(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="repo_interrupt",Ew=25;class Cw{constructor(t,e,i,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hc(),this.transactionQueueTree_=new bg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Tw(n,t,e){if(n.stats_=Kd(n.repoInfo_),n.forceRestClient_||JT())n.server_=new Bc(n.repoInfo_,(i,o,l,c)=>{Tb(n,i,o,l,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Mb(n,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{be(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new oi(n.repoInfo_,t,(i,o,l,c)=>{Tb(n,i,o,l,c)},i=>{Mb(n,i)},i=>{Aw(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=sM(n.repoInfo_,()=>new iA(n.stats_,n.server_)),n.infoData_=new $M,n.infoSyncTree_=new xb({startListening:(i,o,l,c)=>{let h=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(h=ou(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),xg(n,"connected",!1),n.serverSyncTree_=new xb({startListening:(i,o,l,c)=>(n.server_.listen(i,l,o,(h,f)=>{const g=c(h,f);xn(n.eventQueue_,i._path,g)}),[]),stopListening:(i,o)=>{n.server_.unlisten(i,o)}})}function Mw(n){const e=n.infoData_.getNode(new kt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function hu(n){return sw({timestamp:Mw(n)})}function Tb(n,t,e,i,o){n.dataUpdateCount++;const l=new kt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(o)if(i){const f=Oc(e,g=>ye(g));c=JA(n.serverSyncTree_,l,f,o)}else{const f=ye(e);c=$A(n.serverSyncTree_,l,f,o)}else if(i){const f=Oc(e,g=>ye(g));c=QA(n.serverSyncTree_,l,f)}else{const f=ye(e);c=ou(n.serverSyncTree_,l,f)}let h=l;c.length>0&&(h=Ia(n,l)),xn(n.eventQueue_,h,c)}function Mb(n,t){xg(n,"connected",t),t===!1&&Ow(n)}function Aw(n,t){Te(t,(e,i)=>{xg(n,e,i)})}function xg(n,t,e){const i=new kt("/.info/"+t),o=ye(e);n.infoData_.updateSnapshot(i,o);const l=ou(n.infoSyncTree_,i,o);xn(n.eventQueue_,i,l)}function Eg(n){return n.nextWriteId_++}function ww(n,t,e,i,o){fu(n,"set",{path:t.toString(),value:e,priority:i});const l=hu(n),c=ye(e,i),h=fg(n.serverSyncTree_,t),f=cS(c,h,l),g=Eg(n),m=sS(n.serverSyncTree_,t,f,g,!0);uu(n.eventQueue_,m),n.server_.put(t.toString(),c.val(!0),(y,v)=>{const S=y==="ok";S||ze("set at "+t+" failed: "+y);const E=Li(n.serverSyncTree_,g,!S);xn(n.eventQueue_,t,E),Td(n,o,y,v)});const _=Tg(n,t);Ia(n,_),xn(n.eventQueue_,_,[])}function Dw(n,t,e,i){fu(n,"update",{path:t.toString(),value:e});let o=!0;const l=hu(n),c={};if(Te(e,(h,f)=>{o=!1,c[h]=rS(Jt(t,h),ye(f),n.serverSyncTree_,l)}),o)Ce("update() called with empty data.  Don't do anything."),Td(n,i,"ok",void 0);else{const h=Eg(n),f=XA(n.serverSyncTree_,t,c,h);uu(n.eventQueue_,f),n.server_.merge(t.toString(),e,(g,m)=>{const _=g==="ok";_||ze("update at "+t+" failed: "+g);const y=Li(n.serverSyncTree_,h,!_),v=y.length>0?Ia(n,t):t;xn(n.eventQueue_,v,y),Td(n,i,g,m)}),Te(e,g=>{const m=Tg(n,Jt(t,g));Ia(n,m)}),xn(n.eventQueue_,t,[])}}function Ow(n){fu(n,"onDisconnectEvents");const t=hu(n),e=Hc();md(n.onDisconnect_,At(),(o,l)=>{const c=rS(o,l,n.serverSyncTree_,t);q0(e,o,c)});let i=[];md(e,At(),(o,l)=>{i=i.concat(ou(n.serverSyncTree_,o,l));const c=Tg(n,o);Ia(n,c)}),n.onDisconnect_=Hc(),xn(n.eventQueue_,At(),i)}function Rw(n,t,e){let i;_t(t._path)===".info"?i=Eb(n.infoSyncTree_,t,e):i=Eb(n.serverSyncTree_,t,e),pS(n.eventQueue_,t._path,i)}function Nw(n,t,e){let i;_t(t._path)===".info"?i=Ed(n.infoSyncTree_,t,e):i=Ed(n.serverSyncTree_,t,e),pS(n.eventQueue_,t._path,i)}function kw(n){n.persistentConnection_&&n.persistentConnection_.interrupt(xw)}function fu(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Ce(e,...t)}function Td(n,t,e,i){t&&Va(()=>{if(e==="ok")t(null);else{const o=(e||"error").toUpperCase();let l=o;i&&(l+=": "+i);const c=new Error(l);c.code=o,t(c)}})}function _S(n,t,e){return fg(n.serverSyncTree_,t,e)||ot.EMPTY_NODE}function Cg(n,t=n.transactionQueueTree_){if(t||du(n,t),ja(t)){const e=bS(n,t);G(e.length>0,"Sending zero length transaction queue"),e.every(o=>o.status===0)&&Lw(n,Pl(t),e)}else hS(t)&&ru(t,e=>{Cg(n,e)})}function Lw(n,t,e){const i=e.map(g=>g.currentWriteId),o=_S(n,t,i);let l=o;const c=o.hash();for(let g=0;g<e.length;g++){const m=e[g];G(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const _=Ve(t,m.path);l=l.updateChild(_,m.currentOutputSnapshotRaw)}const h=l.val(!0),f=t;n.server_.put(f.toString(),h,g=>{fu(n,"transaction put response",{path:f.toString(),status:g});let m=[];if(g==="ok"){const _=[];for(let y=0;y<e.length;y++)e[y].status=2,m=m.concat(Li(n.serverSyncTree_,e[y].currentWriteId)),e[y].onComplete&&_.push(()=>e[y].onComplete(null,!0,e[y].currentOutputSnapshotResolved)),e[y].unwatcher();du(n,vg(n.transactionQueueTree_,t)),Cg(n,n.transactionQueueTree_),xn(n.eventQueue_,t,m);for(let y=0;y<_.length;y++)Va(_[y])}else{if(g==="datastale")for(let _=0;_<e.length;_++)e[_].status===3?e[_].status=4:e[_].status=0;else{ze("transaction at "+f.toString()+" failed: "+g);for(let _=0;_<e.length;_++)e[_].status=4,e[_].abortReason=g}Ia(n,t)}},c)}function Ia(n,t){const e=yS(n,t),i=Pl(e),o=bS(n,e);return zw(n,o,i),i}function zw(n,t,e){if(t.length===0)return;const i=[];let o=[];const c=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const f=t[h],g=Ve(e,f.path);let m=!1,_;if(G(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)m=!0,_=f.abortReason,o=o.concat(Li(n.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=Ew)m=!0,_="maxretry",o=o.concat(Li(n.serverSyncTree_,f.currentWriteId,!0));else{const y=_S(n,f.path,c);f.currentInputSnapshot=y;const v=t[h].update(y.val());if(v!==void 0){cu("transaction failed: Data returned ",v,f.path);let S=ye(v);typeof v=="object"&&v!=null&&Ln(v,".priority")||(S=S.updatePriority(y.getPriority()));const T=f.currentWriteId,D=hu(n),N=cS(S,y,D);f.currentOutputSnapshotRaw=S,f.currentOutputSnapshotResolved=N,f.currentWriteId=Eg(n),c.splice(c.indexOf(T),1),o=o.concat(sS(n.serverSyncTree_,f.path,N,f.currentWriteId,f.applyLocally)),o=o.concat(Li(n.serverSyncTree_,T,!0))}else m=!0,_="nodata",o=o.concat(Li(n.serverSyncTree_,f.currentWriteId,!0))}xn(n.eventQueue_,e,o),o=[],m&&(t[h].status=2,function(y){setTimeout(y,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(_==="nodata"?i.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):i.push(()=>t[h].onComplete(new Error(_),!1,null))))}du(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)Va(i[h]);Cg(n,n.transactionQueueTree_)}function yS(n,t){let e,i=n.transactionQueueTree_;for(e=_t(t);e!==null&&ja(i)===void 0;)i=vg(i,e),t=Ut(t),e=_t(t);return i}function bS(n,t){const e=[];return vS(n,t,e),e.sort((i,o)=>i.order-o.order),e}function vS(n,t,e){const i=ja(t);if(i)for(let o=0;o<i.length;o++)e.push(i[o]);ru(t,o=>{vS(n,o,e)})}function du(n,t){const e=ja(t);if(e){let i=0;for(let o=0;o<e.length;o++)e[o].status!==2&&(e[i]=e[o],i++);e.length=i,uS(t,e.length>0?e:void 0)}ru(t,i=>{du(n,i)})}function Tg(n,t){const e=Pl(yS(n,t)),i=vg(n.transactionQueueTree_,t);return rw(i,o=>{Wf(n,o)}),Wf(n,i),fS(i,o=>{Wf(n,o)}),e}function Wf(n,t){const e=ja(t);if(e){const i=[];let o=[],l=-1;for(let c=0;c<e.length;c++)e[c].status===3||(e[c].status===1?(G(l===c-1,"All SENT items should be at beginning of queue."),l=c,e[c].status=3,e[c].abortReason="set"):(G(e[c].status===0,"Unexpected transaction status in abort"),e[c].unwatcher(),o=o.concat(Li(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));l===-1?uS(t,void 0):e.length=l+1,xn(n.eventQueue_,Pl(t),o);for(let c=0;c<i.length;c++)Va(i[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let o=e[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function Bw(n){const t={};n.charAt(0)==="?"&&(n=n.substring(1));for(const e of n.split("&")){if(e.length===0)continue;const i=e.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ze(`Invalid query segment '${e}' in query '${n}'`)}return t}const Ab=function(n,t){const e=Hw(n),i=e.namespace;e.domain==="firebase.com"&&ri(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&e.domain!=="localhost"&&ri("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||YT();const o=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new w0(e.host,e.secure,i,o,t,"",i!==e.subdomain),path:new kt(e.pathString)}},Hw=function(n){let t="",e="",i="",o="",l="",c=!0,h="https",f=443;if(typeof n=="string"){let g=n.indexOf("//");g>=0&&(h=n.substring(0,g-1),n=n.substring(g+2));let m=n.indexOf("/");m===-1&&(m=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),t=n.substring(0,Math.min(m,_)),m<_&&(o=Iw(n.substring(m,_)));const y=Bw(n.substring(Math.min(n.length,_)));g=t.indexOf(":"),g>=0?(c=h==="https"||h==="wss",f=parseInt(t.substring(g+1),10)):g=t.length;const v=t.slice(0,g);if(v.toLowerCase()==="localhost")e="localhost";else if(v.split(".").length<=2)e=v;else{const S=t.indexOf(".");i=t.substring(0,S).toLowerCase(),e=t.substring(S+1),l=i}"ns"in y&&(l=y.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:c,scheme:h,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t,e,i,o){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+be(this.snapshot.exportVal())}}class Uw{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t,e,i,o){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=o}get key(){return vt(this._path)?null:$d(this._path)}get ref(){return new Wi(this._repo,this._path)}get _queryIdentifier(){const t=fb(this._queryParams),e=Xd(t);return e==="{}"?"default":e}get _queryObject(){return fb(this._queryParams)}isEqual(t){if(t=zl(t),!(t instanceof Mg))return!1;const e=this._repo===t._repo,i=Jd(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return e&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+AM(this._path)}}class Wi extends Mg{constructor(t,e){super(t,e,new ig,!1)}get parent(){const t=B0(this._path);return t===null?null:new Wi(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Gc{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new kt(t),i=Md(this.ref,t);return new Gc(this._node.getChild(e),i,te)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>t(new Gc(o,Md(this.ref,i),te)))}hasChild(t){const e=new kt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Sa(n,t){return n=zl(n),n._checkNotDeleted("ref"),t!==void 0?Md(n._root,t):n._root}function Md(n,t){return n=zl(n),_t(n._path)===null?_w("child","path",t):gS("child","path",t),new Wi(n._repo,Jt(n._path,t))}function Fw(n,t){n=zl(n),yw("set",n._path),gw("set",t,n._path);const e=new kl;return ww(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function sc(n,t){mw("update",t,n._path);const e=new kl;return Dw(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class Ag{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,e){const i=e._queryParams.getIndex();return new Pw("value",this,new Gc(t.snapshotNode,new Wi(e._repo,e._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Uw(this,t,e):null}matches(t){return t instanceof Ag?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function jw(n,t,e,i,o){const l=new Vw(e,void 0),c=new Ag(l);return Rw(n._repo,n,c),()=>Nw(n._repo,n,c)}function Yw(n,t,e,i){return jw(n,"value",t)}PA(Wi);qA(Wi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="FIREBASE_DATABASE_EMULATOR_HOST",Ad={};let Gw=!1;function Ww(n,t,e,i){n.repoInfo_=new w0(t,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,e),i&&(n.authTokenProvider_=i)}function Xw(n,t,e,i,o){let l=i||n.options.databaseURL;l===void 0&&(n.options.projectId||ri("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ce("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=Ab(l,o),h=c.repoInfo,f;typeof process<"u"&&Xy&&(f=Xy[qw]),f?(l=`http://${f}?ns=${h.namespace}`,c=Ab(l,o),h=c.repoInfo):c.repoInfo.secure;const g=new eM(n.name,n.options,t);bw("Invalid Firebase Database URL",c),vt(c.path)||ri("Database URL must point to the root of a Firebase Database (not including a child path).");const m=Kw(h,n,g,new tM(n,e));return new Zw(m,n)}function Qw(n,t){const e=Ad[t];(!e||e[n.key]!==n)&&ri(`Database ${t}(${n.repoInfo_}) has already been deleted.`),kw(n),delete e[n.key]}function Kw(n,t,e,i){let o=Ad[t.name];o||(o={},Ad[t.name]=o);let l=o[n.toURLString()];return l&&ri("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new Cw(n,Gw,e,i),o[n.toURLString()]=l,l}class Zw{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Tw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wi(this._repo,At())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Qw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&ri("Cannot call "+t+" on a deleted database.")}}function $w(n=AT(),t){const e=xT(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const i=hC("database");i&&Jw(e,...i)}return e}function Jw(n,t,e,i={}){n=zl(n),n._checkNotDeleted("useEmulator");const o=`${t}:${e}`,l=n._repoInternal;if(n._instanceStarted){if(o===n._repoInternal.repoInfo_.host&&Rc(i,l.repoInfo_.emulatorOptions))return;ri("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(l.repoInfo_.nodeAdmin)i.mockUserToken&&ri('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new vc(vc.OWNER);else if(i.mockUserToken){const h=typeof i.mockUserToken=="string"?i.mockUserToken:fC(i.mockUserToken,n.app.options.projectId);c=new vc(h)}Ww(l,o,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(n){HT(MT),kc(new _l("database",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),l=t.getProvider("app-check-internal");return Xw(i,o,l,e)},"PUBLIC").setMultipleInstances(!0)),Ma(Qy,Ky,n),Ma(Qy,Ky,"esm2017")}oi.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)};oi.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)};tD();var eD="firebase",nD="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ma(eD,nD,"app");const iD={apiKey:void 0,authDomain:void 0,databaseURL:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},sD=h0(iD),xa=$w(sD);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ul(n){return n+.5|0}const zi=(n,t,e)=>Math.max(Math.min(n,e),t);function Jo(n){return zi(Ul(n*2.55),0,255)}function Fi(n){return zi(Ul(n*255),0,255)}function ei(n){return zi(Ul(n/2.55)/100,0,1)}function wb(n){return zi(Ul(n*100),0,100)}const hn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wd=[..."0123456789ABCDEF"],aD=n=>wd[n&15],oD=n=>wd[(n&240)>>4]+wd[n&15],ac=n=>(n&240)>>4===(n&15),lD=n=>ac(n.r)&&ac(n.g)&&ac(n.b)&&ac(n.a);function rD(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&hn[n[1]]*17,g:255&hn[n[2]]*17,b:255&hn[n[3]]*17,a:t===5?hn[n[4]]*17:255}:(t===7||t===9)&&(e={r:hn[n[1]]<<4|hn[n[2]],g:hn[n[3]]<<4|hn[n[4]],b:hn[n[5]]<<4|hn[n[6]],a:t===9?hn[n[7]]<<4|hn[n[8]]:255})),e}const cD=(n,t)=>n<255?t(n):"";function uD(n){var t=lD(n)?aD:oD;return n?"#"+t(n.r)+t(n.g)+t(n.b)+cD(n.a,t):void 0}const hD=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function SS(n,t,e){const i=t*Math.min(e,1-e),o=(l,c=(l+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[o(0),o(8),o(4)]}function fD(n,t,e){const i=(o,l=(o+n/60)%6)=>e-e*t*Math.max(Math.min(l,4-l,1),0);return[i(5),i(3),i(1)]}function dD(n,t,e){const i=SS(n,1,.5);let o;for(t+e>1&&(o=1/(t+e),t*=o,e*=o),o=0;o<3;o++)i[o]*=1-t-e,i[o]+=t;return i}function gD(n,t,e,i,o){return n===o?(t-e)/i+(t<e?6:0):t===o?(e-n)/i+2:(n-t)/i+4}function wg(n){const e=n.r/255,i=n.g/255,o=n.b/255,l=Math.max(e,i,o),c=Math.min(e,i,o),h=(l+c)/2;let f,g,m;return l!==c&&(m=l-c,g=h>.5?m/(2-l-c):m/(l+c),f=gD(e,i,o,m,l),f=f*60+.5),[f|0,g||0,h]}function Dg(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Fi)}function Og(n,t,e){return Dg(SS,n,t,e)}function pD(n,t,e){return Dg(dD,n,t,e)}function mD(n,t,e){return Dg(fD,n,t,e)}function xS(n){return(n%360+360)%360}function _D(n){const t=hD.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Jo(+t[5]):Fi(+t[5]));const o=xS(+t[2]),l=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=pD(o,l,c):t[1]==="hsv"?i=mD(o,l,c):i=Og(o,l,c),{r:i[0],g:i[1],b:i[2],a:e}}function yD(n,t){var e=wg(n);e[0]=xS(e[0]+t),e=Og(e),n.r=e[0],n.g=e[1],n.b=e[2]}function bD(n){if(!n)return;const t=wg(n),e=t[0],i=wb(t[1]),o=wb(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${o}%, ${ei(n.a)})`:`hsl(${e}, ${i}%, ${o}%)`}const Db={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ob={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function vD(){const n={},t=Object.keys(Ob),e=Object.keys(Db);let i,o,l,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],o=0;o<e.length;o++)l=e[o],h=h.replace(l,Db[l]);l=parseInt(Ob[c],16),n[h]=[l>>16&255,l>>8&255,l&255]}return n}let oc;function SD(n){oc||(oc=vD(),oc.transparent=[0,0,0,0]);const t=oc[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const xD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ED(n){const t=xD.exec(n);let e=255,i,o,l;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Jo(c):zi(c*255,0,255)}return i=+t[1],o=+t[3],l=+t[5],i=255&(t[2]?Jo(i):zi(i,0,255)),o=255&(t[4]?Jo(o):zi(o,0,255)),l=255&(t[6]?Jo(l):zi(l,0,255)),{r:i,g:o,b:l,a:e}}}function CD(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ei(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Xf=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ea=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function TD(n,t,e){const i=Ea(ei(n.r)),o=Ea(ei(n.g)),l=Ea(ei(n.b));return{r:Fi(Xf(i+e*(Ea(ei(t.r))-i))),g:Fi(Xf(o+e*(Ea(ei(t.g))-o))),b:Fi(Xf(l+e*(Ea(ei(t.b))-l))),a:n.a+e*(t.a-n.a)}}function lc(n,t,e){if(n){let i=wg(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Og(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function ES(n,t){return n&&Object.assign(t||{},n)}function Rb(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Fi(n[3]))):(t=ES(n,{r:0,g:0,b:0,a:1}),t.a=Fi(t.a)),t}function MD(n){return n.charAt(0)==="r"?ED(n):_D(n)}class Tl{constructor(t){if(t instanceof Tl)return t;const e=typeof t;let i;e==="object"?i=Rb(t):e==="string"&&(i=rD(t)||SD(t)||MD(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=ES(this._rgb);return t&&(t.a=ei(t.a)),t}set rgb(t){this._rgb=Rb(t)}rgbString(){return this._valid?CD(this._rgb):void 0}hexString(){return this._valid?uD(this._rgb):void 0}hslString(){return this._valid?bD(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,o=t.rgb;let l;const c=e===l?.5:e,h=2*c-1,f=i.a-o.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;l=1-g,i.r=255&g*i.r+l*o.r+.5,i.g=255&g*i.g+l*o.g+.5,i.b=255&g*i.b+l*o.b+.5,i.a=c*i.a+(1-c)*o.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=TD(this._rgb,t._rgb,e)),this}clone(){return new Tl(this.rgb)}alpha(t){return this._rgb.a=Fi(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Ul(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return lc(this._rgb,2,t),this}darken(t){return lc(this._rgb,2,-t),this}saturate(t){return lc(this._rgb,1,t),this}desaturate(t){return lc(this._rgb,1,-t),this}rotate(t){return yD(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function $n(){}const AD=(()=>{let n=0;return()=>n++})();function St(n){return n==null}function qt(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function xt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ee(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ke(n,t){return ee(n)?n:t}function ft(n,t){return typeof n>"u"?t:n}const wD=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,CS=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Ht(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Dt(n,t,e,i){let o,l,c;if(qt(n))for(l=n.length,o=0;o<l;o++)t.call(e,n[o],o);else if(xt(n))for(c=Object.keys(n),l=c.length,o=0;o<l;o++)t.call(e,n[c[o]],c[o])}function Wc(n,t){let e,i,o,l;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(o=n[e],l=t[e],o.datasetIndex!==l.datasetIndex||o.index!==l.index)return!1;return!0}function Xc(n){if(qt(n))return n.map(Xc);if(xt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let o=0;for(;o<i;++o)t[e[o]]=Xc(n[e[o]]);return t}return n}function TS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function DD(n,t,e,i){if(!TS(n))return;const o=t[n],l=e[n];xt(o)&&xt(l)?Ml(o,l,i):t[n]=Xc(l)}function Ml(n,t,e){const i=qt(t)?t:[t],o=i.length;if(!xt(n))return n;e=e||{};const l=e.merger||DD;let c;for(let h=0;h<o;++h){if(c=i[h],!xt(c))continue;const f=Object.keys(c);for(let g=0,m=f.length;g<m;++g)l(f[g],n,c,e)}return n}function ul(n,t){return Ml(n,t,{merger:OD})}function OD(n,t,e){if(!TS(n))return;const i=t[n],o=e[n];xt(i)&&xt(o)?ul(i,o):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Xc(o))}const Nb={"":n=>n,x:n=>n.x,y:n=>n.y};function RD(n){const t=n.split("."),e=[];let i="";for(const o of t)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function ND(n){const t=RD(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function qi(n,t){return(Nb[t]||(Nb[t]=ND(t)))(n)}function Rg(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Al=n=>typeof n<"u",Gi=n=>typeof n=="function",kb=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function kD(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const jt=Math.PI,Ft=2*jt,LD=Ft+jt,Qc=Number.POSITIVE_INFINITY,zD=jt/180,ie=jt/2,_s=jt/4,Lb=jt*2/3,Ii=Math.log10,kn=Math.sign;function hl(n,t,e){return Math.abs(n-t)<e}function zb(n){const t=Math.round(n);n=hl(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Ii(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function ID(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((o,l)=>o-l).pop(),t}function BD(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Ba(n){return!BD(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function HD(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function MS(n,t,e){let i,o,l;for(i=0,o=n.length;i<o;i++)l=n[i][e],isNaN(l)||(t.min=Math.min(t.min,l),t.max=Math.max(t.max,l))}function bn(n){return n*(jt/180)}function Ng(n){return n*(180/jt)}function Ib(n){if(!ee(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function AS(n,t){const e=t.x-n.x,i=t.y-n.y,o=Math.sqrt(e*e+i*i);let l=Math.atan2(i,e);return l<-.5*jt&&(l+=Ft),{angle:l,distance:o}}function Dd(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function PD(n,t){return(n-t+LD)%Ft-jt}function Ze(n){return(n%Ft+Ft)%Ft}function wl(n,t,e,i){const o=Ze(n),l=Ze(t),c=Ze(e),h=Ze(l-o),f=Ze(c-o),g=Ze(o-l),m=Ze(o-c);return o===l||o===c||i&&l===c||h>f&&g<m}function ve(n,t,e){return Math.max(t,Math.min(e,n))}function UD(n){return ve(n,-32768,32767)}function ii(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function kg(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,o=0,l;for(;i-o>1;)l=o+i>>1,e(l)?o=l:i=l;return{lo:o,hi:i}}const si=(n,t,e,i)=>kg(n,e,i?o=>{const l=n[o][t];return l<e||l===e&&n[o+1][t]===e}:o=>n[o][t]<e),VD=(n,t,e)=>kg(n,e,i=>n[i][t]>=e);function FD(n,t,e){let i=0,o=n.length;for(;i<o&&n[i]<t;)i++;for(;o>i&&n[o-1]>e;)o--;return i>0||o<n.length?n.slice(i,o):n}const wS=["push","pop","shift","splice","unshift"];function jD(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),wS.forEach(e=>{const i="_onData"+Rg(e),o=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...l){const c=o.apply(this,l);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...l)}),c}})})}function Bb(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,o=i.indexOf(t);o!==-1&&i.splice(o,1),!(i.length>0)&&(wS.forEach(l=>{delete n[l]}),delete n._chartjs)}function DS(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const OS=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function RS(n,t){let e=[],i=!1;return function(...o){e=o,i||(i=!0,OS.call(window,()=>{i=!1,n.apply(t,e)}))}}function YD(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Lg=n=>n==="start"?"left":n==="end"?"right":"center",De=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,qD=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function NS(n,t,e){const i=t.length;let o=0,l=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,m=c.axis,{min:_,max:y,minDefined:v,maxDefined:S}=c.getUserBounds();if(v){if(o=Math.min(si(f,m,_).lo,e?i:si(t,m,c.getPixelForValue(_)).lo),g){const E=f.slice(0,o+1).reverse().findIndex(T=>!St(T[h.axis]));o-=Math.max(0,E)}o=ve(o,0,i-1)}if(S){let E=Math.max(si(f,c.axis,y,!0).hi+1,e?0:si(t,m,c.getPixelForValue(y),!0).hi+1);if(g){const T=f.slice(E-1).findIndex(D=>!St(D[h.axis]));E+=Math.max(0,T)}l=ve(E,o,i)-o}else l=i-o}return{start:o,count:l}}function kS(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,o={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=o,!0;const l=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,o),l}const rc=n=>n===0||n===1,Hb=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ft/e)),Pb=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ft/e)+1,fl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ie)+1,easeOutSine:n=>Math.sin(n*ie),easeInOutSine:n=>-.5*(Math.cos(jt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>rc(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>rc(n)?n:Hb(n,.075,.3),easeOutElastic:n=>rc(n)?n:Pb(n,.075,.3),easeInOutElastic(n){return rc(n)?n:n<.5?.5*Hb(n*2,.1125,.45):.5+.5*Pb(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-fl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?fl.easeInBounce(n*2)*.5:fl.easeOutBounce(n*2-1)*.5+.5};function zg(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ub(n){return zg(n)?n:new Tl(n)}function Qf(n){return zg(n)?n:new Tl(n).saturate(.5).darken(.1).hexString()}const GD=["x","y","borderWidth","radius","tension"],WD=["color","borderColor","backgroundColor"];function XD(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:WD},numbers:{type:"number",properties:GD}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function QD(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Vb=new Map;function KD(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Vb.get(e);return i||(i=new Intl.NumberFormat(n,t),Vb.set(e,i)),i}function Vl(n,t,e){return KD(t,e).format(n)}const LS={values(n){return qt(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let o,l=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(o="scientific"),l=ZD(n,e)}const c=Ii(Math.abs(l)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:o,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Vl(n,i,f)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(Ii(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?LS.numeric.call(this,n,t,e):""}};function ZD(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var gu={formatters:LS};function $D(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:gu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ks=Object.create(null),Od=Object.create(null);function dl(n,t){if(!t)return n;const e=t.split(".");for(let i=0,o=e.length;i<o;++i){const l=e[i];n=n[l]||(n[l]=Object.create(null))}return n}function Kf(n,t,e){return typeof t=="string"?Ml(dl(n,t),e):Ml(dl(n,""),t)}class JD{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>Qf(o.backgroundColor),this.hoverBorderColor=(i,o)=>Qf(o.borderColor),this.hoverColor=(i,o)=>Qf(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Kf(this,t,e)}get(t){return dl(this,t)}describe(t,e){return Kf(Od,t,e)}override(t,e){return Kf(ks,t,e)}route(t,e,i,o){const l=dl(this,t),c=dl(this,i),h="_"+e;Object.defineProperties(l,{[h]:{value:l[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=c[o];return xt(f)?Object.assign({},g,f):ft(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Gt=new JD({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[XD,QD,$D]);function tO(n){return!n||St(n.size)||St(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Kc(n,t,e,i,o){let l=t[o];return l||(l=t[o]=n.measureText(o).width,e.push(o)),l>i&&(i=l),i}function eO(n,t,e,i){i=i||{};let o=i.data=i.data||{},l=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(o=i.data={},l=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let c=0;const h=e.length;let f,g,m,_,y;for(f=0;f<h;f++)if(_=e[f],_!=null&&!qt(_))c=Kc(n,o,l,c,_);else if(qt(_))for(g=0,m=_.length;g<m;g++)y=_[g],y!=null&&!qt(y)&&(c=Kc(n,o,l,c,y));n.restore();const v=l.length/2;if(v>e.length){for(f=0;f<v;f++)delete o[l[f]];l.splice(0,v)}return c}function ys(n,t,e){const i=n.currentDevicePixelRatio,o=e!==0?Math.max(e/2,.5):0;return Math.round((t-o)*i)/i+o}function Fb(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Rd(n,t,e,i){zS(n,t,e,i,null)}function zS(n,t,e,i,o){let l,c,h,f,g,m,_,y;const v=t.pointStyle,S=t.rotation,E=t.radius;let T=(S||0)*zD;if(v&&typeof v=="object"&&(l=v.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(T),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(E)||E<=0)){switch(n.beginPath(),v){default:o?n.ellipse(e,i,o/2,E,0,0,Ft):n.arc(e,i,E,0,Ft),n.closePath();break;case"triangle":m=o?o/2:E,n.moveTo(e+Math.sin(T)*m,i-Math.cos(T)*E),T+=Lb,n.lineTo(e+Math.sin(T)*m,i-Math.cos(T)*E),T+=Lb,n.lineTo(e+Math.sin(T)*m,i-Math.cos(T)*E),n.closePath();break;case"rectRounded":g=E*.516,f=E-g,c=Math.cos(T+_s)*f,_=Math.cos(T+_s)*(o?o/2-g:f),h=Math.sin(T+_s)*f,y=Math.sin(T+_s)*(o?o/2-g:f),n.arc(e-_,i-h,g,T-jt,T-ie),n.arc(e+y,i-c,g,T-ie,T),n.arc(e+_,i+h,g,T,T+ie),n.arc(e-y,i+c,g,T+ie,T+jt),n.closePath();break;case"rect":if(!S){f=Math.SQRT1_2*E,m=o?o/2:f,n.rect(e-m,i-f,2*m,2*f);break}T+=_s;case"rectRot":_=Math.cos(T)*(o?o/2:E),c=Math.cos(T)*E,h=Math.sin(T)*E,y=Math.sin(T)*(o?o/2:E),n.moveTo(e-_,i-h),n.lineTo(e+y,i-c),n.lineTo(e+_,i+h),n.lineTo(e-y,i+c),n.closePath();break;case"crossRot":T+=_s;case"cross":_=Math.cos(T)*(o?o/2:E),c=Math.cos(T)*E,h=Math.sin(T)*E,y=Math.sin(T)*(o?o/2:E),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c);break;case"star":_=Math.cos(T)*(o?o/2:E),c=Math.cos(T)*E,h=Math.sin(T)*E,y=Math.sin(T)*(o?o/2:E),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c),T+=_s,_=Math.cos(T)*(o?o/2:E),c=Math.cos(T)*E,h=Math.sin(T)*E,y=Math.sin(T)*(o?o/2:E),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c);break;case"line":c=o?o/2:Math.cos(T)*E,h=Math.sin(T)*E,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(T)*(o?o/2:E),i+Math.sin(T)*E);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function ai(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function pu(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function mu(n){n.restore()}function nO(n,t,e,i,o){if(!t)return n.lineTo(e.x,e.y);if(o==="middle"){const l=(t.x+e.x)/2;n.lineTo(l,t.y),n.lineTo(l,e.y)}else o==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function iO(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function sO(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),St(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function aO(n,t,e,i,o){if(o.strikethrough||o.underline){const l=n.measureText(i),c=t-l.actualBoundingBoxLeft,h=t+l.actualBoundingBoxRight,f=e-l.actualBoundingBoxAscent,g=e+l.actualBoundingBoxDescent,m=o.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(c,m),n.lineTo(h,m),n.stroke()}}function oO(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Ls(n,t,e,i,o,l={}){const c=qt(t)?t:[t],h=l.strokeWidth>0&&l.strokeColor!=="";let f,g;for(n.save(),n.font=o.string,sO(n,l),f=0;f<c.length;++f)g=c[f],l.backdrop&&oO(n,l.backdrop),h&&(l.strokeColor&&(n.strokeStyle=l.strokeColor),St(l.strokeWidth)||(n.lineWidth=l.strokeWidth),n.strokeText(g,e,i,l.maxWidth)),n.fillText(g,e,i,l.maxWidth),aO(n,e,i,g,l),i+=Number(o.lineHeight);n.restore()}function Dl(n,t){const{x:e,y:i,w:o,h:l,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*jt,jt,!0),n.lineTo(e,i+l-c.bottomLeft),n.arc(e+c.bottomLeft,i+l-c.bottomLeft,c.bottomLeft,jt,ie,!0),n.lineTo(e+o-c.bottomRight,i+l),n.arc(e+o-c.bottomRight,i+l-c.bottomRight,c.bottomRight,ie,0,!0),n.lineTo(e+o,i+c.topRight),n.arc(e+o-c.topRight,i+c.topRight,c.topRight,0,-ie,!0),n.lineTo(e+c.topLeft,i)}const lO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,rO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function cO(n,t){const e=(""+n).match(lO);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const uO=n=>+n||0;function Ig(n,t){const e={},i=xt(t),o=i?Object.keys(t):t,l=xt(n)?i?c=>ft(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of o)e[c]=uO(l(c));return e}function IS(n){return Ig(n,{top:"y",right:"x",bottom:"y",left:"x"})}function As(n){return Ig(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Re(n){const t=IS(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ue(n,t){n=n||{},t=t||Gt.font;let e=ft(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=ft(n.style,t.style);i&&!(""+i).match(rO)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:ft(n.family,t.family),lineHeight:cO(ft(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:ft(n.weight,t.weight),string:""};return o.string=tO(o),o}function tl(n,t,e,i){let o,l,c;for(o=0,l=n.length;o<l;++o)if(c=n[o],c!==void 0&&c!==void 0)return c}function hO(n,t,e){const{min:i,max:o}=n,l=CS(t,(o-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(l)),max:c(o,l)}}function Xi(n,t){return Object.assign(Object.create(n),t)}function Bg(n,t=[""],e,i,o=()=>n[0]){const l=e||n;typeof i>"u"&&(i=US("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:l,_fallback:i,_getTarget:o,override:h=>Bg([h,...n],t,l,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return HS(h,f,()=>bO(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return Yb(h).includes(f)},ownKeys(h){return Yb(h)},set(h,f,g){const m=h._storage||(h._storage=o());return h[f]=m[f]=g,delete h._keys,!0}})}function Ha(n,t,e,i){const o={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:BS(n,i),setContext:l=>Ha(n,l,e,i),override:l=>Ha(n.override(l),t,e,i)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete n[c],!0},get(l,c,h){return HS(l,c,()=>dO(l,c,h))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(l,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(l,c,h){return n[c]=h,delete l[c],!0}})}function BS(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:o=t.allKeys}=n;return{allKeys:o,scriptable:e,indexable:i,isScriptable:Gi(e)?e:()=>e,isIndexable:Gi(i)?i:()=>i}}const fO=(n,t)=>n?n+Rg(t):t,Hg=(n,t)=>xt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function HS(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function dO(n,t,e){const{_proxy:i,_context:o,_subProxy:l,_descriptors:c}=n;let h=i[t];return Gi(h)&&c.isScriptable(t)&&(h=gO(t,h,n,e)),qt(h)&&h.length&&(h=pO(t,h,n,c.isIndexable)),Hg(t,h)&&(h=Ha(h,o,l&&l[t],c)),h}function gO(n,t,e,i){const{_proxy:o,_context:l,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(l,c||i);return h.delete(n),Hg(n,f)&&(f=Pg(o._scopes,o,n,f)),f}function pO(n,t,e,i){const{_proxy:o,_context:l,_subProxy:c,_descriptors:h}=e;if(typeof l.index<"u"&&i(n))return t[l.index%t.length];if(xt(t[0])){const f=t,g=o._scopes.filter(m=>m!==f);t=[];for(const m of f){const _=Pg(g,o,n,m);t.push(Ha(_,l,c&&c[n],h))}}return t}function PS(n,t,e){return Gi(n)?n(t,e):n}const mO=(n,t)=>n===!0?t:typeof n=="string"?qi(t,n):void 0;function _O(n,t,e,i,o){for(const l of t){const c=mO(e,l);if(c){n.add(c);const h=PS(c._fallback,e,o);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Pg(n,t,e,i){const o=t._rootScopes,l=PS(t._fallback,e,i),c=[...n,...o],h=new Set;h.add(i);let f=jb(h,c,e,l||e,i);return f===null||typeof l<"u"&&l!==e&&(f=jb(h,c,l,f,i),f===null)?!1:Bg(Array.from(h),[""],o,l,()=>yO(t,e,i))}function jb(n,t,e,i,o){for(;e;)e=_O(n,t,e,i,o);return e}function yO(n,t,e){const i=n._getTarget();t in i||(i[t]={});const o=i[t];return qt(o)&&xt(e)?e:o||{}}function bO(n,t,e,i){let o;for(const l of t)if(o=US(fO(l,n),e),typeof o<"u")return Hg(n,o)?Pg(e,i,n,o):o}function US(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Yb(n){let t=n._keys;return t||(t=n._keys=vO(n._scopes)),t}function vO(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(o=>!o.startsWith("_")))t.add(i);return Array.from(t)}function VS(n,t,e,i){const{iScale:o}=n,{key:l="r"}=this._parsing,c=new Array(i);let h,f,g,m;for(h=0,f=i;h<f;++h)g=h+e,m=t[g],c[h]={r:o.parse(qi(m,l),g)};return c}const SO=Number.EPSILON||1e-14,Pa=(n,t)=>t<n.length&&!n[t].skip&&n[t],FS=n=>n==="x"?"y":"x";function xO(n,t,e,i){const o=n.skip?t:n,l=t,c=e.skip?t:e,h=Dd(l,o),f=Dd(c,l);let g=h/(h+f),m=f/(h+f);g=isNaN(g)?0:g,m=isNaN(m)?0:m;const _=i*g,y=i*m;return{previous:{x:l.x-_*(c.x-o.x),y:l.y-_*(c.y-o.y)},next:{x:l.x+y*(c.x-o.x),y:l.y+y*(c.y-o.y)}}}function EO(n,t,e){const i=n.length;let o,l,c,h,f,g=Pa(n,0);for(let m=0;m<i-1;++m)if(f=g,g=Pa(n,m+1),!(!f||!g)){if(hl(t[m],0,SO)){e[m]=e[m+1]=0;continue}o=e[m]/t[m],l=e[m+1]/t[m],h=Math.pow(o,2)+Math.pow(l,2),!(h<=9)&&(c=3/Math.sqrt(h),e[m]=o*c*t[m],e[m+1]=l*c*t[m])}}function CO(n,t,e="x"){const i=FS(e),o=n.length;let l,c,h,f=Pa(n,0);for(let g=0;g<o;++g){if(c=h,h=f,f=Pa(n,g+1),!h)continue;const m=h[e],_=h[i];c&&(l=(m-c[e])/3,h[`cp1${e}`]=m-l,h[`cp1${i}`]=_-l*t[g]),f&&(l=(f[e]-m)/3,h[`cp2${e}`]=m+l,h[`cp2${i}`]=_+l*t[g])}}function TO(n,t="x"){const e=FS(t),i=n.length,o=Array(i).fill(0),l=Array(i);let c,h,f,g=Pa(n,0);for(c=0;c<i;++c)if(h=f,f=g,g=Pa(n,c+1),!!f){if(g){const m=g[t]-f[t];o[c]=m!==0?(g[e]-f[e])/m:0}l[c]=h?g?kn(o[c-1])!==kn(o[c])?0:(o[c-1]+o[c])/2:o[c-1]:o[c]}EO(n,o,l),CO(n,l,t)}function cc(n,t,e){return Math.max(Math.min(n,e),t)}function MO(n,t){let e,i,o,l,c,h=ai(n[0],t);for(e=0,i=n.length;e<i;++e)c=l,l=h,h=e<i-1&&ai(n[e+1],t),l&&(o=n[e],c&&(o.cp1x=cc(o.cp1x,t.left,t.right),o.cp1y=cc(o.cp1y,t.top,t.bottom)),h&&(o.cp2x=cc(o.cp2x,t.left,t.right),o.cp2y=cc(o.cp2y,t.top,t.bottom)))}function AO(n,t,e,i,o){let l,c,h,f;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")TO(n,o);else{let g=i?n[n.length-1]:n[0];for(l=0,c=n.length;l<c;++l)h=n[l],f=xO(g,h,n[Math.min(l+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,g=h}t.capBezierPoints&&MO(n,e)}function Ug(){return typeof window<"u"&&typeof document<"u"}function Vg(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Zc(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const _u=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function wO(n,t){return _u(n).getPropertyValue(t)}const DO=["top","right","bottom","left"];function ws(n,t,e){const i={};e=e?"-"+e:"";for(let o=0;o<4;o++){const l=DO[o];i[l]=parseFloat(n[t+"-"+l+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const OO=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function RO(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:o,offsetY:l}=i;let c=!1,h,f;if(OO(o,l,n.target))h=o,f=l;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,c=!0}return{x:h,y:f,box:c}}function Es(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,o=_u(e),l=o.boxSizing==="border-box",c=ws(o,"padding"),h=ws(o,"border","width"),{x:f,y:g,box:m}=RO(n,e),_=c.left+(m&&h.left),y=c.top+(m&&h.top);let{width:v,height:S}=t;return l&&(v-=c.width+h.width,S-=c.height+h.height),{x:Math.round((f-_)/v*e.width/i),y:Math.round((g-y)/S*e.height/i)}}function NO(n,t,e){let i,o;if(t===void 0||e===void 0){const l=n&&Vg(n);if(!l)t=n.clientWidth,e=n.clientHeight;else{const c=l.getBoundingClientRect(),h=_u(l),f=ws(h,"border","width"),g=ws(h,"padding");t=c.width-g.width-f.width,e=c.height-g.height-f.height,i=Zc(h.maxWidth,l,"clientWidth"),o=Zc(h.maxHeight,l,"clientHeight")}}return{width:t,height:e,maxWidth:i||Qc,maxHeight:o||Qc}}const uc=n=>Math.round(n*10)/10;function kO(n,t,e,i){const o=_u(n),l=ws(o,"margin"),c=Zc(o.maxWidth,n,"clientWidth")||Qc,h=Zc(o.maxHeight,n,"clientHeight")||Qc,f=NO(n,t,e);let{width:g,height:m}=f;if(o.boxSizing==="content-box"){const y=ws(o,"border","width"),v=ws(o,"padding");g-=v.width+y.width,m-=v.height+y.height}return g=Math.max(0,g-l.width),m=Math.max(0,i?g/i:m-l.height),g=uc(Math.min(g,c,f.maxWidth)),m=uc(Math.min(m,h,f.maxHeight)),g&&!m&&(m=uc(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&m>f.height&&(m=f.height,g=uc(Math.floor(m*i))),{width:g,height:m}}function qb(n,t,e){const i=t||1,o=Math.floor(n.height*i),l=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==o||c.width!==l?(n.currentDevicePixelRatio=i,c.height=o,c.width=l,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const LO=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Ug()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Gb(n,t){const e=wO(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Cs(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function zO(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function IO(n,t,e,i){const o={x:n.cp2x,y:n.cp2y},l={x:t.cp1x,y:t.cp1y},c=Cs(n,o,e),h=Cs(o,l,e),f=Cs(l,t,e),g=Cs(c,h,e),m=Cs(h,f,e);return Cs(g,m,e)}const BO=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},HO=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Oa(n,t,e){return n?BO(t,e):HO()}function jS(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function YS(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function qS(n){return n==="angle"?{between:wl,compare:PD,normalize:Ze}:{between:ii,compare:(t,e)=>t-e,normalize:t=>t}}function Wb({start:n,end:t,count:e,loop:i,style:o}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:o}}function PO(n,t,e){const{property:i,start:o,end:l}=e,{between:c,normalize:h}=qS(i),f=t.length;let{start:g,end:m,loop:_}=n,y,v;if(_){for(g+=f,m+=f,y=0,v=f;y<v&&c(h(t[g%f][i]),o,l);++y)g--,m--;g%=f,m%=f}return m<g&&(m+=f),{start:g,end:m,loop:_,style:n.style}}function GS(n,t,e){if(!e)return[n];const{property:i,start:o,end:l}=e,c=t.length,{compare:h,between:f,normalize:g}=qS(i),{start:m,end:_,loop:y,style:v}=PO(n,t,e),S=[];let E=!1,T=null,D,N,H;const P=()=>f(o,H,D)&&h(o,H)!==0,L=()=>h(l,D)===0||f(l,H,D),Y=()=>E||P(),q=()=>!E||L();for(let W=m,V=m;W<=_;++W)N=t[W%c],!N.skip&&(D=g(N[i]),D!==H&&(E=f(D,o,l),T===null&&Y()&&(T=h(D,o)===0?W:V),T!==null&&q()&&(S.push(Wb({start:T,end:W,loop:y,count:c,style:v})),T=null),V=W,H=D));return T!==null&&S.push(Wb({start:T,end:_,loop:y,count:c,style:v})),S}function WS(n,t){const e=[],i=n.segments;for(let o=0;o<i.length;o++){const l=GS(i[o],n.points,t);l.length&&e.push(...l)}return e}function UO(n,t,e,i){let o=0,l=t-1;if(e&&!i)for(;o<t&&!n[o].skip;)o++;for(;o<t&&n[o].skip;)o++;for(o%=t,e&&(l+=o);l>o&&n[l%t].skip;)l--;return l%=t,{start:o,end:l}}function VO(n,t,e,i){const o=n.length,l=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const g=n[f%o];g.skip||g.stop?h.skip||(i=!1,l.push({start:t%o,end:(f-1)%o,loop:i}),t=c=g.stop?f:null):(c=f,h.skip&&(t=f)),h=g}return c!==null&&l.push({start:t%o,end:c%o,loop:i}),l}function FO(n,t){const e=n.points,i=n.options.spanGaps,o=e.length;if(!o)return[];const l=!!n._loop,{start:c,end:h}=UO(e,o,l,i);if(i===!0)return Xb(n,[{start:c,end:h,loop:l}],e,t);const f=h<c?h+o:h,g=!!n._fullLoop&&c===0&&h===o-1;return Xb(n,VO(e,c,f,g),e,t)}function Xb(n,t,e,i){return!i||!i.setContext||!e?t:jO(n,t,e,i)}function jO(n,t,e,i){const o=n._chart.getContext(),l=Qb(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,g=[];let m=l,_=t[0].start,y=_;function v(S,E,T,D){const N=h?-1:1;if(S!==E){for(S+=f;e[S%f].skip;)S-=N;for(;e[E%f].skip;)E+=N;S%f!==E%f&&(g.push({start:S%f,end:E%f,loop:T,style:D}),m=D,_=E%f)}}for(const S of t){_=h?_:S.start;let E=e[_%f],T;for(y=_+1;y<=S.end;y++){const D=e[y%f];T=Qb(i.setContext(Xi(o,{type:"segment",p0:E,p1:D,p0DataIndex:(y-1)%f,p1DataIndex:y%f,datasetIndex:c}))),YO(T,m)&&v(_,y-1,S.loop,m),E=D,m=T}_<y-1&&v(_,y-1,S.loop,m)}return g}function Qb(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function YO(n,t){if(!t)return!1;const e=[],i=function(o,l){return zg(l)?(e.includes(l)||e.push(l),e.indexOf(l)):l};return JSON.stringify(n,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class qO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,o){const l=e.listeners[o],c=e.duration;l.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=OS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const l=i.items;let c=l.length-1,h=!1,f;for(;c>=0;--c)f=l[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(l[c]=l[l.length-1],l.pop());h&&(o.draw(),this._notify(o,i,t,"progress")),l.length||(i.running=!1,this._notify(o,i,t,"complete"),i.initial=!1),e+=l.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Jn=new qO;const Kb="transparent",GO={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Ub(n||Kb),o=i.valid&&Ub(t||Kb);return o&&o.valid?o.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class WO{constructor(t,e,i,o){const l=e[i];o=tl([t.to,o,l,t.from]);const c=tl([t.from,l,o]);this._active=!0,this._fn=t.fn||GO[t.type||typeof c],this._easing=fl[t.easing]||fl.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=o,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const o=this._target[this._prop],l=i-this._start,c=this._duration-l;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=l,this._loop=!!t.loop,this._to=tl([t.to,e,o,t.from]),this._from=tl([t.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,o=this._prop,l=this._from,c=this._loop,h=this._to;let f;if(this._active=l!==h&&(c||e<i),!this._active){this._target[o]=h,this._notify(!0);return}if(e<0){this._target[o]=l;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[o]=this._fn(l,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][e]()}}class XS{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!xt(t))return;const e=Object.keys(Gt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const l=t[o];if(!xt(l))return;const c={};for(const h of e)c[h]=l[h];(qt(l.properties)&&l.properties||[o]).forEach(h=>{(h===o||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,o=QO(t,i);if(!o)return[];const l=this._createAnimations(o,i);return i.$shared&&XO(t.options.$animations,i).then(()=>{t.options=i},()=>{}),l}_createAnimations(t,e){const i=this._properties,o=[],l=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if(g.charAt(0)==="$")continue;if(g==="options"){o.push(...this._animateOptions(t,e));continue}const m=e[g];let _=l[g];const y=i.get(g);if(_)if(y&&_.active()){_.update(y,m,h);continue}else _.cancel();if(!y||!y.duration){t[g]=m;continue}l[g]=_=new WO(y,t,g,m),o.push(_)}return o}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Jn.add(this._chart,i),!0}}function XO(n,t){const e=[],i=Object.keys(t);for(let o=0;o<i.length;o++){const l=n[i[o]];l&&l.active()&&e.push(l.wait())}return Promise.all(e)}function QO(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Zb(n,t){const e=n&&n.options||{},i=e.reverse,o=e.min===void 0?t:0,l=e.max===void 0?t:0;return{start:i?l:o,end:i?o:l}}function KO(n,t,e){if(e===!1)return!1;const i=Zb(n,e),o=Zb(t,e);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function ZO(n){let t,e,i,o;return xt(n)?(t=n.top,e=n.right,i=n.bottom,o=n.left):t=e=i=o=n,{top:t,right:e,bottom:i,left:o,disabled:n===!1}}function QS(n,t){const e=[],i=n._getSortedDatasetMetas(t);let o,l;for(o=0,l=i.length;o<l;++o)e.push(i[o].index);return e}function $b(n,t,e,i={}){const o=n.keys,l=i.mode==="single";let c,h,f,g;if(t===null)return;let m=!1;for(c=0,h=o.length;c<h;++c){if(f=+o[c],f===e){if(m=!0,i.all)continue;break}g=n.values[f],ee(g)&&(l||t===0||kn(t)===kn(g))&&(t+=g)}return!m&&!i.all?0:t}function $O(n,t){const{iScale:e,vScale:i}=t,o=e.axis==="x"?"x":"y",l=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,g,m;for(f=0,g=c.length;f<g;++f)m=c[f],h[f]={[o]:m,[l]:n[m]};return h}function Zf(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function JO(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function tR(n){const{min:t,max:e,minDefined:i,maxDefined:o}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:o?e:Number.POSITIVE_INFINITY}}function eR(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Jb(n,t,e,i){for(const o of t.getMatchingVisibleMetas(i).reverse()){const l=n[o.index];if(e&&l>0||!e&&l<0)return o.index}return null}function tv(n,t){const{chart:e,_cachedMeta:i}=n,o=e._stacks||(e._stacks={}),{iScale:l,vScale:c,index:h}=i,f=l.axis,g=c.axis,m=JO(l,c,i),_=t.length;let y;for(let v=0;v<_;++v){const S=t[v],{[f]:E,[g]:T}=S,D=S._stacks||(S._stacks={});y=D[g]=eR(o,m,E),y[h]=T,y._top=Jb(y,c,!0,i.type),y._bottom=Jb(y,c,!1,i.type);const N=y._visualValues||(y._visualValues={});N[h]=T}}function $f(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function nR(n,t){return Xi(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function iR(n,t,e){return Xi(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Xo(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const o of t){const l=o._stacks;if(!l||l[i]===void 0||l[i][e]===void 0)return;delete l[i][e],l[i]._visualValues!==void 0&&l[i]._visualValues[e]!==void 0&&delete l[i]._visualValues[e]}}}const Jf=n=>n==="reset"||n==="none",ev=(n,t)=>t?n:Object.assign({},n),sR=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:QS(e,!0),values:null};class Sn{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Zf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Xo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),o=(_,y,v,S)=>_==="x"?y:_==="r"?S:v,l=e.xAxisID=ft(i.xAxisID,$f(t,"x")),c=e.yAxisID=ft(i.yAxisID,$f(t,"y")),h=e.rAxisID=ft(i.rAxisID,$f(t,"r")),f=e.indexAxis,g=e.iAxisID=o(f,l,c,h),m=e.vAxisID=o(f,c,l,h);e.xScale=this.getScaleForId(l),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Bb(this._data,this),t._stacked&&Xo(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(xt(e)){const o=this._cachedMeta;this._data=$O(e,o)}else if(i!==e){if(i){Bb(i,this);const o=this._cachedMeta;Xo(o),o._parsed=[]}e&&Object.isExtensible(e)&&jD(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const l=e._stacked;e._stacked=Zf(e.vScale,e),e.stack!==i.stack&&(o=!0,Xo(e),e.stack=i.stack),this._resyncElements(t),(o||l!==e._stacked)&&(tv(this,e._parsed),e._stacked=Zf(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:o}=this,{iScale:l,_stacked:c}=i,h=l.axis;let f=t===0&&e===o.length?!0:i._sorted,g=t>0&&i._parsed[t-1],m,_,y;if(this._parsing===!1)i._parsed=o,i._sorted=!0,y=o;else{qt(o[t])?y=this.parseArrayData(i,o,t,e):xt(o[t])?y=this.parseObjectData(i,o,t,e):y=this.parsePrimitiveData(i,o,t,e);const v=()=>_[h]===null||g&&_[h]<g[h];for(m=0;m<e;++m)i._parsed[m+t]=_=y[m],f&&(v()&&(f=!1),g=_);i._sorted=f}c&&tv(this,y)}parsePrimitiveData(t,e,i,o){const{iScale:l,vScale:c}=t,h=l.axis,f=c.axis,g=l.getLabels(),m=l===c,_=new Array(o);let y,v,S;for(y=0,v=o;y<v;++y)S=y+i,_[y]={[h]:m||l.parse(g[S],S),[f]:c.parse(e[S],S)};return _}parseArrayData(t,e,i,o){const{xScale:l,yScale:c}=t,h=new Array(o);let f,g,m,_;for(f=0,g=o;f<g;++f)m=f+i,_=e[m],h[f]={x:l.parse(_[0],m),y:c.parse(_[1],m)};return h}parseObjectData(t,e,i,o){const{xScale:l,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(o);let m,_,y,v;for(m=0,_=o;m<_;++m)y=m+i,v=e[y],g[m]={x:l.parse(qi(v,h),y),y:c.parse(qi(v,f),y)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const o=this.chart,l=this._cachedMeta,c=e[t.axis],h={keys:QS(o,!0),values:e._stacks[t.axis]._visualValues};return $b(h,c,l.index,{mode:i})}updateRangeFromParsed(t,e,i,o){const l=i[e.axis];let c=l===null?NaN:l;const h=o&&i._stacks[e.axis];o&&h&&(o.values=h,c=$b(o,l,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,o=i._parsed,l=i._sorted&&t===i.iScale,c=o.length,h=this._getOtherScale(t),f=sR(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=tR(h);let y,v;function S(){v=o[y];const E=v[h.axis];return!ee(v[t.axis])||m>E||_<E}for(y=0;y<c&&!(!S()&&(this.updateRangeFromParsed(g,t,v,f),l));++y);if(l){for(y=c-1;y>=0;--y)if(!S()){this.updateRangeFromParsed(g,t,v,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let o,l,c;for(o=0,l=e.length;o<l;++o)c=e[o][t.axis],ee(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,o=e.vScale,l=this.getParsed(t);return{label:i?""+i.getLabelForValue(l[i.axis]):"",value:o?""+o.getLabelForValue(l[o.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=ZO(ft(this.options.clip,KO(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,o=i.data||[],l=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||o.length-h,g=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(t,l,h,f),m=h;m<h+f;++m){const _=o[m];_.hidden||(_.active&&g?c.push(_):_.draw(t,l))}for(m=0;m<c.length;++m)c[m].draw(t,l)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const o=this.getDataset();let l;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];l=c.$context||(c.$context=iR(this.getContext(),t,c)),l.parsed=this.getParsed(t),l.raw=o.data[t],l.index=l.dataIndex=t}else l=this.$context||(this.$context=nR(this.chart.getContext(),this.index)),l.dataset=o,l.index=l.datasetIndex=this.index;return l.active=!!e,l.mode=i,l}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const o=e==="active",l=this._cachedDataOpts,c=t+"-"+e,h=l[c],f=this.enableOptionSharing&&Al(i);if(h)return ev(h,f);const g=this.chart.config,m=g.datasetElementScopeKeys(this._type,t),_=o?[`${t}Hover`,"hover",t,""]:[t,""],y=g.getOptionScopes(this.getDataset(),m),v=Object.keys(Gt.elements[t]),S=()=>this.getContext(i,o,e),E=g.resolveNamedOptions(y,v,S,_);return E.$shared&&(E.$shared=f,l[c]=Object.freeze(ev(E,f))),E}_resolveAnimations(t,e,i){const o=this.chart,l=this._cachedDataOpts,c=`animation-${e}`,h=l[c];if(h)return h;let f;if(o.options.animation!==!1){const m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,e),y=m.getOptionScopes(this.getDataset(),_);f=m.createResolver(y,this.getContext(t,i,e))}const g=new XS(o,f&&f.animations);return f&&f._cacheable&&(l[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Jf(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),o=this._sharedOptions,l=this.getSharedOptions(i),c=this.includeOptions(e,l)||l!==o;return this.updateSharedOptions(l,e,i),{sharedOptions:l,includeOptions:c}}updateElement(t,e,i,o){Jf(o)?Object.assign(t,i):this._resolveAnimations(e,o).update(t,i)}updateSharedOptions(t,e,i){t&&!Jf(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,o){t.active=o;const l=this.getStyle(e,o);this._resolveAnimations(e,i,o).update(t,{options:!o&&this.getSharedOptions(l)||l})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const o=i.length,l=e.length,c=Math.min(l,o);c&&this.parse(0,c),l>o?this._insertElements(o,l-o,t):l<o&&this._removeElements(l,o-l)}_insertElements(t,e,i=!0){const o=this._cachedMeta,l=o.data,c=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(f(l),h=t;h<c;++h)l[h]=new this.dataElementType;this._parsing&&f(o._parsed),this.parse(t,e),i&&this.updateElements(l,t,e,"reset")}updateElements(t,e,i,o){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(t,e);i._stacked&&Xo(i,o)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,o]=t;this[e](i,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}X(Sn,"defaults",{}),X(Sn,"datasetElementType",null),X(Sn,"dataElementType",null);function aR(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let o=0,l=e.length;o<l;o++)i=i.concat(e[o].controller.getAllParsedValues(n));n._cache.$bar=DS(i.sort((o,l)=>o-l))}return n._cache.$bar}function oR(n){const t=n.iScale,e=aR(t,n.type);let i=t._length,o,l,c,h;const f=()=>{c===32767||c===-32768||(Al(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(o=0,l=e.length;o<l;++o)c=t.getPixelForValue(e[o]),f();for(h=void 0,o=0,l=t.ticks.length;o<l;++o)c=t.getPixelForTick(o),f();return i}function lR(n,t,e,i){const o=e.barThickness;let l,c;return St(o)?(l=t.min*e.categoryPercentage,c=e.barPercentage):(l=o*i,c=1),{chunk:l/i,ratio:c,start:t.pixels[n]-l/2}}function rR(n,t,e,i){const o=t.pixels,l=o[n];let c=n>0?o[n-1]:null,h=n<o.length-1?o[n+1]:null;const f=e.categoryPercentage;c===null&&(c=l-(h===null?t.end-t.start:h-l)),h===null&&(h=l+l-c);const g=l-(l-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:g}}function cR(n,t,e,i){const o=e.parse(n[0],i),l=e.parse(n[1],i),c=Math.min(o,l),h=Math.max(o,l);let f=c,g=h;Math.abs(c)>Math.abs(h)&&(f=h,g=c),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:o,end:l,min:c,max:h}}function KS(n,t,e,i){return qt(n)?cR(n,t,e,i):t[e.axis]=e.parse(n,i),t}function nv(n,t,e,i){const o=n.iScale,l=n.vScale,c=o.getLabels(),h=o===l,f=[];let g,m,_,y;for(g=e,m=e+i;g<m;++g)y=t[g],_={},_[o.axis]=h||o.parse(c[g],g),f.push(KS(y,_,l,g));return f}function td(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function uR(n,t,e){return n!==0?kn(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function hR(n){let t,e,i,o,l;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(o="end",l="start"):(o="start",l="end"),{start:e,end:i,reverse:t,top:o,bottom:l}}function fR(n,t,e,i){let o=t.borderSkipped;const l={};if(!o){n.borderSkipped=l;return}if(o===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:g,bottom:m}=hR(n);o==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?o=g:(e._bottom||0)===i?o=m:(l[iv(m,c,h,f)]=!0,o=g)),l[iv(o,c,h,f)]=!0,n.borderSkipped=l}function iv(n,t,e,i){return i?(n=dR(n,t,e),n=sv(n,e,t)):n=sv(n,t,e),n}function dR(n,t,e){return n===t?e:n===e?t:n}function sv(n,t,e){return n==="start"?t:n==="end"?e:n}function gR(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class gl extends Sn{parsePrimitiveData(t,e,i,o){return nv(t,e,i,o)}parseArrayData(t,e,i,o){return nv(t,e,i,o)}parseObjectData(t,e,i,o){const{iScale:l,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=l.axis==="x"?h:f,m=c.axis==="x"?h:f,_=[];let y,v,S,E;for(y=i,v=i+o;y<v;++y)E=e[y],S={},S[l.axis]=l.parse(qi(E,g),y),_.push(KS(qi(E,m),S,c,y));return _}updateRangeFromParsed(t,e,i,o){super.updateRangeFromParsed(t,e,i,o);const l=i._custom;l&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,l.min),t.max=Math.max(t.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:o}=e,l=this.getParsed(t),c=l._custom,h=td(c)?"["+c.start+", "+c.end+"]":""+o.getLabelForValue(l[o.axis]);return{label:""+i.getLabelForValue(l[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,o){const l=o==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),g=h.isHorizontal(),m=this._getRuler(),{sharedOptions:_,includeOptions:y}=this._getSharedOptions(e,o);for(let v=e;v<e+i;v++){const S=this.getParsed(v),E=l||St(S[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(v),T=this._calculateBarIndexPixels(v,m),D=(S._stacks||{})[h.axis],N={horizontal:g,base:E.base,enableBorderRadius:!D||td(S._custom)||c===D._top||c===D._bottom,x:g?E.head:T.center,y:g?T.center:E.head,height:g?T.size:Math.abs(E.size),width:g?Math.abs(E.size):T.size};y&&(N.options=_||this.resolveDataElementOptions(v,t[v].active?"active":o));const H=N.options||t[v].options;fR(N,H,D,c),gR(N,H,m.ratio),this.updateElement(t[v],v,N,o)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),l=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],g=m=>{const _=m._parsed.find(v=>v[i.axis]===f),y=_&&_[m.vScale.axis];if(St(y)||isNaN(y))return!0};for(const m of o)if(!(e!==void 0&&g(m))&&((l===!1||c.indexOf(m.stack)===-1||l===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const o=this._getStacks(t,i),l=e!==void 0?o.indexOf(e):-1;return l===-1?o.length-1:l}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,o=[];let l,c;for(l=0,c=e.data.length;l<c;++l)o.push(i.getPixelForValue(this.getParsed(l)[i.axis],l));const h=t.barThickness;return{min:h||oR(e),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:o},options:{base:l,minBarLength:c}}=this,h=l||0,f=this.getParsed(t),g=f._custom,m=td(g);let _=f[e.axis],y=0,v=i?this.applyStack(e,f,i):_,S,E;v!==_&&(y=v-_,v=_),m&&(_=g.barStart,v=g.barEnd-g.barStart,_!==0&&kn(_)!==kn(g.barEnd)&&(y=0),y+=_);const T=!St(l)&&!m?l:y;let D=e.getPixelForValue(T);if(this.chart.getDataVisibility(t)?S=e.getPixelForValue(y+v):S=D,E=S-D,Math.abs(E)<c){E=uR(E,e,h)*c,_===h&&(D-=E/2);const N=e.getPixelForDecimal(0),H=e.getPixelForDecimal(1),P=Math.min(N,H),L=Math.max(N,H);D=Math.max(Math.min(D,L),P),S=D+E,i&&!m&&(f._stacks[e.axis]._visualValues[o]=e.getValueForPixel(S)-e.getValueForPixel(D))}if(D===e.getPixelForValue(h)){const N=kn(E)*e.getLineWidthForValue(h)/2;D+=N,E-=N}return{size:E,base:D,head:S,center:S+E/2}}_calculateBarIndexPixels(t,e){const i=e.scale,o=this.options,l=o.skipNull,c=ft(o.maxBarThickness,1/0);let h,f;if(e.grouped){const g=l?this._getStackCount(t):e.stackCount,m=o.barThickness==="flex"?rR(t,e,o,g):lR(t,e,o,g),_=this._getStackIndex(this.index,this._cachedMeta.stack,l?t:void 0);h=m.start+m.chunk*_+m.chunk/2,f=Math.min(c,m.chunk*m.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,o=i.length;let l=0;for(;l<o;++l)this.getParsed(l)[e.axis]!==null&&!i[l].hidden&&i[l].draw(this._ctx)}}X(gl,"id","bar"),X(gl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),X(gl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Sc extends Sn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,o){const l=super.parsePrimitiveData(t,e,i,o);for(let c=0;c<l.length;c++)l[c]._custom=this.resolveDataElementOptions(c+i).radius;return l}parseArrayData(t,e,i,o){const l=super.parseArrayData(t,e,i,o);for(let c=0;c<l.length;c++){const h=e[i+c];l[c]._custom=ft(h[2],this.resolveDataElementOptions(c+i).radius)}return l}parseObjectData(t,e,i,o){const l=super.parseObjectData(t,e,i,o);for(let c=0;c<l.length;c++){const h=e[i+c];l[c]._custom=ft(h&&h.r&&+h.r,this.resolveDataElementOptions(c+i).radius)}return l}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:l}=e,c=this.getParsed(t),h=o.getLabelForValue(c.x),f=l.getLabelForValue(c.y),g=c._custom;return{label:i[t]||"",value:"("+h+", "+f+(g?", "+g:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,o){const l=o==="reset",{iScale:c,vScale:h}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(e,o),m=c.axis,_=h.axis;for(let y=e;y<e+i;y++){const v=t[y],S=!l&&this.getParsed(y),E={},T=E[m]=l?c.getPixelForDecimal(.5):c.getPixelForValue(S[m]),D=E[_]=l?h.getBasePixel():h.getPixelForValue(S[_]);E.skip=isNaN(T)||isNaN(D),g&&(E.options=f||this.resolveDataElementOptions(y,v.active?"active":o),l&&(E.options.radius=0)),this.updateElement(v,y,E,o)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let o=super.resolveDataElementOptions(t,e);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const l=o.radius;return e!=="active"&&(o.radius=0),o.radius+=ft(i&&i._custom,l),o}}X(Sc,"id","bubble"),X(Sc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),X(Sc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function pR(n,t,e){let i=1,o=1,l=0,c=0;if(t<Ft){const h=n,f=h+t,g=Math.cos(h),m=Math.sin(h),_=Math.cos(f),y=Math.sin(f),v=(H,P,L)=>wl(H,h,f,!0)?1:Math.max(P,P*e,L,L*e),S=(H,P,L)=>wl(H,h,f,!0)?-1:Math.min(P,P*e,L,L*e),E=v(0,g,_),T=v(ie,m,y),D=S(jt,g,_),N=S(jt+ie,m,y);i=(E-D)/2,o=(T-N)/2,l=-(E+D)/2,c=-(T+N)/2}return{ratioX:i,ratioY:o,offsetX:l,offsetY:c}}class Ms extends Sn{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let l=f=>+i[f];if(xt(i[t])){const{key:f="value"}=this._parsing;l=g=>+qi(i[g],f)}let c,h;for(c=t,h=t+e;c<h;++c)o._parsed[c]=l(c)}}_getRotation(){return bn(this.options.rotation-90)}_getCircumference(){return bn(this.options.circumference)}_getRotationExtents(){let t=Ft,e=-Ft;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const o=this.chart.getDatasetMeta(i).controller,l=o._getRotation(),c=o._getCircumference();t=Math.min(t,l),e=Math.max(e,l+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,o=this._cachedMeta,l=o.data,c=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(wD(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:m,rotation:_}=this._getRotationExtents(),{ratioX:y,ratioY:v,offsetX:S,offsetY:E}=pR(_,m,f),T=(i.width-c)/y,D=(i.height-c)/v,N=Math.max(Math.min(T,D)/2,0),H=CS(this.options.radius,N),P=Math.max(H*f,0),L=(H-P)/this._getVisibleDatasetWeightTotal();this.offsetX=S*H,this.offsetY=E*H,o.total=this.calculateTotal(),this.outerRadius=H-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*g,0),this.updateElements(l,0,l.length,t)}_circumference(t,e){const i=this.options,o=this._cachedMeta,l=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*l/Ft)}updateElements(t,e,i,o){const l=o==="reset",c=this.chart,h=c.chartArea,g=c.options.animation,m=(h.left+h.right)/2,_=(h.top+h.bottom)/2,y=l&&g.animateScale,v=y?0:this.innerRadius,S=y?0:this.outerRadius,{sharedOptions:E,includeOptions:T}=this._getSharedOptions(e,o);let D=this._getRotation(),N;for(N=0;N<e;++N)D+=this._circumference(N,l);for(N=e;N<e+i;++N){const H=this._circumference(N,l),P=t[N],L={x:m+this.offsetX,y:_+this.offsetY,startAngle:D,endAngle:D+H,circumference:H,outerRadius:S,innerRadius:v};T&&(L.options=E||this.resolveDataElementOptions(N,P.active?"active":o)),D+=H,this.updateElement(P,N,L,o)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,o;for(o=0;o<e.length;o++){const l=t._parsed[o];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(o)&&!e[o].hidden&&(i+=Math.abs(l))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Ft*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,o=i.data.labels||[],l=Vl(e._parsed[t],i.options.locale);return{label:o[t]||"",value:l}}getMaxBorderWidth(t){let e=0;const i=this.chart;let o,l,c,h,f;if(!t){for(o=0,l=i.data.datasets.length;o<l;++o)if(i.isDatasetVisible(o)){c=i.getDatasetMeta(o),t=c.data,h=c.controller;break}}if(!t)return 0;for(o=0,l=t.length;o<l;++o)f=h.resolveDataElementOptions(o),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,o=t.length;i<o;++i){const l=this.resolveDataElementOptions(i);e=Math.max(e,l.offset||0,l.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(ft(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}X(Ms,"id","doughnut"),X(Ms,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),X(Ms,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),X(Ms,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:o}}=t.legend.options;return e.labels.map((l,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:o,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class xc extends Sn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:o=[],_dataset:l}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=NS(e,o,c);this._drawStart=h,this._drawCount=f,kS(e)&&(h=0,f=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!l._decimated,i.points=o;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:g},t),this.updateElements(o,h,f,t)}updateElements(t,e,i,o){const l=o==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(e,o),y=c.axis,v=h.axis,{spanGaps:S,segment:E}=this.options,T=Ba(S)?S:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||l||o==="none",N=e+i,H=t.length;let P=e>0&&this.getParsed(e-1);for(let L=0;L<H;++L){const Y=t[L],q=D?Y:{};if(L<e||L>=N){q.skip=!0;continue}const W=this.getParsed(L),V=St(W[v]),K=q[y]=c.getPixelForValue(W[y],L),st=q[v]=l||V?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,W,f):W[v],L);q.skip=isNaN(K)||isNaN(st)||V,q.stop=L>0&&Math.abs(W[y]-P[y])>T,E&&(q.parsed=W,q.raw=g.data[L]),_&&(q.options=m||this.resolveDataElementOptions(L,Y.active?"active":o)),D||this.updateElement(Y,L,q,o),P=W}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,o=t.data||[];if(!o.length)return i;const l=o[0].size(this.resolveDataElementOptions(0)),c=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,l,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}X(xc,"id","line"),X(xc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),X(xc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class pl extends Sn{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,o=i.data.labels||[],l=Vl(e._parsed[t].r,i.options.locale);return{label:o[t]||"",value:l}}parseObjectData(t,e,i,o){return VS.bind(this)(t,e,i,o)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,o)=>{const l=this.getParsed(o).r;!isNaN(l)&&this.chart.getDataVisibility(o)&&(l<e.min&&(e.min=l),l>e.max&&(e.max=l))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,o=Math.min(e.right-e.left,e.bottom-e.top),l=Math.max(o/2,0),c=Math.max(i.cutoutPercentage?l/100*i.cutoutPercentage:1,0),h=(l-c)/t.getVisibleDatasetCount();this.outerRadius=l-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(t,e,i,o){const l=o==="reset",c=this.chart,f=c.options.animation,g=this._cachedMeta.rScale,m=g.xCenter,_=g.yCenter,y=g.getIndexAngle(0)-.5*jt;let v=y,S;const E=360/this.countVisibleElements();for(S=0;S<e;++S)v+=this._computeAngle(S,o,E);for(S=e;S<e+i;S++){const T=t[S];let D=v,N=v+this._computeAngle(S,o,E),H=c.getDataVisibility(S)?g.getDistanceFromCenterForValue(this.getParsed(S).r):0;v=N,l&&(f.animateScale&&(H=0),f.animateRotate&&(D=N=y));const P={x:m,y:_,innerRadius:0,outerRadius:H,startAngle:D,endAngle:N,options:this.resolveDataElementOptions(S,T.active?"active":o)};this.updateElement(T,S,P,o)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?bn(this.resolveDataElementOptions(t,e).angle||i):0}}X(pl,"id","polarArea"),X(pl,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),X(pl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:o}}=t.legend.options;return e.labels.map((l,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:o,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Nd extends Ms{}X(Nd,"id","pie"),X(Nd,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ec extends Sn{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,o){return VS.bind(this)(t,e,i,o)}update(t){const e=this._cachedMeta,i=e.dataset,o=e.data||[],l=e.iScale.getLabels();if(i.points=o,t!=="resize"){const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0);const h={_loop:!0,_fullLoop:l.length===o.length,options:c};this.updateElement(i,void 0,h,t)}this.updateElements(o,0,o.length,t)}updateElements(t,e,i,o){const l=this._cachedMeta.rScale,c=o==="reset";for(let h=e;h<e+i;h++){const f=t[h],g=this.resolveDataElementOptions(h,f.active?"active":o),m=l.getPointPositionForValue(h,this.getParsed(h).r),_=c?l.xCenter:m.x,y=c?l.yCenter:m.y,v={x:_,y,angle:m.angle,skip:isNaN(_)||isNaN(y),options:g};this.updateElement(f,h,v,o)}}}X(Ec,"id","radar"),X(Ec,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),X(Ec,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Cc extends Sn{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:l}=e,c=this.getParsed(t),h=o.getLabelForValue(c.x),f=l.getLabelForValue(c.y);return{label:i[t]||"",value:"("+h+", "+f+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,o=this.chart._animationsDisabled;let{start:l,count:c}=NS(e,i,o);if(this._drawStart=l,this._drawCount=c,kS(e)&&(l=0,c=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:f}=e;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!f._decimated,h.points=i;const g=this.resolveDatasetElementOptions(t);g.segment=this.options.segment,this.updateElement(h,void 0,{animated:!o,options:g},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,l,c,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,o){const l=o==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,m=this.resolveDataElementOptions(e,o),_=this.getSharedOptions(m),y=this.includeOptions(o,_),v=c.axis,S=h.axis,{spanGaps:E,segment:T}=this.options,D=Ba(E)?E:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||l||o==="none";let H=e>0&&this.getParsed(e-1);for(let P=e;P<e+i;++P){const L=t[P],Y=this.getParsed(P),q=N?L:{},W=St(Y[S]),V=q[v]=c.getPixelForValue(Y[v],P),K=q[S]=l||W?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,Y,f):Y[S],P);q.skip=isNaN(V)||isNaN(K)||W,q.stop=P>0&&Math.abs(Y[v]-H[v])>D,T&&(q.parsed=Y,q.raw=g.data[P]),y&&(q.options=_||this.resolveDataElementOptions(P,L.active?"active":o)),N||this.updateElement(L,P,q,o),H=Y}this.updateSharedOptions(_,o,m)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let h=0;for(let f=e.length-1;f>=0;--f)h=Math.max(h,e[f].size(this.resolveDataElementOptions(f))/2);return h>0&&h}const i=t.dataset,o=i.options&&i.options.borderWidth||0;if(!e.length)return o;const l=e[0].size(this.resolveDataElementOptions(0)),c=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(o,l,c)/2}}X(Cc,"id","scatter"),X(Cc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),X(Cc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var mR=Object.freeze({__proto__:null,BarController:gl,BubbleController:Sc,DoughnutController:Ms,LineController:xc,PieController:Nd,PolarAreaController:pl,RadarController:Ec,ScatterController:Cc});function bs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Fg{constructor(t){X(this,"options");this.options=t||{}}static override(t){Object.assign(Fg.prototype,t)}init(){}formats(){return bs()}parse(){return bs()}format(){return bs()}add(){return bs()}diff(){return bs()}startOf(){return bs()}endOf(){return bs()}}var _R={_date:Fg};function yR(n,t,e,i){const{controller:o,data:l,_sorted:c}=n,h=o._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&l.length){const g=h._reversePixels?VD:si;if(i){if(o._sharedOptions){const m=l[0],_=typeof m.getRange=="function"&&m.getRange(t);if(_){const y=g(l,t,e-_),v=g(l,t,e+_);return{lo:y.lo,hi:v.hi}}}}else{const m=g(l,t,e);if(f){const{vScale:_}=o._cachedMeta,{_parsed:y}=n,v=y.slice(0,m.lo+1).reverse().findIndex(E=>!St(E[_.axis]));m.lo-=Math.max(0,v);const S=y.slice(m.hi).findIndex(E=>!St(E[_.axis]));m.hi+=Math.max(0,S)}return m}}return{lo:0,hi:l.length-1}}function yu(n,t,e,i,o){const l=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=l.length;h<f;++h){const{index:g,data:m}=l[h],{lo:_,hi:y}=yR(l[h],t,c,o);for(let v=_;v<=y;++v){const S=m[v];S.skip||i(S,g,v)}}}function bR(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,o){const l=t?Math.abs(i.x-o.x):0,c=e?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function ed(n,t,e,i,o){const l=[];return!o&&!n.isPointInArea(t)||yu(n,e,t,function(h,f,g){!o&&!ai(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&l.push({element:h,datasetIndex:f,index:g})},!0),l}function vR(n,t,e,i){let o=[];function l(c,h,f){const{startAngle:g,endAngle:m}=c.getProps(["startAngle","endAngle"],i),{angle:_}=AS(c,{x:t.x,y:t.y});wl(_,g,m)&&o.push({element:c,datasetIndex:h,index:f})}return yu(n,e,t,l),o}function SR(n,t,e,i,o,l){let c=[];const h=bR(e);let f=Number.POSITIVE_INFINITY;function g(m,_,y){const v=m.inRange(t.x,t.y,o);if(i&&!v)return;const S=m.getCenterPoint(o);if(!(!!l||n.isPointInArea(S))&&!v)return;const T=h(t,S);T<f?(c=[{element:m,datasetIndex:_,index:y}],f=T):T===f&&c.push({element:m,datasetIndex:_,index:y})}return yu(n,e,t,g),c}function nd(n,t,e,i,o,l){return!l&&!n.isPointInArea(t)?[]:e==="r"&&!i?vR(n,t,e,o):SR(n,t,e,i,o,l)}function av(n,t,e,i,o){const l=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return yu(n,e,t,(f,g,m)=>{f[c]&&f[c](t[e],o)&&(l.push({element:f,datasetIndex:g,index:m}),h=h||f.inRange(t.x,t.y,o))}),i&&!h?[]:l}var xR={modes:{index(n,t,e,i){const o=Es(t,n),l=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?ed(n,o,l,i,c):nd(n,o,l,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const m=h[0].index,_=g.data[m];_&&!_.skip&&f.push({element:_,datasetIndex:g.index,index:m})}),f):[]},dataset(n,t,e,i){const o=Es(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?ed(n,o,l,i,c):nd(n,o,l,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let m=0;m<g.length;++m)h.push({element:g[m],datasetIndex:f,index:m})}return h},point(n,t,e,i){const o=Es(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;return ed(n,o,l,i,c)},nearest(n,t,e,i){const o=Es(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;return nd(n,o,l,e.intersect,i,c)},x(n,t,e,i){const o=Es(t,n);return av(n,o,"x",e.intersect,i)},y(n,t,e,i){const o=Es(t,n);return av(n,o,"y",e.intersect,i)}}};const ZS=["left","top","right","bottom"];function Qo(n,t){return n.filter(e=>e.pos===t)}function ov(n,t){return n.filter(e=>ZS.indexOf(e.pos)===-1&&e.box.axis===t)}function Ko(n,t){return n.sort((e,i)=>{const o=t?i:e,l=t?e:i;return o.weight===l.weight?o.index-l.index:o.weight-l.weight})}function ER(n){const t=[];let e,i,o,l,c,h;for(e=0,i=(n||[]).length;e<i;++e)o=n[e],{position:l,options:{stack:c,stackWeight:h=1}}=o,t.push({index:e,box:o,pos:l,horizontal:o.isHorizontal(),weight:o.weight,stack:c&&l+c,stackWeight:h});return t}function CR(n){const t={};for(const e of n){const{stack:i,pos:o,stackWeight:l}=e;if(!i||!ZS.includes(o))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return t}function TR(n,t){const e=CR(n),{vBoxMaxWidth:i,hBoxMaxHeight:o}=t;let l,c,h;for(l=0,c=n.length;l<c;++l){h=n[l];const{fullSize:f}=h.box,g=e[h.stack],m=g&&h.stackWeight/g.weight;h.horizontal?(h.width=m?m*i:f&&t.availableWidth,h.height=o):(h.width=i,h.height=m?m*o:f&&t.availableHeight)}return e}function MR(n){const t=ER(n),e=Ko(t.filter(g=>g.box.fullSize),!0),i=Ko(Qo(t,"left"),!0),o=Ko(Qo(t,"right")),l=Ko(Qo(t,"top"),!0),c=Ko(Qo(t,"bottom")),h=ov(t,"x"),f=ov(t,"y");return{fullSize:e,leftAndTop:i.concat(l),rightAndBottom:o.concat(f).concat(c).concat(h),chartArea:Qo(t,"chartArea"),vertical:i.concat(o).concat(f),horizontal:l.concat(c).concat(h)}}function lv(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function $S(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function AR(n,t,e,i){const{pos:o,box:l}=e,c=n.maxPadding;if(!xt(o)){e.size&&(n[o]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?l.height:l.width),e.size=_.size/_.count,n[o]+=e.size}l.getPadding&&$S(c,l.getPadding());const h=Math.max(0,t.outerWidth-lv(c,n,"left","right")),f=Math.max(0,t.outerHeight-lv(c,n,"top","bottom")),g=h!==n.w,m=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:m}:{same:m,other:g}}function wR(n){const t=n.maxPadding;function e(i){const o=Math.max(t[i]-n[i],0);return n[i]+=o,o}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function DR(n,t){const e=t.maxPadding;function i(o){const l={left:0,top:0,right:0,bottom:0};return o.forEach(c=>{l[c]=Math.max(t[c],e[c])}),l}return i(n?["left","right"]:["top","bottom"])}function el(n,t,e,i){const o=[];let l,c,h,f,g,m;for(l=0,c=n.length,g=0;l<c;++l){h=n[l],f=h.box,f.update(h.width||t.w,h.height||t.h,DR(h.horizontal,t));const{same:_,other:y}=AR(t,e,h,i);g|=_&&o.length,m=m||y,f.fullSize||o.push(h)}return g&&el(o,t,e,i)||m}function hc(n,t,e,i,o){n.top=e,n.left=t,n.right=t+i,n.bottom=e+o,n.width=i,n.height=o}function rv(n,t,e,i){const o=e.padding;let{x:l,y:c}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},m=h.stackWeight/g.weight||1;if(h.horizontal){const _=t.w*m,y=g.size||f.height;Al(g.start)&&(c=g.start),f.fullSize?hc(f,o.left,c,e.outerWidth-o.right-o.left,y):hc(f,t.left+g.placed,c,_,y),g.start=c,g.placed+=_,c=f.bottom}else{const _=t.h*m,y=g.size||f.width;Al(g.start)&&(l=g.start),f.fullSize?hc(f,l,o.top,y,e.outerHeight-o.bottom-o.top):hc(f,l,t.top+g.placed,y,_),g.start=l,g.placed+=_,l=f.right}}t.x=l,t.y=c}var Oe={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const o=Re(n.options.layout.padding),l=Math.max(t-o.width,0),c=Math.max(e-o.height,0),h=MR(n.boxes),f=h.vertical,g=h.horizontal;Dt(n.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const m=f.reduce((E,T)=>T.box.options&&T.box.options.display===!1?E:E+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:o,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/m,hBoxMaxHeight:c/2}),y=Object.assign({},o);$S(y,Re(i));const v=Object.assign({maxPadding:y,w:l,h:c,x:o.left,y:o.top},o),S=TR(f.concat(g),_);el(h.fullSize,v,_,S),el(f,v,_,S),el(g,v,_,S)&&el(f,v,_,S),wR(v),rv(h.leftAndTop,v,_,S),v.x+=v.w,v.y+=v.h,rv(h.rightAndBottom,v,_,S),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Dt(h.chartArea,E=>{const T=E.box;Object.assign(T,n.chartArea),T.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class JS{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,o){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,o?Math.floor(e/o):i)}}isAttached(t){return!0}updateConfig(t){}}class OR extends JS{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Tc="$chartjs",RR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cv=n=>n===null||n==="";function NR(n,t){const e=n.style,i=n.getAttribute("height"),o=n.getAttribute("width");if(n[Tc]={initial:{height:i,width:o,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",cv(o)){const l=Gb(n,"width");l!==void 0&&(n.width=l)}if(cv(i))if(n.style.height==="")n.height=n.width/(t||2);else{const l=Gb(n,"height");l!==void 0&&(n.height=l)}return n}const tx=LO?{passive:!0}:!1;function kR(n,t,e){n&&n.addEventListener(t,e,tx)}function LR(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,tx)}function zR(n,t){const e=RR[n.type]||n.type,{x:i,y:o}=Es(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:o!==void 0?o:null}}function $c(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function IR(n,t,e){const i=n.canvas,o=new MutationObserver(l=>{let c=!1;for(const h of l)c=c||$c(h.addedNodes,i),c=c&&!$c(h.removedNodes,i);c&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}function BR(n,t,e){const i=n.canvas,o=new MutationObserver(l=>{let c=!1;for(const h of l)c=c||$c(h.removedNodes,i),c=c&&!$c(h.addedNodes,i);c&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}const Ol=new Map;let uv=0;function ex(){const n=window.devicePixelRatio;n!==uv&&(uv=n,Ol.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function HR(n,t){Ol.size||window.addEventListener("resize",ex),Ol.set(n,t)}function PR(n){Ol.delete(n),Ol.size||window.removeEventListener("resize",ex)}function UR(n,t,e){const i=n.canvas,o=i&&Vg(i);if(!o)return;const l=RS((h,f)=>{const g=o.clientWidth;e(h,f),g<o.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,m=f.contentRect.height;g===0&&m===0||l(g,m)});return c.observe(o),HR(n,l),c}function id(n,t,e){e&&e.disconnect(),t==="resize"&&PR(n)}function VR(n,t,e){const i=n.canvas,o=RS(l=>{n.ctx!==null&&e(zR(l,n))},n);return kR(i,t,o),o}class FR extends JS{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(NR(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Tc])return!1;const i=e[Tc].initial;["height","width"].forEach(l=>{const c=i[l];St(c)?e.removeAttribute(l):e.setAttribute(l,c)});const o=i.style||{};return Object.keys(o).forEach(l=>{e.style[l]=o[l]}),e.width=e.width,delete e[Tc],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const o=t.$proxies||(t.$proxies={}),c={attach:IR,detach:BR,resize:UR}[e]||VR;o[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),o=i[e];if(!o)return;({attach:id,detach:id,resize:id}[e]||LR)(t,e,o),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,o){return kO(t,e,i,o)}isAttached(t){const e=t&&Vg(t);return!!(e&&e.isConnected)}}function jR(n){return!Ug()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?OR:FR}class En{constructor(){X(this,"x");X(this,"y");X(this,"active",!1);X(this,"options");X(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Ba(this.x)&&Ba(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const o={};return t.forEach(l=>{o[l]=i[l]&&i[l].active()?i[l]._to:this[l]}),o}}X(En,"defaults",{}),X(En,"defaultRoutes");function YR(n,t){const e=n.options.ticks,i=qR(n),o=Math.min(e.maxTicksLimit||i,i),l=e.major.enabled?WR(t):[],c=l.length,h=l[0],f=l[c-1],g=[];if(c>o)return XR(t,g,l,c/o),g;const m=GR(l,t,o);if(c>0){let _,y;const v=c>1?Math.round((f-h)/(c-1)):null;for(fc(t,g,m,St(v)?0:h-v,h),_=0,y=c-1;_<y;_++)fc(t,g,m,l[_],l[_+1]);return fc(t,g,m,f,St(v)?t.length:f+v),g}return fc(t,g,m),g}function qR(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),o=n._maxLength/e;return Math.floor(Math.min(i,o))}function GR(n,t,e){const i=QR(n),o=t.length/e;if(!i)return Math.max(o,1);const l=ID(i);for(let c=0,h=l.length-1;c<h;c++){const f=l[c];if(f>o)return f}return Math.max(o,1)}function WR(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function XR(n,t,e,i){let o=0,l=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===l&&(t.push(n[c]),o++,l=e[o*i])}function fc(n,t,e,i,o){const l=ft(i,0),c=Math.min(ft(o,n.length),n.length);let h=0,f,g,m;for(e=Math.ceil(e),o&&(f=o-i,e=f/Math.floor(f/e)),m=l;m<0;)h++,m=Math.round(l+h*e);for(g=Math.max(l,0);g<c;g++)g===m&&(t.push(n[g]),h++,m=Math.round(l+h*e))}function QR(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const KR=n=>n==="left"?"right":n==="right"?"left":n,hv=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,fv=(n,t)=>Math.min(t||n,n);function dv(n,t){const e=[],i=n.length/t,o=n.length;let l=0;for(;l<o;l+=i)e.push(n[Math.floor(l)]);return e}function ZR(n,t,e){const i=n.ticks.length,o=Math.min(t,i-1),l=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(o),g;if(!(e&&(i===1?g=Math.max(f-l,c-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(o-1))/2,f+=o<t?g:-g,f<l-h||f>c+h)))return f}function $R(n,t){Dt(n,e=>{const i=e.gc,o=i.length/2;let l;if(o>t){for(l=0;l<o;++l)delete e.data[i[l]];i.splice(0,o)}})}function Zo(n){return n.drawTicks?n.tickLength:0}function gv(n,t){if(!n.display)return 0;const e=ue(n.font,t),i=Re(n.padding);return(qt(n.text)?n.text.length:1)*e.lineHeight+i.height}function JR(n,t){return Xi(n,{scale:t,type:"scale"})}function t2(n,t,e){return Xi(n,{tick:e,index:t,type:"tick"})}function e2(n,t,e){let i=Lg(n);return(e&&t!=="right"||!e&&t==="right")&&(i=KR(i)),i}function n2(n,t,e,i){const{top:o,left:l,bottom:c,right:h,chart:f}=n,{chartArea:g,scales:m}=f;let _=0,y,v,S;const E=c-o,T=h-l;if(n.isHorizontal()){if(v=De(i,l,h),xt(e)){const D=Object.keys(e)[0],N=e[D];S=m[D].getPixelForValue(N)+E-t}else e==="center"?S=(g.bottom+g.top)/2+E-t:S=hv(n,e,t);y=h-l}else{if(xt(e)){const D=Object.keys(e)[0],N=e[D];v=m[D].getPixelForValue(N)-T+t}else e==="center"?v=(g.left+g.right)/2-T+t:v=hv(n,e,t);S=De(i,c,o),_=e==="left"?-ie:ie}return{titleX:v,titleY:S,maxWidth:y,rotation:_}}class Bs extends En{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:o}=this;return t=Ke(t,Number.POSITIVE_INFINITY),e=Ke(e,Number.NEGATIVE_INFINITY),i=Ke(i,Number.POSITIVE_INFINITY),o=Ke(o,Number.NEGATIVE_INFINITY),{min:Ke(t,i),max:Ke(e,o),minDefined:ee(t),maxDefined:ee(e)}}getMinMax(t){let{min:e,max:i,minDefined:o,maxDefined:l}=this.getUserBounds(),c;if(o&&l)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)c=h[f].controller.getMinMax(this,t),o||(e=Math.min(e,c.min)),l||(i=Math.max(i,c.max));return e=l&&e>i?i:e,i=o&&e>i?e:i,{min:Ke(e,Ke(i,e)),max:Ke(i,Ke(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ht(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:o,grace:l,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hO(this,l,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?dv(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=YR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ht(this.options.afterUpdate,[this])}beforeSetDimensions(){Ht(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ht(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ht(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ht(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,o,l;for(i=0,o=t.length;i<o;i++)l=t[i],l.label=Ht(e.callback,[l.value,i,t],this)}afterTickToLabelConversion(){Ht(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ht(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=fv(this.ticks.length,t.ticks.maxTicksLimit),o=e.minRotation||0,l=e.maxRotation;let c=o,h,f,g;if(!this._isVisible()||!e.display||o>=l||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const m=this._getLabelSizes(),_=m.widest.width,y=m.highest.height,v=ve(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/i:v/(i-1),_+6>h&&(h=v/(i-(t.offset?.5:1)),f=this.maxHeight-Zo(t.grid)-e.padding-gv(t.title,this.chart.options.font),g=Math.sqrt(_*_+y*y),c=Ng(Math.min(Math.asin(ve((m.highest.height+6)/h,-1,1)),Math.asin(ve(f/g,-1,1))-Math.asin(ve(y/g,-1,1)))),c=Math.max(o,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){Ht(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ht(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:o,grid:l}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=gv(o,e.options.font);if(h?(t.width=this.maxWidth,t.height=Zo(l)+f):(t.height=this.maxHeight,t.width=Zo(l)+f),i.display&&this.ticks.length){const{first:g,last:m,widest:_,highest:y}=this._getLabelSizes(),v=i.padding*2,S=bn(this.labelRotation),E=Math.cos(S),T=Math.sin(S);if(h){const D=i.mirror?0:T*_.width+E*y.height;t.height=Math.min(this.maxHeight,t.height+D+v)}else{const D=i.mirror?0:E*_.width+T*y.height;t.width=Math.min(this.maxWidth,t.width+D+v)}this._calculatePadding(g,m,T,E)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,o){const{ticks:{align:l,padding:c},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,v=0;f?g?(y=o*t.width,v=i*e.height):(y=i*t.height,v=o*e.width):l==="start"?v=e.width:l==="end"?y=t.width:l!=="inner"&&(y=t.width/2,v=e.width/2),this.paddingLeft=Math.max((y-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((v-_+c)*this.width/(this.width-_),0)}else{let m=e.height/2,_=t.height/2;l==="start"?(m=0,_=t.height):l==="end"&&(m=e.height,_=0),this.paddingTop=m+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ht(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)St(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=dv(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:o,_longestTextCache:l}=this,c=[],h=[],f=Math.floor(e/fv(e,i));let g=0,m=0,_,y,v,S,E,T,D,N,H,P,L;for(_=0;_<e;_+=f){if(S=t[_].label,E=this._resolveTickFontOptions(_),o.font=T=E.string,D=l[T]=l[T]||{data:{},gc:[]},N=E.lineHeight,H=P=0,!St(S)&&!qt(S))H=Kc(o,D.data,D.gc,H,S),P=N;else if(qt(S))for(y=0,v=S.length;y<v;++y)L=S[y],!St(L)&&!qt(L)&&(H=Kc(o,D.data,D.gc,H,L),P+=N);c.push(H),h.push(P),g=Math.max(H,g),m=Math.max(P,m)}$R(l,e);const Y=c.indexOf(g),q=h.indexOf(m),W=V=>({width:c[V]||0,height:h[V]||0});return{first:W(0),last:W(e-1),widest:W(Y),highest:W(q),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return UD(this._alignToPixels?ys(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=t2(this.getContext(),t,i))}return this.$context||(this.$context=JR(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=bn(this.labelRotation),i=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),l=this._getLabelSizes(),c=t.autoSkipPadding||0,h=l?l.widest.width+c:0,f=l?l.highest.height+c:0;return this.isHorizontal()?f*i>h*o?h/i:f/o:f*o<h*i?f/i:h/o}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,o=this.options,{grid:l,position:c,border:h}=o,f=l.offset,g=this.isHorizontal(),_=this.ticks.length+(f?1:0),y=Zo(l),v=[],S=h.setContext(this.getContext()),E=S.display?S.width:0,T=E/2,D=function(F){return ys(i,F,E)};let N,H,P,L,Y,q,W,V,K,st,rt,Ot;if(c==="top")N=D(this.bottom),q=this.bottom-y,V=N-T,st=D(t.top)+T,Ot=t.bottom;else if(c==="bottom")N=D(this.top),st=t.top,Ot=D(t.bottom)-T,q=N+T,V=this.top+y;else if(c==="left")N=D(this.right),Y=this.right-y,W=N-T,K=D(t.left)+T,rt=t.right;else if(c==="right")N=D(this.left),K=t.left,rt=D(t.right)-T,Y=N+T,W=this.left+y;else if(e==="x"){if(c==="center")N=D((t.top+t.bottom)/2+.5);else if(xt(c)){const F=Object.keys(c)[0],Z=c[F];N=D(this.chart.scales[F].getPixelForValue(Z))}st=t.top,Ot=t.bottom,q=N+T,V=q+y}else if(e==="y"){if(c==="center")N=D((t.left+t.right)/2);else if(xt(c)){const F=Object.keys(c)[0],Z=c[F];N=D(this.chart.scales[F].getPixelForValue(Z))}Y=N-T,W=Y-y,K=t.left,rt=t.right}const Wt=ft(o.ticks.maxTicksLimit,_),ut=Math.max(1,Math.ceil(_/Wt));for(H=0;H<_;H+=ut){const F=this.getContext(H),Z=l.setContext(F),J=h.setContext(F),ht=Z.lineWidth,M=Z.color,j=J.dash||[],nt=J.dashOffset,et=Z.tickWidth,Q=Z.tickColor,gt=Z.tickBorderDash||[],lt=Z.tickBorderDashOffset;P=ZR(this,H,f),P!==void 0&&(L=ys(i,P,ht),g?Y=W=K=rt=L:q=V=st=Ot=L,v.push({tx1:Y,ty1:q,tx2:W,ty2:V,x1:K,y1:st,x2:rt,y2:Ot,width:ht,color:M,borderDash:j,borderDashOffset:nt,tickWidth:et,tickColor:Q,tickBorderDash:gt,tickBorderDashOffset:lt}))}return this._ticksLength=_,this._borderValue=N,v}_computeLabelItems(t){const e=this.axis,i=this.options,{position:o,ticks:l}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:m,mirror:_}=l,y=Zo(i.grid),v=y+m,S=_?-m:v,E=-bn(this.labelRotation),T=[];let D,N,H,P,L,Y,q,W,V,K,st,rt,Ot="middle";if(o==="top")Y=this.bottom-S,q=this._getXAxisLabelAlignment();else if(o==="bottom")Y=this.top+S,q=this._getXAxisLabelAlignment();else if(o==="left"){const ut=this._getYAxisLabelAlignment(y);q=ut.textAlign,L=ut.x}else if(o==="right"){const ut=this._getYAxisLabelAlignment(y);q=ut.textAlign,L=ut.x}else if(e==="x"){if(o==="center")Y=(t.top+t.bottom)/2+v;else if(xt(o)){const ut=Object.keys(o)[0],F=o[ut];Y=this.chart.scales[ut].getPixelForValue(F)+v}q=this._getXAxisLabelAlignment()}else if(e==="y"){if(o==="center")L=(t.left+t.right)/2-v;else if(xt(o)){const ut=Object.keys(o)[0],F=o[ut];L=this.chart.scales[ut].getPixelForValue(F)}q=this._getYAxisLabelAlignment(y).textAlign}e==="y"&&(f==="start"?Ot="top":f==="end"&&(Ot="bottom"));const Wt=this._getLabelSizes();for(D=0,N=h.length;D<N;++D){H=h[D],P=H.label;const ut=l.setContext(this.getContext(D));W=this.getPixelForTick(D)+l.labelOffset,V=this._resolveTickFontOptions(D),K=V.lineHeight,st=qt(P)?P.length:1;const F=st/2,Z=ut.color,J=ut.textStrokeColor,ht=ut.textStrokeWidth;let M=q;c?(L=W,q==="inner"&&(D===N-1?M=this.options.reverse?"left":"right":D===0?M=this.options.reverse?"right":"left":M="center"),o==="top"?g==="near"||E!==0?rt=-st*K+K/2:g==="center"?rt=-Wt.highest.height/2-F*K+K:rt=-Wt.highest.height+K/2:g==="near"||E!==0?rt=K/2:g==="center"?rt=Wt.highest.height/2-F*K:rt=Wt.highest.height-st*K,_&&(rt*=-1),E!==0&&!ut.showLabelBackdrop&&(L+=K/2*Math.sin(E))):(Y=W,rt=(1-st)*K/2);let j;if(ut.showLabelBackdrop){const nt=Re(ut.backdropPadding),et=Wt.heights[D],Q=Wt.widths[D];let gt=rt-nt.top,lt=0-nt.left;switch(Ot){case"middle":gt-=et/2;break;case"bottom":gt-=et;break}switch(q){case"center":lt-=Q/2;break;case"right":lt-=Q;break;case"inner":D===N-1?lt-=Q:D>0&&(lt-=Q/2);break}j={left:lt,top:gt,width:Q+nt.width,height:et+nt.height,color:ut.backdropColor}}T.push({label:P,font:V,textOffset:rt,options:{rotation:E,color:Z,strokeColor:J,strokeWidth:ht,textAlign:M,textBaseline:Ot,translation:[L,Y],backdrop:j}})}return T}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-bn(this.labelRotation))return t==="top"?"left":"right";let o="center";return e.align==="start"?o="left":e.align==="end"?o="right":e.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:o,padding:l}}=this.options,c=this._getLabelSizes(),h=t+l,f=c.widest.width;let g,m;return e==="left"?o?(m=this.right+l,i==="near"?g="left":i==="center"?(g="center",m+=f/2):(g="right",m+=f)):(m=this.right-h,i==="near"?g="right":i==="center"?(g="center",m-=f/2):(g="left",m=this.left)):e==="right"?o?(m=this.left+l,i==="near"?g="right":i==="center"?(g="center",m-=f/2):(g="left",m-=f)):(m=this.left+h,i==="near"?g="left":i==="center"?(g="center",m+=f/2):(g="right",m=this.right)):g="right",{textAlign:g,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:o,width:l,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,o,l,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const o=this.ticks.findIndex(l=>l.value===t);return o>=0?e.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let l,c;const h=(f,g,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(l=0,c=o.length;l<c;++l){const f=o[l];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:o}}=this,l=i.setContext(this.getContext()),c=i.display?l.width:0;if(!c)return;const h=o.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,m,_,y;this.isHorizontal()?(g=ys(t,this.left,c)-c/2,m=ys(t,this.right,h)+h/2,_=y=f):(_=ys(t,this.top,c)-c/2,y=ys(t,this.bottom,h)+h/2,g=m=f),e.save(),e.lineWidth=l.width,e.strokeStyle=l.color,e.beginPath(),e.moveTo(g,_),e.lineTo(m,y),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&pu(i,o);const l=this.getLabelItems(t);for(const c of l){const h=c.options,f=c.font,g=c.label,m=c.textOffset;Ls(i,g,0,m,f,h)}o&&mu(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:o}}=this;if(!i.display)return;const l=ue(i.font),c=Re(i.padding),h=i.align;let f=l.lineHeight/2;e==="bottom"||e==="center"||xt(e)?(f+=c.bottom,qt(i.text)&&(f+=l.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:g,titleY:m,maxWidth:_,rotation:y}=n2(this,f,e,h);Ls(t,i.text,0,0,l,{color:i.color,maxWidth:_,rotation:y,textAlign:e2(h,e,o),textBaseline:"middle",translation:[g,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=ft(t.grid&&t.grid.z,-1),o=ft(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Bs.prototype.draw?[{z:e,draw:l=>{this.draw(l)}}]:[{z:i,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:e,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let l,c;for(l=0,c=e.length;l<c;++l){const h=e[l];h[i]===this.id&&(!t||h.type===t)&&o.push(h)}return o}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return ue(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class dc{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;a2(e)&&(i=this.register(e));const o=this.items,l=t.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+t);return l in o||(o[l]=t,i2(t,c,i),this.override&&Gt.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,o=this.scope;i in e&&delete e[i],o&&i in Gt[o]&&(delete Gt[o][i],this.override&&delete ks[i])}}function i2(n,t,e){const i=Ml(Object.create(null),[e?Gt.get(e):{},Gt.get(t),n.defaults]);Gt.set(t,i),n.defaultRoutes&&s2(t,n.defaultRoutes),n.descriptors&&Gt.describe(t,n.descriptors)}function s2(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),o=i.pop(),l=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Gt.route(l,o,f,h)})}function a2(n){return"id"in n&&"defaults"in n}class o2{constructor(){this.controllers=new dc(Sn,"datasets",!0),this.elements=new dc(En,"elements"),this.plugins=new dc(Object,"plugins"),this.scales=new dc(Bs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(o=>{const l=i||this._getRegistryForType(o);i||l.isForType(o)||l===this.plugins&&o.id?this._exec(t,l,o):Dt(o,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const o=Rg(t);Ht(i["before"+o],[],i),e[t](i),Ht(i["after"+o],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const o=e.get(t);if(o===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return o}}var Nn=new o2;class l2{constructor(){this._init=[]}notify(t,e,i,o){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const l=o?this._descriptors(t).filter(o):this._descriptors(t),c=this._notify(l,t,e,i);return e==="afterDestroy"&&(this._notify(l,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,o){o=o||{};for(const l of t){const c=l.plugin,h=c[i],f=[e,o,l.options];if(Ht(h,f,c)===!1&&o.cancelable)return!1}return!0}invalidate(){St(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,o=ft(i.options&&i.options.plugins,{}),l=r2(i);return o===!1&&!e?[]:u2(t,l,o,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,o=(l,c)=>l.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(o(e,i),t,"stop"),this._notify(o(i,e),t,"start")}}function r2(n){const t={},e=[],i=Object.keys(Nn.plugins.items);for(let l=0;l<i.length;l++)e.push(Nn.getPlugin(i[l]));const o=n.plugins||[];for(let l=0;l<o.length;l++){const c=o[l];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function c2(n,t){return!t&&n===!1?null:n===!0?{}:n}function u2(n,{plugins:t,localIds:e},i,o){const l=[],c=n.getContext();for(const h of t){const f=h.id,g=c2(i[f],o);g!==null&&l.push({plugin:h,options:h2(n.config,{plugin:h,local:e[f]},g,c)})}return l}function h2(n,{plugin:t,local:e},i,o){const l=n.pluginScopeKeys(t),c=n.getOptionScopes(i,l);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function kd(n,t){const e=Gt.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function f2(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function d2(n,t){return n===t?"_index_":"_value_"}function pv(n){if(n==="x"||n==="y"||n==="r")return n}function g2(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ld(n,...t){if(pv(n))return n;for(const e of t){const i=e.axis||g2(e.position)||n.length>1&&pv(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function mv(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function p2(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return mv(n,"x",e[0])||mv(n,"y",e[0])}return{}}function m2(n,t){const e=ks[n.type]||{scales:{}},i=t.scales||{},o=kd(n.type,t),l=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!xt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Ld(c,h,p2(c,n),Gt.scales[h.type]),g=d2(f,o),m=e.scales||{};l[c]=ul(Object.create(null),[{axis:f},h,m[f],m[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||kd(h,t),m=(ks[h]||{}).scales||{};Object.keys(m).forEach(_=>{const y=f2(_,f),v=c[y+"AxisID"]||y;l[v]=l[v]||Object.create(null),ul(l[v],[{axis:y},i[v],m[_]])})}),Object.keys(l).forEach(c=>{const h=l[c];ul(h,[Gt.scales[h.type],Gt.scale])}),l}function nx(n){const t=n.options||(n.options={});t.plugins=ft(t.plugins,{}),t.scales=m2(n,t)}function ix(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function _2(n){return n=n||{},n.data=ix(n.data),nx(n),n}const _v=new Map,sx=new Set;function gc(n,t){let e=_v.get(n);return e||(e=t(),_v.set(n,e),sx.add(e)),e}const $o=(n,t,e)=>{const i=qi(t,e);i!==void 0&&n.add(i)};class y2{constructor(t){this._config=_2(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ix(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),nx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return gc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return gc(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return gc(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return gc(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let o=i.get(t);return(!o||e)&&(o=new Map,i.set(t,o)),o}getOptionScopes(t,e,i){const{options:o,type:l}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(m=>{t&&(f.add(t),m.forEach(_=>$o(f,t,_))),m.forEach(_=>$o(f,o,_)),m.forEach(_=>$o(f,ks[l]||{},_)),m.forEach(_=>$o(f,Gt,_)),m.forEach(_=>$o(f,Od,_))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),sx.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,ks[e]||{},Gt.datasets[e]||{},{type:e},Gt,Od]}resolveNamedOptions(t,e,i,o=[""]){const l={$shared:!0},{resolver:c,subPrefixes:h}=yv(this._resolverCache,t,o);let f=c;if(v2(c,e)){l.$shared=!1,i=Gi(i)?i():i;const g=this.createResolver(t,i,h);f=Ha(c,i,g)}for(const g of e)l[g]=f[g];return l}createResolver(t,e,i=[""],o){const{resolver:l}=yv(this._resolverCache,t,i);return xt(e)?Ha(l,e,void 0,o):l}}function yv(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const o=e.join();let l=i.get(o);return l||(l={resolver:Bg(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(o,l)),l}const b2=n=>xt(n)&&Object.getOwnPropertyNames(n).some(t=>Gi(n[t]));function v2(n,t){const{isScriptable:e,isIndexable:i}=BS(n);for(const o of t){const l=e(o),c=i(o),h=(c||l)&&n[o];if(l&&(Gi(h)||b2(h))||c&&qt(h))return!0}return!1}var S2="4.4.8";const x2=["top","bottom","left","right","chartArea"];function bv(n,t){return n==="top"||n==="bottom"||x2.indexOf(n)===-1&&t==="x"}function vv(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Sv(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Ht(e&&e.onComplete,[n],t)}function E2(n){const t=n.chart,e=t.options.animation;Ht(e&&e.onProgress,[n],t)}function ax(n){return Ug()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Mc={},xv=n=>{const t=ax(n);return Object.values(Mc).filter(e=>e.canvas===t).pop()};function C2(n,t,e){const i=Object.keys(n);for(const o of i){const l=+o;if(l>=t){const c=n[o];delete n[o],(e>0||l>t)&&(n[l+e]=c)}}}function T2(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}function pc(n,t,e){return n.options.clip?n[e]:t[e]}function M2(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:pc(e,t,"left"),right:pc(e,t,"right"),top:pc(i,t,"top"),bottom:pc(i,t,"bottom")}:t}var ki;let bu=(ki=class{static register(...t){Nn.add(...t),Ev()}static unregister(...t){Nn.remove(...t),Ev()}constructor(t,e){const i=this.config=new y2(e),o=ax(t),l=xv(o);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||jR(o)),this.platform.updateConfig(i);const h=this.platform.acquireContext(o,c.aspectRatio),f=h&&h.canvas,g=f&&f.height,m=f&&f.width;if(this.id=AD(),this.ctx=h,this.canvas=f,this.width=m,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new l2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=YD(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],Mc[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Jn.listen(this,"complete",Sv),Jn.listen(this,"progress",E2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:o,_aspectRatio:l}=this;return St(t)?e&&l?l:o?i/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Nn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Fb(this.canvas,this.ctx),this}stop(){return Jn.stop(this),this}resize(t,e){Jn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,o=this.canvas,l=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(o,t,e,l),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,qb(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Ht(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Dt(e,(i,o)=>{i.id=o})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,o=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let l=[];e&&(l=l.concat(Object.keys(e).map(c=>{const h=e[c],f=Ld(c,h),g=f==="r",m=f==="x";return{options:h,dposition:g?"chartArea":m?"bottom":"left",dtype:g?"radialLinear":m?"category":"linear"}}))),Dt(l,c=>{const h=c.options,f=h.id,g=Ld(f,h),m=ft(h.type,c.dtype);(h.position===void 0||bv(h.position,g)!==bv(c.dposition))&&(h.position=c.dposition),o[f]=!0;let _=null;if(f in i&&i[f].type===m)_=i[f];else{const y=Nn.getScale(m);_=new y({id:f,type:m,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,t)}),Dt(o,(c,h)=>{c||delete i[h]}),Dt(i,c=>{Oe.configure(this,c,c.options),Oe.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((o,l)=>o.index-l.index),i>e){for(let o=e;o<i;++o)this._destroyDatasetMeta(o);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(vv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,o)=>{e.filter(l=>l===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=e.length;i<o;i++){const l=e[i];let c=this.getDatasetMeta(i);const h=l.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=l.indexAxis||kd(h,this.options),c.order=l.order||0,c.index=i,c.label=""+l.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Nn.getController(h),{datasetElementType:g,dataElementType:m}=Gt.datasets[h];Object.assign(f,{dataElementType:Nn.getElement(m),datasetElementType:g&&Nn.getElement(g)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Dt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,m=this.data.datasets.length;g<m;g++){const{controller:_}=this.getDatasetMeta(g),y=!o&&l.indexOf(_)===-1;_.buildOrUpdateElements(y),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),o||Dt(l,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(vv("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Dt(this.scales,t=>{Oe.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!kb(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:l}of e){const c=i==="_removeElements"?-l:l;C2(t,o,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=l=>new Set(t.filter(c=>c[0]===l).map((c,h)=>h+","+c.splice(1).join(","))),o=i(0);for(let l=1;l<e;l++)if(!kb(o,i(l)))return;return Array.from(o).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Oe.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Dt(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,l)=>{o._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Gi(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),o={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(e),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Jn.has(this)?this.attached&&!Jn.running(this)&&Jn.start(this):(this.draw(),Sv({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let o,l;for(o=0,l=e.length;o<l;++o){const c=e[o];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,o=!i.disabled,l=M2(t,this.chartArea),c={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",c)!==!1&&(o&&pu(e,{left:i.left===!1?0:l.left-i.left,right:i.right===!1?this.width:l.right+i.right,top:i.top===!1?0:l.top-i.top,bottom:i.bottom===!1?this.height:l.bottom+i.bottom}),t.controller.draw(),o&&mu(e),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(t){return ai(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,o){const l=xR.modes[e];return typeof l=="function"?l(this,t,i,o):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let o=i.filter(l=>l&&l._dataset===e).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=Xi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const o=i?"show":"hide",l=this.getDatasetMeta(t),c=l.controller._resolveAnimations(void 0,o);Al(e)?(l.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(l,{visible:i}),this.update(h=>h.datasetIndex===t?o:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Jn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Fb(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Mc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},o=(l,c,h)=>{l.offsetX=c,l.offsetY=h,this._eventHandler(l)};Dt(this.options.events,l=>i(l,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},o=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},l=(f,g)=>{this.canvas&&this.resize(f,g)};let c;const h=()=>{o("attach",h),this.attached=!0,this.resize(),i("resize",l),i("detach",c)};c=()=>{this.attached=!1,o("resize",l),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Dt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Dt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const o=i?"set":"remove";let l,c,h,f;for(e==="dataset"&&(l=this.getDatasetMeta(t[0].datasetIndex),l.controller["_"+o+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[o+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:l,index:c})=>{const h=this.getDatasetMeta(l);if(!h)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:h.data[c],index:c}});!Wc(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const o=this.options.hover,l=(f,g)=>f.filter(m=>!g.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),c=l(e,t),h=i?t:l(t,e);c.length&&this.updateHoverStyle(c,o.mode,!1),h.length&&o.mode&&this.updateHoverStyle(h,o.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},o=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const l=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(l||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:o=[],options:l}=this,c=e,h=this._getActiveElements(t,o,i,c),f=kD(t),g=T2(t,this._lastEvent,i,f);i&&(this._lastEvent=null,Ht(l.onHover,[t,h,this],this),f&&Ht(l.onClick,[t,h,this],this));const m=!Wc(h,o);return(m||e)&&(this._active=h,this._updateHoverStyles(h,o,e)),this._lastEvent=g,m}_getActiveElements(t,e,i,o){if(t.type==="mouseout")return[];if(!i)return e;const l=this.options.hover;return this.getElementsAtEventForMode(t,l.mode,l,o)}},X(ki,"defaults",Gt),X(ki,"instances",Mc),X(ki,"overrides",ks),X(ki,"registry",Nn),X(ki,"version",S2),X(ki,"getChart",xv),ki);function Ev(){return Dt(bu.instances,n=>n._plugins.invalidate())}function A2(n,t,e){const{startAngle:i,pixelMargin:o,x:l,y:c,outerRadius:h,innerRadius:f}=t;let g=o/h;n.beginPath(),n.arc(l,c,h,i-g,e+g),f>o?(g=o/f,n.arc(l,c,f,e+g,i-g,!0)):n.arc(l,c,o,e+ie,i-ie),n.closePath(),n.clip()}function w2(n){return Ig(n,["outerStart","outerEnd","innerStart","innerEnd"])}function D2(n,t,e,i){const o=w2(n.options.borderRadius),l=(e-t)/2,c=Math.min(l,i*t/2),h=f=>{const g=(e-Math.min(l,f))*i/2;return ve(f,0,Math.min(l,g))};return{outerStart:h(o.outerStart),outerEnd:h(o.outerEnd),innerStart:ve(o.innerStart,0,c),innerEnd:ve(o.innerEnd,0,c)}}function Ca(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Jc(n,t,e,i,o,l){const{x:c,y:h,startAngle:f,pixelMargin:g,innerRadius:m}=t,_=Math.max(t.outerRadius+i+e-g,0),y=m>0?m+i+e+g:0;let v=0;const S=o-f;if(i){const ut=m>0?m-i:0,F=_>0?_-i:0,Z=(ut+F)/2,J=Z!==0?S*Z/(Z+i):S;v=(S-J)/2}const E=Math.max(.001,S*_-e/jt)/_,T=(S-E)/2,D=f+T+v,N=o-T-v,{outerStart:H,outerEnd:P,innerStart:L,innerEnd:Y}=D2(t,y,_,N-D),q=_-H,W=_-P,V=D+H/q,K=N-P/W,st=y+L,rt=y+Y,Ot=D+L/st,Wt=N-Y/rt;if(n.beginPath(),l){const ut=(V+K)/2;if(n.arc(c,h,_,V,ut),n.arc(c,h,_,ut,K),P>0){const ht=Ca(W,K,c,h);n.arc(ht.x,ht.y,P,K,N+ie)}const F=Ca(rt,N,c,h);if(n.lineTo(F.x,F.y),Y>0){const ht=Ca(rt,Wt,c,h);n.arc(ht.x,ht.y,Y,N+ie,Wt+Math.PI)}const Z=(N-Y/y+(D+L/y))/2;if(n.arc(c,h,y,N-Y/y,Z,!0),n.arc(c,h,y,Z,D+L/y,!0),L>0){const ht=Ca(st,Ot,c,h);n.arc(ht.x,ht.y,L,Ot+Math.PI,D-ie)}const J=Ca(q,D,c,h);if(n.lineTo(J.x,J.y),H>0){const ht=Ca(q,V,c,h);n.arc(ht.x,ht.y,H,D-ie,V)}}else{n.moveTo(c,h);const ut=Math.cos(V)*_+c,F=Math.sin(V)*_+h;n.lineTo(ut,F);const Z=Math.cos(K)*_+c,J=Math.sin(K)*_+h;n.lineTo(Z,J)}n.closePath()}function O2(n,t,e,i,o){const{fullCircles:l,startAngle:c,circumference:h}=t;let f=t.endAngle;if(l){Jc(n,t,e,i,f,o);for(let g=0;g<l;++g)n.fill();isNaN(h)||(f=c+(h%Ft||Ft))}return Jc(n,t,e,i,f,o),n.fill(),f}function R2(n,t,e,i,o){const{fullCircles:l,startAngle:c,circumference:h,options:f}=t,{borderWidth:g,borderJoinStyle:m,borderDash:_,borderDashOffset:y}=f,v=f.borderAlign==="inner";if(!g)return;n.setLineDash(_||[]),n.lineDashOffset=y,v?(n.lineWidth=g*2,n.lineJoin=m||"round"):(n.lineWidth=g,n.lineJoin=m||"bevel");let S=t.endAngle;if(l){Jc(n,t,e,i,S,o);for(let E=0;E<l;++E)n.stroke();isNaN(h)||(S=c+(h%Ft||Ft))}v&&A2(n,t,S),l||(Jc(n,t,e,i,S,o),n.stroke())}class nl extends En{constructor(e){super();X(this,"circumference");X(this,"endAngle");X(this,"fullCircles");X(this,"innerRadius");X(this,"outerRadius");X(this,"pixelMargin");X(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,o){const l=this.getProps(["x","y"],o),{angle:c,distance:h}=AS(l,{x:e,y:i}),{startAngle:f,endAngle:g,innerRadius:m,outerRadius:_,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),v=(this.options.spacing+this.options.borderWidth)/2,S=ft(y,g-f),E=wl(c,f,g)&&f!==g,T=S>=Ft||E,D=ii(h,m+v,_+v);return T&&D}getCenterPoint(e){const{x:i,y:o,startAngle:l,endAngle:c,innerRadius:h,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:g,spacing:m}=this.options,_=(l+c)/2,y=(h+f+m+g)/2;return{x:i+Math.cos(_)*y,y:o+Math.sin(_)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:o}=this,l=(i.offset||0)/4,c=(i.spacing||0)/2,h=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=o>Ft?Math.floor(o/Ft):0,o===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*l,Math.sin(f)*l);const g=1-Math.sin(Math.min(jt,o||0)),m=l*g;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,O2(e,this,m,c,h),R2(e,this,m,c,h),e.restore()}}X(nl,"id","arc"),X(nl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),X(nl,"defaultRoutes",{backgroundColor:"backgroundColor"}),X(nl,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function ox(n,t,e=t){n.lineCap=ft(e.borderCapStyle,t.borderCapStyle),n.setLineDash(ft(e.borderDash,t.borderDash)),n.lineDashOffset=ft(e.borderDashOffset,t.borderDashOffset),n.lineJoin=ft(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=ft(e.borderWidth,t.borderWidth),n.strokeStyle=ft(e.borderColor,t.borderColor)}function N2(n,t,e){n.lineTo(e.x,e.y)}function k2(n){return n.stepped?nO:n.tension||n.cubicInterpolationMode==="monotone"?iO:N2}function lx(n,t,e={}){const i=n.length,{start:o=0,end:l=i-1}=e,{start:c,end:h}=t,f=Math.max(o,c),g=Math.min(l,h),m=o<c&&l<c||o>h&&l>h;return{count:i,start:f,loop:t.loop,ilen:g<f&&!m?i+g-f:g-f}}function L2(n,t,e,i){const{points:o,options:l}=t,{count:c,start:h,loop:f,ilen:g}=lx(o,e,i),m=k2(l);let{move:_=!0,reverse:y}=i||{},v,S,E;for(v=0;v<=g;++v)S=o[(h+(y?g-v:v))%c],!S.skip&&(_?(n.moveTo(S.x,S.y),_=!1):m(n,E,S,y,l.stepped),E=S);return f&&(S=o[(h+(y?g:0))%c],m(n,E,S,y,l.stepped)),!!f}function z2(n,t,e,i){const o=t.points,{count:l,start:c,ilen:h}=lx(o,e,i),{move:f=!0,reverse:g}=i||{};let m=0,_=0,y,v,S,E,T,D;const N=P=>(c+(g?h-P:P))%l,H=()=>{E!==T&&(n.lineTo(m,T),n.lineTo(m,E),n.lineTo(m,D))};for(f&&(v=o[N(0)],n.moveTo(v.x,v.y)),y=0;y<=h;++y){if(v=o[N(y)],v.skip)continue;const P=v.x,L=v.y,Y=P|0;Y===S?(L<E?E=L:L>T&&(T=L),m=(_*m+P)/++_):(H(),n.lineTo(P,L),S=Y,_=0,E=T=L),D=L}H()}function zd(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?z2:L2}function I2(n){return n.stepped?zO:n.tension||n.cubicInterpolationMode==="monotone"?IO:Cs}function B2(n,t,e,i){let o=t._path;o||(o=t._path=new Path2D,t.path(o,e,i)&&o.closePath()),ox(n,t.options),n.stroke(o)}function H2(n,t,e,i){const{segments:o,options:l}=t,c=zd(t);for(const h of o)ox(n,l,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const P2=typeof Path2D=="function";function U2(n,t,e,i){P2&&!t.options.segment?B2(n,t,e,i):H2(n,t,e,i)}class Bi extends En{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const o=i.spanGaps?this._loop:this._fullLoop;AO(this._points,i,t,o,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=FO(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,o=t[e],l=this.points,c=WS(this,{property:e,start:o,end:o});if(!c.length)return;const h=[],f=I2(i);let g,m;for(g=0,m=c.length;g<m;++g){const{start:_,end:y}=c[g],v=l[_],S=l[y];if(v===S){h.push(v);continue}const E=Math.abs((o-v[e])/(S[e]-v[e])),T=f(v,S,E,i.stepped);T[e]=t[e],h.push(T)}return h.length===1?h[0]:h}pathSegment(t,e,i){return zd(this)(t,this,e,i)}path(t,e,i){const o=this.segments,l=zd(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of o)c&=l(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,o){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(t.save(),U2(t,this,i,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}X(Bi,"id","line"),X(Bi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),X(Bi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),X(Bi,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Cv(n,t,e,i){const o=n.options,{[e]:l}=n.getProps([e],i);return Math.abs(t-l)<o.radius+o.hitRadius}class Ac extends En{constructor(e){super();X(this,"parsed");X(this,"skip");X(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,o){const l=this.options,{x:c,y:h}=this.getProps(["x","y"],o);return Math.pow(e-c,2)+Math.pow(i-h,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(e,i){return Cv(this,e,"x",i)}inYRange(e,i){return Cv(this,e,"y",i)}getCenterPoint(e){const{x:i,y:o}=this.getProps(["x","y"],e);return{x:i,y:o}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const o=i&&e.borderWidth||0;return(i+o)*2}draw(e,i){const o=this.options;this.skip||o.radius<.1||!ai(this,i,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,Rd(e,o,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}X(Ac,"id","point"),X(Ac,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),X(Ac,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function rx(n,t){const{x:e,y:i,base:o,width:l,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,g,m,_;return n.horizontal?(_=c/2,h=Math.min(e,o),f=Math.max(e,o),g=i-_,m=i+_):(_=l/2,h=e-_,f=e+_,g=Math.min(i,o),m=Math.max(i,o)),{left:h,top:g,right:f,bottom:m}}function Hi(n,t,e,i){return n?0:ve(t,e,i)}function V2(n,t,e){const i=n.options.borderWidth,o=n.borderSkipped,l=IS(i);return{t:Hi(o.top,l.top,0,e),r:Hi(o.right,l.right,0,t),b:Hi(o.bottom,l.bottom,0,e),l:Hi(o.left,l.left,0,t)}}function F2(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,l=As(o),c=Math.min(t,e),h=n.borderSkipped,f=i||xt(o);return{topLeft:Hi(!f||h.top||h.left,l.topLeft,0,c),topRight:Hi(!f||h.top||h.right,l.topRight,0,c),bottomLeft:Hi(!f||h.bottom||h.left,l.bottomLeft,0,c),bottomRight:Hi(!f||h.bottom||h.right,l.bottomRight,0,c)}}function j2(n){const t=rx(n),e=t.right-t.left,i=t.bottom-t.top,o=V2(n,e/2,i/2),l=F2(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:l},inner:{x:t.left+o.l,y:t.top+o.t,w:e-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,l.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(o.b,o.r))}}}}function sd(n,t,e,i){const o=t===null,l=e===null,h=n&&!(o&&l)&&rx(n,i);return h&&(o||ii(t,h.left,h.right))&&(l||ii(e,h.top,h.bottom))}function Y2(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function q2(n,t){n.rect(t.x,t.y,t.w,t.h)}function ad(n,t,e={}){const i=n.x!==e.x?-t:0,o=n.y!==e.y?-t:0,l=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-o;return{x:n.x+i,y:n.y+o,w:n.w+l,h:n.h+c,radius:n.radius}}class wc extends En{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:o}}=this,{inner:l,outer:c}=j2(this),h=Y2(c.radius)?Dl:q2;t.save(),(c.w!==l.w||c.h!==l.h)&&(t.beginPath(),h(t,ad(c,e,l)),t.clip(),h(t,ad(l,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,ad(l,e)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,e,i){return sd(this,t,e,i)}inXRange(t,e){return sd(this,t,null,e)}inYRange(t,e){return sd(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:o,horizontal:l}=this.getProps(["x","y","base","horizontal"],t);return{x:l?(e+o)/2:e,y:l?i:(i+o)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}X(wc,"id","bar"),X(wc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),X(wc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var G2=Object.freeze({__proto__:null,ArcElement:nl,BarElement:wc,LineElement:Bi,PointElement:Ac});const Id=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Tv=Id.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function cx(n){return Id[n%Id.length]}function ux(n){return Tv[n%Tv.length]}function W2(n,t){return n.borderColor=cx(t),n.backgroundColor=ux(t),++t}function X2(n,t){return n.backgroundColor=n.data.map(()=>cx(t++)),t}function Q2(n,t){return n.backgroundColor=n.data.map(()=>ux(t++)),t}function K2(n){let t=0;return(e,i)=>{const o=n.getDatasetMeta(i).controller;o instanceof Ms?t=X2(e,t):o instanceof pl?t=Q2(e,t):o&&(t=W2(e,t))}}function Mv(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function Z2(n){return n&&(n.borderColor||n.backgroundColor)}function $2(){return Gt.borderColor!=="rgba(0,0,0,0.1)"||Gt.backgroundColor!=="rgba(0,0,0,0.1)"}var J2={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:o}=n.config,{elements:l}=o,c=Mv(i)||Z2(o)||l&&Mv(l)||$2();if(!e.forceOverride&&c)return;const h=K2(n);i.forEach(h)}};function tN(n,t,e,i,o){const l=o.samples||i;if(l>=e)return n.slice(t,t+e);const c=[],h=(e-2)/(l-2);let f=0;const g=t+e-1;let m=t,_,y,v,S,E;for(c[f++]=n[m],_=0;_<l-2;_++){let T=0,D=0,N;const H=Math.floor((_+1)*h)+1+t,P=Math.min(Math.floor((_+2)*h)+1,e)+t,L=P-H;for(N=H;N<P;N++)T+=n[N].x,D+=n[N].y;T/=L,D/=L;const Y=Math.floor(_*h)+1+t,q=Math.min(Math.floor((_+1)*h)+1,e)+t,{x:W,y:V}=n[m];for(v=S=-1,N=Y;N<q;N++)S=.5*Math.abs((W-T)*(n[N].y-V)-(W-n[N].x)*(D-V)),S>v&&(v=S,y=n[N],E=N);c[f++]=y,m=E}return c[f++]=n[g],c}function eN(n,t,e,i){let o=0,l=0,c,h,f,g,m,_,y,v,S,E;const T=[],D=t+e-1,N=n[t].x,P=n[D].x-N;for(c=t;c<t+e;++c){h=n[c],f=(h.x-N)/P*i,g=h.y;const L=f|0;if(L===m)g<S?(S=g,_=c):g>E&&(E=g,y=c),o=(l*o+h.x)/++l;else{const Y=c-1;if(!St(_)&&!St(y)){const q=Math.min(_,y),W=Math.max(_,y);q!==v&&q!==Y&&T.push({...n[q],x:o}),W!==v&&W!==Y&&T.push({...n[W],x:o})}c>0&&Y!==v&&T.push(n[Y]),T.push(h),m=L,l=0,S=E=g,_=y=v=c}}return T}function hx(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Av(n){n.data.datasets.forEach(t=>{hx(t)})}function nN(n,t){const e=t.length;let i=0,o;const{iScale:l}=n,{min:c,max:h,minDefined:f,maxDefined:g}=l.getUserBounds();return f&&(i=ve(si(t,l.axis,c).lo,0,e-1)),g?o=ve(si(t,l.axis,h).hi+1,i,e)-i:o=e-i,{start:i,count:o}}var iN={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){Av(n);return}const i=n.width;n.data.datasets.forEach((o,l)=>{const{_data:c,indexAxis:h}=o,f=n.getDatasetMeta(l),g=c||o.data;if(tl([h,n.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const m=n.scales[f.xAxisID];if(m.type!=="linear"&&m.type!=="time"||n.options.parsing)return;let{start:_,count:y}=nN(f,g);const v=e.threshold||4*i;if(y<=v){hx(o);return}St(c)&&(o._data=g,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(E){this._data=E}}));let S;switch(e.algorithm){case"lttb":S=tN(g,_,y,i,e);break;case"min-max":S=eN(g,_,y,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}o._decimated=S})},destroy(n){Av(n)}};function sN(n,t,e){const i=n.segments,o=n.points,l=t.points,c=[];for(const h of i){let{start:f,end:g}=h;g=jg(f,g,o);const m=Bd(e,o[f],o[g],h.loop);if(!t.segments){c.push({source:h,target:m,start:o[f],end:o[g]});continue}const _=WS(t,m);for(const y of _){const v=Bd(e,l[y.start],l[y.end],y.loop),S=GS(h,o,v);for(const E of S)c.push({source:E,target:y,start:{[e]:wv(m,v,"start",Math.max)},end:{[e]:wv(m,v,"end",Math.min)}})}}return c}function Bd(n,t,e,i){if(i)return;let o=t[n],l=e[n];return n==="angle"&&(o=Ze(o),l=Ze(l)),{property:n,start:o,end:l}}function aN(n,t){const{x:e=null,y:i=null}=n||{},o=t.points,l=[];return t.segments.forEach(({start:c,end:h})=>{h=jg(c,h,o);const f=o[c],g=o[h];i!==null?(l.push({x:f.x,y:i}),l.push({x:g.x,y:i})):e!==null&&(l.push({x:e,y:f.y}),l.push({x:e,y:g.y}))}),l}function jg(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function wv(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function fx(n,t){let e=[],i=!1;return qt(n)?(i=!0,e=n):e=aN(n,t),e.length?new Bi({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Dv(n){return n&&n.fill!==!1}function oN(n,t,e){let o=n[t].fill;const l=[t];let c;if(!e)return o;for(;o!==!1&&l.indexOf(o)===-1;){if(!ee(o))return o;if(c=n[o],!c)return!1;if(c.visible)return o;l.push(o),o=c.fill}return!1}function lN(n,t,e){const i=hN(n);if(xt(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return ee(o)&&Math.floor(o)===o?rN(i[0],t,o,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function rN(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function cN(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:xt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function uN(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:xt(n)?i=n.value:i=t.getBaseValue(),i}function hN(n){const t=n.options,e=t.fill;let i=ft(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function fN(n){const{scale:t,index:e,line:i}=n,o=[],l=i.segments,c=i.points,h=dN(t,e);h.push(fx({x:null,y:t.bottom},i));for(let f=0;f<l.length;f++){const g=l[f];for(let m=g.start;m<=g.end;m++)gN(o,c[m],h)}return new Bi({points:o,options:{}})}function dN(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){const l=i[o];if(l.index===t)break;l.hidden||e.unshift(l.dataset)}return e}function gN(n,t,e){const i=[];for(let o=0;o<e.length;o++){const l=e[o],{first:c,last:h,point:f}=pN(l,t,"x");if(!(!f||c&&h)){if(c)i.unshift(f);else if(n.push(f),!h)break}}n.push(...i)}function pN(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const o=i[e],l=n.segments,c=n.points;let h=!1,f=!1;for(let g=0;g<l.length;g++){const m=l[g],_=c[m.start][e],y=c[m.end][e];if(ii(o,_,y)){h=o===_,f=o===y;break}}return{first:h,last:f,point:i}}class dx{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:o,y:l,radius:c}=this;return e=e||{start:0,end:Ft},t.arc(o,l,c,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:o}=this,l=t.angle;return{x:e+Math.cos(l)*o,y:i+Math.sin(l)*o,angle:l}}}function mN(n){const{chart:t,fill:e,line:i}=n;if(ee(e))return _N(t,e);if(e==="stack")return fN(n);if(e==="shape")return!0;const o=yN(n);return o instanceof dx?o:fx(o,i)}function _N(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function yN(n){return(n.scale||{}).getPointPositionForValue?vN(n):bN(n)}function bN(n){const{scale:t={},fill:e}=n,i=cN(e,t);if(ee(i)){const o=t.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function vN(n){const{scale:t,fill:e}=n,i=t.options,o=t.getLabels().length,l=i.reverse?t.max:t.min,c=uN(e,t,l),h=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,l);return new dx({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(c)})}for(let f=0;f<o;++f)h.push(t.getPointPositionForValue(f,c));return h}function od(n,t,e){const i=mN(t),{line:o,scale:l,axis:c}=t,h=o.options,f=h.fill,g=h.backgroundColor,{above:m=g,below:_=g}=f||{};i&&o.points.length&&(pu(n,e),SN(n,{line:o,target:i,above:m,below:_,area:e,scale:l,axis:c}),mu(n))}function SN(n,t){const{line:e,target:i,above:o,below:l,area:c,scale:h}=t,f=e._loop?"angle":t.axis;n.save(),f==="x"&&l!==o&&(Ov(n,i,c.top),Rv(n,{line:e,target:i,color:o,scale:h,property:f}),n.restore(),n.save(),Ov(n,i,c.bottom)),Rv(n,{line:e,target:i,color:l,scale:h,property:f}),n.restore()}function Ov(n,t,e){const{segments:i,points:o}=t;let l=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:g}=h,m=o[f],_=o[jg(f,g,o)];l?(n.moveTo(m.x,m.y),l=!1):(n.lineTo(m.x,e),n.lineTo(m.x,m.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(_.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Rv(n,t){const{line:e,target:i,property:o,color:l,scale:c}=t,h=sN(e,i,o);for(const{source:f,target:g,start:m,end:_}of h){const{style:{backgroundColor:y=l}={}}=f,v=i!==!0;n.save(),n.fillStyle=y,xN(n,c,v&&Bd(o,m,_)),n.beginPath();const S=!!e.pathSegment(n,f);let E;if(v){S?n.closePath():Nv(n,i,_,o);const T=!!i.pathSegment(n,g,{move:S,reverse:!0});E=S&&T,E||Nv(n,i,m,o)}n.closePath(),n.fill(E?"evenodd":"nonzero"),n.restore()}}function xN(n,t,e){const{top:i,bottom:o}=t.chart.chartArea,{property:l,start:c,end:h}=e||{};l==="x"&&(n.beginPath(),n.rect(c,i,h-c,o-i),n.clip())}function Nv(n,t,e,i){const o=t.interpolate(e,i);o&&n.lineTo(o.x,o.y)}var EN={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,o=[];let l,c,h,f;for(c=0;c<i;++c)l=n.getDatasetMeta(c),h=l.dataset,f=null,h&&h.options&&h instanceof Bi&&(f={visible:n.isDatasetVisible(c),index:c,fill:lN(h,c,i),chart:n,axis:l.controller.options.indexAxis,scale:l.vScale,line:h}),l.$filler=f,o.push(f);for(c=0;c<i;++c)f=o[c],!(!f||f.fill===!1)&&(f.fill=oN(o,c,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",o=n.getSortedVisibleDatasetMetas(),l=n.chartArea;for(let c=o.length-1;c>=0;--c){const h=o[c].$filler;h&&(h.line.updateControlPoints(l,h.axis),i&&h.fill&&od(n.ctx,h,l))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){const l=i[o].$filler;Dv(l)&&od(n.ctx,l,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!Dv(i)||e.drawTime!=="beforeDatasetDraw"||od(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const kv=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},CN=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Lv extends En{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Ht(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,o)=>t.sort(i,o,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,o=ue(i.font),l=o.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=kv(i,l);let g,m;e.font=o.string,this.isHorizontal()?(g=this.maxWidth,m=this._fitRows(c,l,h,f)+10):(m=this.maxHeight,g=this._fitCols(c,o,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,o){const{ctx:l,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],m=o+h;let _=t;l.textAlign="left",l.textBaseline="middle";let y=-1,v=-m;return this.legendItems.forEach((S,E)=>{const T=i+e/2+l.measureText(S.text).width;(E===0||g[g.length-1]+T+2*h>c)&&(_+=m,g[g.length-(E>0?0:1)]=0,v+=m,y++),f[E]={left:0,top:v,row:y,width:T,height:o},g[g.length-1]+=T+h}),_}_fitCols(t,e,i,o){const{ctx:l,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],m=c-t;let _=h,y=0,v=0,S=0,E=0;return this.legendItems.forEach((T,D)=>{const{itemWidth:N,itemHeight:H}=TN(i,e,l,T,o);D>0&&v+H+2*h>m&&(_+=y+h,g.push({width:y,height:v}),S+=y+h,E++,y=v=0),f[D]={left:S,top:v,col:E,width:N,height:H},y=Math.max(y,N),v+=H+h}),_+=y,g.push({width:y,height:v}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:o},rtl:l}}=this,c=Oa(l,this.left,this.width);if(this.isHorizontal()){let h=0,f=De(i,this.left+o,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=De(i,this.left+o,this.right-this.lineWidths[h])),g.top+=this.top+t+o,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+o}else{let h=0,f=De(i,this.top+t+o,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=De(i,this.top+t+o,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+o,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;pu(t,this),this._draw(),mu(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:o}=this,{align:l,labels:c}=t,h=Gt.color,f=Oa(t.rtl,this.left,this.width),g=ue(c.font),{padding:m}=c,_=g.size,y=_/2;let v;this.drawTitle(),o.textAlign=f.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=g.string;const{boxWidth:S,boxHeight:E,itemHeight:T}=kv(c,_),D=function(Y,q,W){if(isNaN(S)||S<=0||isNaN(E)||E<0)return;o.save();const V=ft(W.lineWidth,1);if(o.fillStyle=ft(W.fillStyle,h),o.lineCap=ft(W.lineCap,"butt"),o.lineDashOffset=ft(W.lineDashOffset,0),o.lineJoin=ft(W.lineJoin,"miter"),o.lineWidth=V,o.strokeStyle=ft(W.strokeStyle,h),o.setLineDash(ft(W.lineDash,[])),c.usePointStyle){const K={radius:E*Math.SQRT2/2,pointStyle:W.pointStyle,rotation:W.rotation,borderWidth:V},st=f.xPlus(Y,S/2),rt=q+y;zS(o,K,st,rt,c.pointStyleWidth&&S)}else{const K=q+Math.max((_-E)/2,0),st=f.leftForLtr(Y,S),rt=As(W.borderRadius);o.beginPath(),Object.values(rt).some(Ot=>Ot!==0)?Dl(o,{x:st,y:K,w:S,h:E,radius:rt}):o.rect(st,K,S,E),o.fill(),V!==0&&o.stroke()}o.restore()},N=function(Y,q,W){Ls(o,W.text,Y,q+T/2,g,{strikethrough:W.hidden,textAlign:f.textAlign(W.textAlign)})},H=this.isHorizontal(),P=this._computeTitleHeight();H?v={x:De(l,this.left+m,this.right-i[0]),y:this.top+m+P,line:0}:v={x:this.left+m,y:De(l,this.top+P+m,this.bottom-e[0].height),line:0},jS(this.ctx,t.textDirection);const L=T+m;this.legendItems.forEach((Y,q)=>{o.strokeStyle=Y.fontColor,o.fillStyle=Y.fontColor;const W=o.measureText(Y.text).width,V=f.textAlign(Y.textAlign||(Y.textAlign=c.textAlign)),K=S+y+W;let st=v.x,rt=v.y;f.setWidth(this.width),H?q>0&&st+K+m>this.right&&(rt=v.y+=L,v.line++,st=v.x=De(l,this.left+m,this.right-i[v.line])):q>0&&rt+L>this.bottom&&(st=v.x=st+e[v.line].width+m,v.line++,rt=v.y=De(l,this.top+P+m,this.bottom-e[v.line].height));const Ot=f.x(st);if(D(Ot,rt,Y),st=qD(V,st+S+y,H?st+K:this.right,t.rtl),N(f.x(st),rt,Y),H)v.x+=K+m;else if(typeof Y.text!="string"){const Wt=g.lineHeight;v.y+=gx(Y,Wt)+m}else v.y+=L}),YS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=ue(e.font),o=Re(e.padding);if(!e.display)return;const l=Oa(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,g=o.top+f;let m,_=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+g,_=De(t.align,_,this.right-y);else{const S=this.columnSizes.reduce((E,T)=>Math.max(E,T.height),0);m=g+De(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const v=De(h,_,_+y);c.textAlign=l.textAlign(Lg(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Ls(c,e.text,v,m,i)}_computeTitleHeight(){const t=this.options.title,e=ue(t.font),i=Re(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,o,l;if(ii(t,this.left,this.right)&&ii(e,this.top,this.bottom)){for(l=this.legendHitBoxes,i=0;i<l.length;++i)if(o=l[i],ii(t,o.left,o.left+o.width)&&ii(e,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!wN(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const o=this._hoveredItem,l=CN(o,i);o&&!l&&Ht(e.onLeave,[t,o,this],this),this._hoveredItem=i,i&&!l&&Ht(e.onHover,[t,i,this],this)}else i&&Ht(e.onClick,[t,i,this],this)}}function TN(n,t,e,i,o){const l=MN(i,n,t,e),c=AN(o,i,t.lineHeight);return{itemWidth:l,itemHeight:c}}function MN(n,t,e,i){let o=n.text;return o&&typeof o!="string"&&(o=o.reduce((l,c)=>l.length>c.length?l:c)),t+e.size/2+i.measureText(o).width}function AN(n,t,e){let i=n;return typeof t.text!="string"&&(i=gx(t,e)),i}function gx(n,t){const e=n.text?n.text.length:0;return t*e}function wN(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var DN={id:"legend",_element:Lv,start(n,t,e){const i=n.legend=new Lv({ctx:n.ctx,options:e,chart:n});Oe.configure(n,i,e),Oe.addBox(n,i)},stop(n){Oe.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Oe.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,o=e.chart;o.isDatasetVisible(i)?(o.hide(i),t.hidden=!0):(o.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:o,color:l,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),m=Re(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:l,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:o||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Yg extends En{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const o=qt(i.text)?i.text.length:1;this._padding=Re(i.padding);const l=o*ue(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:o,right:l,options:c}=this,h=c.align;let f=0,g,m,_;return this.isHorizontal()?(m=De(h,i,l),_=e+t,g=l-i):(c.position==="left"?(m=i+t,_=De(h,o,e),f=jt*-.5):(m=l-t,_=De(h,e,o),f=jt*.5),g=o-e),{titleX:m,titleY:_,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=ue(e.font),l=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(l);Ls(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:g,textAlign:Lg(e.align),textBaseline:"middle",translation:[c,h]})}}function ON(n,t){const e=new Yg({ctx:n.ctx,options:t,chart:n});Oe.configure(n,e,t),Oe.addBox(n,e),n.titleBlock=e}var RN={id:"title",_element:Yg,start(n,t,e){ON(n,e)},stop(n){const t=n.titleBlock;Oe.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Oe.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mc=new WeakMap;var NN={id:"subtitle",start(n,t,e){const i=new Yg({ctx:n.ctx,options:e,chart:n});Oe.configure(n,i,e),Oe.addBox(n,i),mc.set(n,i)},stop(n){Oe.removeBox(n,mc.get(n)),mc.delete(n)},beforeUpdate(n,t,e){const i=mc.get(n);Oe.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const il={average(n){if(!n.length)return!1;let t,e,i=new Set,o=0,l=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),o+=f.y,++l}}return l===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:o/l}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,o=Number.POSITIVE_INFINITY,l,c,h;for(l=0,c=n.length;l<c;++l){const f=n[l].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),m=Dd(t,g);m<o&&(o=m,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Rn(n,t){return t&&(qt(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ti(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function kN(n,t){const{element:e,datasetIndex:i,index:o}=t,l=n.getDatasetMeta(i).controller,{label:c,value:h}=l.getLabelAndValue(o);return{chart:n,label:c,parsed:l.getParsed(o),raw:n.data.datasets[i].data[o],formattedValue:h,dataset:l.getDataset(),dataIndex:o,datasetIndex:i,element:e}}function zv(n,t){const e=n.chart.ctx,{body:i,footer:o,title:l}=n,{boxWidth:c,boxHeight:h}=t,f=ue(t.bodyFont),g=ue(t.titleFont),m=ue(t.footerFont),_=l.length,y=o.length,v=i.length,S=Re(t.padding);let E=S.height,T=0,D=i.reduce((P,L)=>P+L.before.length+L.lines.length+L.after.length,0);if(D+=n.beforeBody.length+n.afterBody.length,_&&(E+=_*g.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),D){const P=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;E+=v*P+(D-v)*f.lineHeight+(D-1)*t.bodySpacing}y&&(E+=t.footerMarginTop+y*m.lineHeight+(y-1)*t.footerSpacing);let N=0;const H=function(P){T=Math.max(T,e.measureText(P).width+N)};return e.save(),e.font=g.string,Dt(n.title,H),e.font=f.string,Dt(n.beforeBody.concat(n.afterBody),H),N=t.displayColors?c+2+t.boxPadding:0,Dt(i,P=>{Dt(P.before,H),Dt(P.lines,H),Dt(P.after,H)}),N=0,e.font=m.string,Dt(n.footer,H),e.restore(),T+=S.width,{width:T,height:E}}function LN(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function zN(n,t,e,i){const{x:o,width:l}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&o+l+c>t.width||n==="right"&&o-l-c<0)return!0}function IN(n,t,e,i){const{x:o,width:l}=e,{width:c,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=o<=(h+f)/2?"left":"right":o<=l/2?g="left":o>=c-l/2&&(g="right"),zN(g,n,t,e)&&(g="center"),g}function Iv(n,t,e){const i=e.yAlign||t.yAlign||LN(n,e);return{xAlign:e.xAlign||t.xAlign||IN(n,t,e,i),yAlign:i}}function BN(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function HN(n,t,e){let{y:i,height:o}=n;return t==="top"?i+=e:t==="bottom"?i-=o+e:i-=o/2,i}function Bv(n,t,e,i){const{caretSize:o,caretPadding:l,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,g=o+l,{topLeft:m,topRight:_,bottomLeft:y,bottomRight:v}=As(c);let S=BN(t,h);const E=HN(t,f,g);return f==="center"?h==="left"?S+=g:h==="right"&&(S-=g):h==="left"?S-=Math.max(m,y)+o:h==="right"&&(S+=Math.max(_,v)+o),{x:ve(S,0,i.width-t.width),y:ve(E,0,i.height-t.height)}}function _c(n,t,e){const i=Re(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Hv(n){return Rn([],ti(n))}function PN(n,t,e){return Xi(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Pv(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const px={beforeTitle:$n,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:$n,beforeBody:$n,beforeLabel:$n,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return St(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:$n,afterBody:$n,beforeFooter:$n,footer:$n,afterFooter:$n};function Pe(n,t,e,i){const o=n[t].call(e,i);return typeof o>"u"?px[t].call(e,i):o}class Hd extends En{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&e.options.animation&&i.animations,l=new XS(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=PN(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,o=Pe(i,"beforeTitle",this,t),l=Pe(i,"title",this,t),c=Pe(i,"afterTitle",this,t);let h=[];return h=Rn(h,ti(o)),h=Rn(h,ti(l)),h=Rn(h,ti(c)),h}getBeforeBody(t,e){return Hv(Pe(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,o=[];return Dt(t,l=>{const c={before:[],lines:[],after:[]},h=Pv(i,l);Rn(c.before,ti(Pe(h,"beforeLabel",this,l))),Rn(c.lines,Pe(h,"label",this,l)),Rn(c.after,ti(Pe(h,"afterLabel",this,l))),o.push(c)}),o}getAfterBody(t,e){return Hv(Pe(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,o=Pe(i,"beforeFooter",this,t),l=Pe(i,"footer",this,t),c=Pe(i,"afterFooter",this,t);let h=[];return h=Rn(h,ti(o)),h=Rn(h,ti(l)),h=Rn(h,ti(c)),h}_createItems(t){const e=this._active,i=this.chart.data,o=[],l=[],c=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(kN(this.chart,e[f]));return t.filter&&(h=h.filter((m,_,y)=>t.filter(m,_,y,i))),t.itemSort&&(h=h.sort((m,_)=>t.itemSort(m,_,i))),Dt(h,m=>{const _=Pv(t.callbacks,m);o.push(Pe(_,"labelColor",this,m)),l.push(Pe(_,"labelPointStyle",this,m)),c.push(Pe(_,"labelTextColor",this,m))}),this.labelColors=o,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),o=this._active;let l,c=[];if(!o.length)this.opacity!==0&&(l={opacity:0});else{const h=il[i.position].call(this,o,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=zv(this,i),g=Object.assign({},h,f),m=Iv(this.chart,i,g),_=Bv(i,g,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,l={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,o){const l=this.getCaretPosition(t,i,o);e.lineTo(l.x1,l.y1),e.lineTo(l.x2,l.y2),e.lineTo(l.x3,l.y3)}getCaretPosition(t,e,i){const{xAlign:o,yAlign:l}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:m,bottomRight:_}=As(h),{x:y,y:v}=t,{width:S,height:E}=e;let T,D,N,H,P,L;return l==="center"?(P=v+E/2,o==="left"?(T=y,D=T-c,H=P+c,L=P-c):(T=y+S,D=T+c,H=P-c,L=P+c),N=T):(o==="left"?D=y+Math.max(f,m)+c:o==="right"?D=y+S-Math.max(g,_)-c:D=this.caretX,l==="top"?(H=v,P=H-c,T=D-c,N=D+c):(H=v+E,P=H+c,T=D+c,N=D-c),L=H),{x1:T,x2:D,x3:N,y1:H,y2:P,y3:L}}drawTitle(t,e,i){const o=this.title,l=o.length;let c,h,f;if(l){const g=Oa(i.rtl,this.x,this.width);for(t.x=_c(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=ue(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<l;++f)e.fillText(o[f],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===l&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,o,l){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=l,m=ue(l.bodyFont),_=_c(this,"left",l),y=o.x(_),v=f<m.lineHeight?(m.lineHeight-f)/2:0,S=e.y+v;if(l.usePointStyle){const E={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},T=o.leftForLtr(y,g)+g/2,D=S+f/2;t.strokeStyle=l.multiKeyBackground,t.fillStyle=l.multiKeyBackground,Rd(t,E,T,D),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Rd(t,E,T,D)}else{t.lineWidth=xt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const E=o.leftForLtr(y,g),T=o.leftForLtr(o.xPlus(y,1),g-2),D=As(c.borderRadius);Object.values(D).some(N=>N!==0)?(t.beginPath(),t.fillStyle=l.multiKeyBackground,Dl(t,{x:E,y:S,w:g,h:f,radius:D}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Dl(t,{x:T,y:S+1,w:g-2,h:f-2,radius:D}),t.fill()):(t.fillStyle=l.multiKeyBackground,t.fillRect(E,S,g,f),t.strokeRect(E,S,g,f),t.fillStyle=c.backgroundColor,t.fillRect(T,S+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:o}=this,{bodySpacing:l,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:m}=i,_=ue(i.bodyFont);let y=_.lineHeight,v=0;const S=Oa(i.rtl,this.x,this.width),E=function(W){e.fillText(W,S.x(t.x+v),t.y+y/2),t.y+=y+l},T=S.textAlign(c);let D,N,H,P,L,Y,q;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=_c(this,T,i),e.fillStyle=i.bodyColor,Dt(this.beforeBody,E),v=h&&T!=="right"?c==="center"?g/2+m:g+2+m:0,P=0,Y=o.length;P<Y;++P){for(D=o[P],N=this.labelTextColors[P],e.fillStyle=N,Dt(D.before,E),H=D.lines,h&&H.length&&(this._drawColorBox(e,t,P,S,i),y=Math.max(_.lineHeight,f)),L=0,q=H.length;L<q;++L)E(H[L]),y=_.lineHeight;Dt(D.after,E)}v=0,y=_.lineHeight,Dt(this.afterBody,E),t.y-=l}drawFooter(t,e,i){const o=this.footer,l=o.length;let c,h;if(l){const f=Oa(i.rtl,this.x,this.width);for(t.x=_c(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=ue(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<l;++h)e.fillText(o[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,o){const{xAlign:l,yAlign:c}=this,{x:h,y:f}=t,{width:g,height:m}=i,{topLeft:_,topRight:y,bottomLeft:v,bottomRight:S}=As(o.cornerRadius);e.fillStyle=o.backgroundColor,e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.beginPath(),e.moveTo(h+_,f),c==="top"&&this.drawCaret(t,e,i,o),e.lineTo(h+g-y,f),e.quadraticCurveTo(h+g,f,h+g,f+y),c==="center"&&l==="right"&&this.drawCaret(t,e,i,o),e.lineTo(h+g,f+m-S),e.quadraticCurveTo(h+g,f+m,h+g-S,f+m),c==="bottom"&&this.drawCaret(t,e,i,o),e.lineTo(h+v,f+m),e.quadraticCurveTo(h,f+m,h,f+m-v),c==="center"&&l==="left"&&this.drawCaret(t,e,i,o),e.lineTo(h,f+_),e.quadraticCurveTo(h,f,h+_,f),e.closePath(),e.fill(),o.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,o=i&&i.x,l=i&&i.y;if(o||l){const c=il[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=zv(this,t),f=Object.assign({},c,this._size),g=Iv(e,t,f),m=Bv(t,f,g,e);(o._to!==m.x||l._to!==m.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const o={width:this.width,height:this.height},l={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=Re(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(l,t,o,e),jS(t,e.textDirection),l.y+=c.top,this.drawTitle(l,t,e),this.drawBody(l,t,e),this.drawFooter(l,t,e),YS(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,o=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),l=!Wc(i,o),c=this._positionChanged(o,e);(l||c)&&(this._active=o,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,l=this._active||[],c=this._getActiveElements(t,l,e,i),h=this._positionChanged(c,t),f=e||!Wc(c,l)||h;return f&&(this._active=c,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,o){const l=this.options;if(t.type==="mouseout")return[];if(!o)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,l.mode,l,i);return l.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:o,options:l}=this,c=il[l.position].call(this,t,e);return c!==!1&&(i!==c.x||o!==c.y)}}X(Hd,"positioners",il);var UN={id:"tooltip",_element:Hd,positioners:il,afterInit(n,t,e){e&&(n.tooltip=new Hd({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:px},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},VN=Object.freeze({__proto__:null,Colors:J2,Decimation:iN,Filler:EN,Legend:DN,SubTitle:NN,Title:RN,Tooltip:UN});const FN=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function jN(n,t,e,i){const o=n.indexOf(t);if(o===-1)return FN(n,t,e,i);const l=n.lastIndexOf(t);return o!==l?e:o}const YN=(n,t)=>n===null?null:ve(Math.round(n),0,t);function Uv(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Pd extends Bs{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:o,label:l}of e)i[o]===l&&i.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(St(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:jN(i,t,ft(e,t),this._addedLabels),YN(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,o=[];let l=this.getLabels();l=t===0&&e===l.length-1?l:l.slice(t,e+1),this._valueRange=Math.max(l.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)o.push({value:c});return o}getLabelForValue(t){return Uv.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}X(Pd,"id","category"),X(Pd,"defaults",{ticks:{callback:Uv}});function qN(n,t){const e=[],{bounds:o,step:l,min:c,max:h,precision:f,count:g,maxTicks:m,maxDigits:_,includeBounds:y}=n,v=l||1,S=m-1,{min:E,max:T}=t,D=!St(c),N=!St(h),H=!St(g),P=(T-E)/(_+1);let L=zb((T-E)/S/v)*v,Y,q,W,V;if(L<1e-14&&!D&&!N)return[{value:E},{value:T}];V=Math.ceil(T/L)-Math.floor(E/L),V>S&&(L=zb(V*L/S/v)*v),St(f)||(Y=Math.pow(10,f),L=Math.ceil(L*Y)/Y),o==="ticks"?(q=Math.floor(E/L)*L,W=Math.ceil(T/L)*L):(q=E,W=T),D&&N&&l&&HD((h-c)/l,L/1e3)?(V=Math.round(Math.min((h-c)/L,m)),L=(h-c)/V,q=c,W=h):H?(q=D?c:q,W=N?h:W,V=g-1,L=(W-q)/V):(V=(W-q)/L,hl(V,Math.round(V),L/1e3)?V=Math.round(V):V=Math.ceil(V));const K=Math.max(Ib(L),Ib(q));Y=Math.pow(10,St(f)?K:f),q=Math.round(q*Y)/Y,W=Math.round(W*Y)/Y;let st=0;for(D&&(y&&q!==c?(e.push({value:c}),q<c&&st++,hl(Math.round((q+st*L)*Y)/Y,c,Vv(c,P,n))&&st++):q<c&&st++);st<V;++st){const rt=Math.round((q+st*L)*Y)/Y;if(N&&rt>h)break;e.push({value:rt})}return N&&y&&W!==h?e.length&&hl(e[e.length-1].value,h,Vv(h,P,n))?e[e.length-1].value=h:e.push({value:h}):(!N||W===h)&&e.push({value:W}),e}function Vv(n,t,{horizontal:e,minRotation:i}){const o=bn(i),l=(e?Math.sin(o):Math.cos(o))||.001,c=.75*t*(""+n).length;return Math.min(t/l,c)}class tu extends Bs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return St(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:o,max:l}=this;const c=f=>o=e?o:f,h=f=>l=i?l:f;if(t){const f=kn(o),g=kn(l);f<0&&g<0?h(0):f>0&&g>0&&c(0)}if(o===l){let f=l===0?1:Math.abs(l*.05);h(l+f),t||c(o-f)}this.min=o,this.max=l}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),e=e||11),e&&(o=Math.min(e,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},l=this._range||this,c=qN(o,l);return t.bounds==="ticks"&&MS(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const o=(i-e)/Math.max(t.length-1,1)/2;e-=o,i+=o}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Vl(t,this.chart.options.locale,this.options.ticks.format)}}class Ud extends tu{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ee(t)?t:0,this.max=ee(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=bn(this.options.ticks.minRotation),o=(t?Math.sin(i):Math.cos(i))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,l.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}X(Ud,"id","linear"),X(Ud,"defaults",{ticks:{callback:gu.formatters.numeric}});const Rl=n=>Math.floor(Ii(n)),vs=(n,t)=>Math.pow(10,Rl(n)+t);function Fv(n){return n/Math.pow(10,Rl(n))===1}function jv(n,t,e){const i=Math.pow(10,e),o=Math.floor(n/i);return Math.ceil(t/i)-o}function GN(n,t){const e=t-n;let i=Rl(e);for(;jv(n,t,i)>10;)i++;for(;jv(n,t,i)<10;)i--;return Math.min(i,Rl(n))}function WN(n,{min:t,max:e}){t=Ke(n.min,t);const i=[],o=Rl(t);let l=GN(t,e),c=l<0?Math.pow(10,Math.abs(l)):1;const h=Math.pow(10,l),f=o>l?Math.pow(10,o):0,g=Math.round((t-f)*c)/c,m=Math.floor((t-f)/h/10)*h*10;let _=Math.floor((g-m)/Math.pow(10,l)),y=Ke(n.min,Math.round((f+m+_*Math.pow(10,l))*c)/c);for(;y<e;)i.push({value:y,major:Fv(y),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(l++,_=2,c=l>=0?1:c),y=Math.round((f+m+_*Math.pow(10,l))*c)/c;const v=Ke(n.max,y);return i.push({value:v,major:Fv(v),significand:_}),i}class Vd extends Bs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=tu.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return ee(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ee(t)?Math.max(0,t):null,this.max=ee(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ee(this._userMin)&&(this.min=t===vs(this.min,0)?vs(this.min,-1):vs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,o=this.max;const l=h=>i=t?i:h,c=h=>o=e?o:h;i===o&&(i<=0?(l(1),c(10)):(l(vs(i,-1)),c(vs(o,1)))),i<=0&&l(vs(o,-1)),o<=0&&c(vs(i,1)),this.min=i,this.max=o}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=WN(e,this);return t.bounds==="ticks"&&MS(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Vl(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ii(t),this._valueRange=Ii(this.max)-Ii(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ii(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}X(Vd,"id","logarithmic"),X(Vd,"defaults",{ticks:{callback:gu.formatters.logarithmic,major:{enabled:!0}}});function Fd(n){const t=n.ticks;if(t.display&&n.display){const e=Re(t.backdropPadding);return ft(t.font&&t.font.size,Gt.font.size)+e.height}return 0}function XN(n,t,e){return e=qt(e)?e:[e],{w:eO(n,t.string,e),h:e.length*t.lineHeight}}function Yv(n,t,e,i,o){return n===i||n===o?{start:t-e/2,end:t+e/2}:n<i||n>o?{start:t-e,end:t}:{start:t,end:t+e}}function QN(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],o=[],l=n._pointLabels.length,c=n.options.pointLabels,h=c.centerPointLabels?jt/l:0;for(let f=0;f<l;f++){const g=c.setContext(n.getPointLabelContext(f));o[f]=g.padding;const m=n.getPointPosition(f,n.drawingArea+o[f],h),_=ue(g.font),y=XN(n.ctx,_,n._pointLabels[f]);i[f]=y;const v=Ze(n.getIndexAngle(f)+h),S=Math.round(Ng(v)),E=Yv(S,m.x,y.w,0,180),T=Yv(S,m.y,y.h,90,270);KN(e,t,v,E,T)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=JN(n,i,o)}function KN(n,t,e,i,o){const l=Math.abs(Math.sin(e)),c=Math.abs(Math.cos(e));let h=0,f=0;i.start<t.l?(h=(t.l-i.start)/l,n.l=Math.min(n.l,t.l-h)):i.end>t.r&&(h=(i.end-t.r)/l,n.r=Math.max(n.r,t.r+h)),o.start<t.t?(f=(t.t-o.start)/c,n.t=Math.min(n.t,t.t-f)):o.end>t.b&&(f=(o.end-t.b)/c,n.b=Math.max(n.b,t.b+f))}function ZN(n,t,e){const i=n.drawingArea,{extra:o,additionalAngle:l,padding:c,size:h}=e,f=n.getPointPosition(t,i+o+c,l),g=Math.round(Ng(Ze(f.angle+ie))),m=nk(f.y,h.h,g),_=tk(g),y=ek(f.x,h.w,_);return{visible:!0,x:f.x,y:m,textAlign:_,left:y,top:m,right:y+h.w,bottom:m+h.h}}function $N(n,t){if(!t)return!0;const{left:e,top:i,right:o,bottom:l}=n;return!(ai({x:e,y:i},t)||ai({x:e,y:l},t)||ai({x:o,y:i},t)||ai({x:o,y:l},t))}function JN(n,t,e){const i=[],o=n._pointLabels.length,l=n.options,{centerPointLabels:c,display:h}=l.pointLabels,f={extra:Fd(l)/2,additionalAngle:c?jt/o:0};let g;for(let m=0;m<o;m++){f.padding=e[m],f.size=t[m];const _=ZN(n,m,f);i.push(_),h==="auto"&&(_.visible=$N(_,g),_.visible&&(g=_))}return i}function tk(n){return n===0||n===180?"center":n<180?"left":"right"}function ek(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function nk(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function ik(n,t,e){const{left:i,top:o,right:l,bottom:c}=e,{backdropColor:h}=t;if(!St(h)){const f=As(t.borderRadius),g=Re(t.backdropPadding);n.fillStyle=h;const m=i-g.left,_=o-g.top,y=l-i+g.width,v=c-o+g.height;Object.values(f).some(S=>S!==0)?(n.beginPath(),Dl(n,{x:m,y:_,w:y,h:v,radius:f}),n.fill()):n.fillRect(m,_,y,v)}}function sk(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let o=t-1;o>=0;o--){const l=n._pointLabelItems[o];if(!l.visible)continue;const c=i.setContext(n.getPointLabelContext(o));ik(e,c,l);const h=ue(c.font),{x:f,y:g,textAlign:m}=l;Ls(e,n._pointLabels[o],f,g+h.lineHeight/2,h,{color:c.color,textAlign:m,textBaseline:"middle"})}}function mx(n,t,e,i){const{ctx:o}=n;if(e)o.arc(n.xCenter,n.yCenter,t,0,Ft);else{let l=n.getPointPosition(0,t);o.moveTo(l.x,l.y);for(let c=1;c<i;c++)l=n.getPointPosition(c,t),o.lineTo(l.x,l.y)}}function ak(n,t,e,i,o){const l=n.ctx,c=t.circular,{color:h,lineWidth:f}=t;!c&&!i||!h||!f||e<0||(l.save(),l.strokeStyle=h,l.lineWidth=f,l.setLineDash(o.dash||[]),l.lineDashOffset=o.dashOffset,l.beginPath(),mx(n,e,c,i),l.closePath(),l.stroke(),l.restore())}function ok(n,t,e){return Xi(n,{label:e,index:t,type:"pointLabel"})}class sl extends tu{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Re(Fd(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ee(t)&&!isNaN(t)?t:0,this.max=ee(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Fd(this.options))}generateTickLabels(t){tu.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const o=Ht(this.options.pointLabels.callback,[e,i],this);return o||o===0?o:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?QN(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,o){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,o))}getIndexAngle(t){const e=Ft/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ze(t*e+bn(i))}getDistanceFromCenterForValue(t){if(St(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(St(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return ok(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const o=this.getIndexAngle(t)-ie+i;return{x:Math.cos(o)*e+this.xCenter,y:Math.sin(o)*e+this.yCenter,angle:o}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:o,bottom:l}=this._pointLabelItems[t];return{left:e,top:i,right:o,bottom:l}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),mx(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:o,border:l}=e,c=this._pointLabels.length;let h,f,g;if(e.pointLabels.display&&sk(this,c),o.display&&this.ticks.forEach((m,_)=>{if(_!==0||_===0&&this.min<0){f=this.getDistanceFromCenterForValue(m.value);const y=this.getContext(_),v=o.setContext(y),S=l.setContext(y);ak(this,v,f,c,S)}}),i.display){for(t.save(),h=c-1;h>=0;h--){const m=i.setContext(this.getPointLabelContext(h)),{color:_,lineWidth:y}=m;!y||!_||(t.lineWidth=y,t.strokeStyle=_,t.setLineDash(m.borderDash),t.lineDashOffset=m.borderDashOffset,f=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),g=this.getPointPosition(h,f),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(g.x,g.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const o=this.getIndexAngle(0);let l,c;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((h,f)=>{if(f===0&&this.min>=0&&!e.reverse)return;const g=i.setContext(this.getContext(f)),m=ue(g.font);if(l=this.getDistanceFromCenterForValue(this.ticks[f].value),g.showLabelBackdrop){t.font=m.string,c=t.measureText(h.label).width,t.fillStyle=g.backdropColor;const _=Re(g.backdropPadding);t.fillRect(-c/2-_.left,-l-m.size/2-_.top,c+_.width,m.size+_.height)}Ls(t,h.label,0,-l,m,{color:g.color,strokeColor:g.textStrokeColor,strokeWidth:g.textStrokeWidth})}),t.restore()}drawTitle(){}}X(sl,"id","radialLinear"),X(sl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:gu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),X(sl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),X(sl,"descriptors",{angleLines:{_fallback:"grid"}});const vu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ue=Object.keys(vu);function qv(n,t){return n-t}function Gv(n,t){if(St(t))return null;const e=n._adapter,{parser:i,round:o,isoWeekday:l}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ee(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(o&&(c=o==="week"&&(Ba(l)||l===!0)?e.startOf(c,"isoWeek",l):e.startOf(c,o)),+c)}function Wv(n,t,e,i){const o=Ue.length;for(let l=Ue.indexOf(n);l<o-1;++l){const c=vu[Ue[l]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Ue[l]}return Ue[o-1]}function lk(n,t,e,i,o){for(let l=Ue.length-1;l>=Ue.indexOf(e);l--){const c=Ue[l];if(vu[c].common&&n._adapter.diff(o,i,c)>=t-1)return c}return Ue[e?Ue.indexOf(e):0]}function rk(n){for(let t=Ue.indexOf(n)+1,e=Ue.length;t<e;++t)if(vu[Ue[t]].common)return Ue[t]}function Xv(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:o}=kg(e,t),l=e[i]>=t?e[i]:e[o];n[l]=!0}}function ck(n,t,e,i){const o=n._adapter,l=+o.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=l;h<=c;h=+o.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function Qv(n,t,e){const i=[],o={},l=t.length;let c,h;for(c=0;c<l;++c)h=t[c],o[h]=c,i.push({value:h,major:!1});return l===0||!e?i:ck(n,i,o,e)}class Nl extends Bs{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),o=this._adapter=new _R._date(t.adapters.date);o.init(e),ul(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Gv(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:o,max:l,minDefined:c,maxDefined:h}=this.getUserBounds();function f(g){!c&&!isNaN(g.min)&&(o=Math.min(o,g.min)),!h&&!isNaN(g.max)&&(l=Math.max(l,g.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),o=ee(o)&&!isNaN(o)?o:+e.startOf(Date.now(),i),l=ee(l)&&!isNaN(l)?l:+e.endOf(Date.now(),i)+1,this.min=Math.min(o,l-1),this.max=Math.max(o+1,l)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const l=this.min,c=this.max,h=FD(o,l,c);return this._unit=e.unit||(i.autoSkip?Wv(e.minUnit,this.min,this.max,this._getLabelCapacity(l)):lk(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:rk(this._unit),this.initOffsets(o),t.reverse&&h.reverse(),Qv(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,o,l;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?e=1-o:e=(this.getDecimalForValue(t[1])-o)/2,l=this.getDecimalForValue(t[t.length-1]),t.length===1?i=l:i=(l-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=ve(e,0,c),i=ve(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,o=this.options,l=o.time,c=l.unit||Wv(l.minUnit,e,i,this._getLabelCapacity(e)),h=ft(o.ticks.stepSize,1),f=c==="week"?l.isoWeekday:!1,g=Ba(f)||f===!0,m={};let _=e,y,v;if(g&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,g?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const S=o.ticks.source==="data"&&this.getDataTimestamps();for(y=_,v=0;y<i;y=+t.add(y,h,c),v++)Xv(m,y,S);return(y===i||o.bounds==="ticks"||v===1)&&Xv(m,y,S),Object.keys(m).sort(qv).map(E=>+E)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const o=this.options.time.displayFormats,l=this._unit,c=e||o[l];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,o){const l=this.options,c=l.ticks.callback;if(c)return Ht(c,[t,e,i],this);const h=l.time.displayFormats,f=this._unit,g=this._majorUnit,m=f&&h[f],_=g&&h[g],y=i[e],v=g&&_&&y&&y.major;return this._adapter.format(t,o||(v?_:m))}generateTickLabels(t){let e,i,o;for(e=0,i=t.length;e<i;++e)o=t[e],o.label=this._tickFormatFunction(o.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,o=bn(this.isHorizontal()?e.maxRotation:e.minRotation),l=Math.cos(o),c=Math.sin(o),h=this._resolveTickFontOptions(0).size;return{w:i*l+h*c,h:i*c+h*l}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,o=i[e.unit]||i.millisecond,l=this._tickFormatFunction(t,0,Qv(this,[t],this._majorUnit),o),c=this._getLabelSize(l),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(e=0,i=o.length;e<i;++e)t=t.concat(o[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const o=this.getLabels();for(e=0,i=o.length;e<i;++e)t.push(Gv(this,o[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return DS(t.sort(qv))}}X(Nl,"id","time"),X(Nl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function yc(n,t,e){let i=0,o=n.length-1,l,c,h,f;e?(t>=n[i].pos&&t<=n[o].pos&&({lo:i,hi:o}=si(n,"pos",t)),{pos:l,time:h}=n[i],{pos:c,time:f}=n[o]):(t>=n[i].time&&t<=n[o].time&&({lo:i,hi:o}=si(n,"time",t)),{time:l,pos:h}=n[i],{time:c,pos:f}=n[o]);const g=c-l;return g?h+(f-h)*(t-l)/g:h}class jd extends Nl{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=yc(e,this.min),this._tableRange=yc(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,o=[],l=[];let c,h,f,g,m;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=i&&o.push(g);if(o.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=o.length;c<h;++c)m=o[c+1],f=o[c-1],g=o[c],Math.round((m+f)/2)!==g&&l.push({time:g,pos:c/(h-1)});return l}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((o,l)=>o-l)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(yc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return yc(this._table,i*this._tableRange+this._minPos,!0)}}X(jd,"id","timeseries"),X(jd,"defaults",Nl.defaults);var uk=Object.freeze({__proto__:null,CategoryScale:Pd,LinearScale:Ud,LogarithmicScale:Vd,RadialLinearScale:sl,TimeScale:Nl,TimeSeriesScale:jd});const hk=[mR,G2,VN,uk],_x="label";function Kv(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function fk(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function yx(n,t){n.labels=t}function bx(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_x;const i=[];n.datasets=t.map(o=>{const l=n.datasets.find(c=>c[e]===o[e]);return!l||!o.data||i.includes(l)?{...o}:(i.push(l),Object.assign(l,o),l)})}function dk(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_x;const e={labels:[],datasets:[]};return yx(e,n.labels),bx(e,n.datasets,t),e}function gk(n,t){const{height:e=150,width:i=300,redraw:o=!1,datasetIdKey:l,type:c,data:h,options:f,plugins:g=[],fallbackContent:m,updateMode:_,...y}=n,v=me.useRef(null),S=me.useRef(null),E=()=>{v.current&&(S.current=new bu(v.current,{type:c,data:dk(h,l),options:f&&{...f},plugins:g}),Kv(t,S.current))},T=()=>{Kv(t,null),S.current&&(S.current.destroy(),S.current=null)};return me.useEffect(()=>{!o&&S.current&&f&&fk(S.current,f)},[o,f]),me.useEffect(()=>{!o&&S.current&&yx(S.current.config.data,h.labels)},[o,h.labels]),me.useEffect(()=>{!o&&S.current&&h.datasets&&bx(S.current.config.data,h.datasets,l)},[o,h.datasets]),me.useEffect(()=>{S.current&&(o?(T(),setTimeout(E)):S.current.update(_))},[o,f,h.labels,h.datasets,_]),me.useEffect(()=>{S.current&&(T(),setTimeout(E))},[c]),me.useEffect(()=>(E(),()=>T()),[]),$v.createElement("canvas",{ref:v,role:"img",height:e,width:i,...y},m)}const pk=me.forwardRef(gk);function mk(n,t){return bu.register(t),me.forwardRef((e,i)=>$v.createElement(pk,{...e,ref:i,type:n}))}const _k=mk("bar",gl);bu.register(...hk);const bc=["1","2","3","5","8","13","☕"],Zv="Anonymous";function yk(){const[n,t]=me.useState(""),[e]=me.useState(localStorage.getItem("userName")||""),[i]=me.useState(localStorage.getItem("userId")||crypto.randomUUID()),[o,l]=me.useState(null),[c]=me.useState(!1);me.useEffect(()=>{localStorage.setItem("userId",i);const E=new URLSearchParams(window.location.search).get("session");if(E){t(E);const T=Sa(xa,`sessions/${E}`),D=Yw(T,N=>{l(N.val())});return()=>D()}},[i]);const h=async()=>{const S=crypto.randomUUID();await Fw(Sa(xa,`sessions/${S}`),{participants:{[i]:{name:e||Zv,vote:null,isAdmin:!0}},revealed:!1}),window.history.pushState({},"",`?session=${S}`),t(S)},f=async()=>{n&&await sc(Sa(xa,`sessions/${n}/participants/${i}`),{name:e||Zv,vote:null,isAdmin:!1})},g=async S=>{n&&await sc(Sa(xa,`sessions/${n}/participants/${i}`),{vote:S})},m=async()=>{n&&await sc(Sa(xa,`sessions/${n}`),{revealed:!0})},_=async()=>{if(!n||!o)return;const S={};Object.keys(o.participants).forEach(E=>{S[`participants/${E}/vote`]=null}),await sc(Sa(xa,`sessions/${n}`),{...S,revealed:!1})};if(!n)return Vt.jsxs("div",{className:"container",children:[Vt.jsx("input",{value:e,onChange:S=>localStorage.setItem("userName",S.target.value),placeholder:"Your name"}),Vt.jsx("button",{onClick:h,children:"Create New Session"}),Vt.jsx("div",{className:"or",children:"OR"}),Vt.jsx("input",{value:n,onChange:S=>t(S.target.value),placeholder:"Enter session ID"}),Vt.jsx("button",{onClick:f,children:"Join Session"})]});if(!o)return Vt.jsx("div",{children:"Loading..."});const y=Object.values(o.participants).filter(S=>S.vote&&!S.isAdmin).map(S=>S.vote),v=bc.reduce((S,E)=>(S[E]=0,S),{});return y.forEach(S=>{S&&(v[S]=(v[S]||0)+1)}),Vt.jsxs("div",{className:"container",children:[Vt.jsxs("h2",{children:["Session: ",n]}),c&&Vt.jsxs("div",{className:"admin-controls",children:[Vt.jsx("button",{onClick:m,children:"Reveal Votes"}),Vt.jsx("button",{onClick:_,children:"Reset Session"})]}),o.revealed&&Vt.jsxs("div",{className:"results",children:[Vt.jsxs("h3",{children:["Average:"," ",(y.reduce((S,E)=>S+(Number(E)||0),0)/y.length).toFixed(1)]}),Vt.jsx(_k,{data:{labels:bc,datasets:[{label:"Votes",data:bc.map(S=>v[S]),backgroundColor:"#2196f3"}]}})]}),Vt.jsx("div",{className:"voting-grid",children:bc.map(S=>{var E;return Vt.jsx("button",{onClick:()=>g(S),className:((E=o.participants[i])==null?void 0:E.vote)===S?"selected":"",children:S},S)})}),Vt.jsxs("div",{className:"participants",children:[Vt.jsxs("h3",{children:["Participants (",Object.keys(o.participants).length,"/25)"]}),Object.entries(o.participants).map(([S,E])=>Vt.jsxs("div",{className:"participant",children:[Vt.jsxs("span",{children:[E.name,E.isAdmin?" 👑":""]}),o.revealed?Vt.jsx("span",{children:E.vote||"❌"}):Vt.jsx("span",{children:E.vote?"✅":"❌"})]},S))]})]})}tC.createRoot(document.getElementById("root")).render(Vt.jsx(me.StrictMode,{children:Vt.jsx(yk,{})}));
